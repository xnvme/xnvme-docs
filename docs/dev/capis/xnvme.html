<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>xnvme &mdash; xNVMe 0.1.0 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="xnvme_file" href="xnvme_file.html" />
    <link rel="prev" title="C API" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> xNVMe
          </a>
              <div class="version">
                0.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">C API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">xnvme</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#header">Header</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enums">Enums</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumerate-action">xnvme_enumerate_action</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-pr">xnvme_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-opts">xnvme_queue_opts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#structs">Structs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-be-attr">xnvme_be_attr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-be-attr-list">xnvme_be_attr_list</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-ctx">xnvme_cmd_ctx</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumeration">xnvme_enumeration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-ident">xnvme_ident</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-range">xnvme_lba_range</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-opts">xnvme_opts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer">xnvme_timer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#functions">Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-ilog2">XNVME_ILOG2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-max">XNVME_MAX</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-min">XNVME_MIN</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-min-s64">XNVME_MIN_S64</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-min-u64">XNVME_MIN_U64</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-be-attr-fpr">xnvme_be_attr_fpr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-be-attr-list-bundled">xnvme_be_attr_list_bundled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-be-attr-list-fpr">xnvme_be_attr_list_fpr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-be-attr-list-pr">xnvme_be_attr_list_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-be-attr-pr">xnvme_be_attr_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-alloc">xnvme_buf_alloc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-free">xnvme_buf_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-phys-alloc">xnvme_buf_phys_alloc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-phys-free">xnvme_buf_phys_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-phys-realloc">xnvme_buf_phys_realloc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-realloc">xnvme_buf_realloc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-virt-alloc">xnvme_buf_virt_alloc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-virt-free">xnvme_buf_virt_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-vtophys">xnvme_buf_vtophys</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-ctx-clear">xnvme_cmd_ctx_clear</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-ctx-cpl-status">xnvme_cmd_ctx_cpl_status</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-ctx-from-dev">xnvme_cmd_ctx_from_dev</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-ctx-from-queue">xnvme_cmd_ctx_from_queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-ctx-pr">xnvme_cmd_ctx_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-ctx-set-cb">xnvme_cmd_ctx_set_cb</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-pass">xnvme_cmd_pass</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-pass-admin">xnvme_cmd_pass_admin</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-passv">xnvme_cmd_passv</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumerate">xnvme_enumerate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumeration-alloc">xnvme_enumeration_alloc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumeration-append">xnvme_enumeration_append</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumeration-fpp">xnvme_enumeration_fpp</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumeration-fpr">xnvme_enumeration_fpr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumeration-free">xnvme_enumeration_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumeration-pp">xnvme_enumeration_pp</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumeration-pr">xnvme_enumeration_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-ident-fpr">xnvme_ident_fpr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-ident-from-uri">xnvme_ident_from_uri</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-ident-pr">xnvme_ident_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-is-pow2">xnvme_is_pow2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-fpr">xnvme_lba_fpr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-fprn">xnvme_lba_fprn</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-pr">xnvme_lba_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-prn">xnvme_lba_prn</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-range-fpr">xnvme_lba_range_fpr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-range-from-offset-nbytes">xnvme_lba_range_from_offset_nbytes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-range-from-slba-elba">xnvme_lba_range_from_slba_elba</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-range-from-slba-naddrs">xnvme_lba_range_from_slba_naddrs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-range-from-zdescr">xnvme_lba_range_from_zdescr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-range-pr">xnvme_lba_range_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-libconf-fpr">xnvme_libconf_fpr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-libconf-pr">xnvme_libconf_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-opts-default">xnvme_opts_default</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-drain">xnvme_queue_drain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-get-capacity">xnvme_queue_get_capacity</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-get-cmd-ctx">xnvme_queue_get_cmd_ctx</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-get-outstanding">xnvme_queue_get_outstanding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-init">xnvme_queue_init</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-poke">xnvme_queue_poke</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-put-cmd-ctx">xnvme_queue_put_cmd_ctx</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-set-cb">xnvme_queue_set_cb</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-term">xnvme_queue_term</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-wait">xnvme_queue_wait</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-bw-pr">xnvme_timer_bw_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-elapsed">xnvme_timer_elapsed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-elapsed-msecs">xnvme_timer_elapsed_msecs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-elapsed-nsecs">xnvme_timer_elapsed_nsecs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-elapsed-secs">xnvme_timer_elapsed_secs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-elapsed-usecs">xnvme_timer_elapsed_usecs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-pr">xnvme_timer_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-start">xnvme_timer_start</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-stop">xnvme_timer_stop</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_file.html">xnvme_file</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_nvm.html">xnvme_nvm</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_znd.html">xnvme_znd</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_adm.html">xnvme_adm</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_dev.html">xnvme_dev</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_geo.html">xnvme_geo</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_spec.html">xnvme_spec</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_sgl.html">xnvme_sgl</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_3p.html">xnvme_3p</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_ver.html">xnvme_ver</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvmec.html">xnvmec</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">C API: Examples</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">xNVMe</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">C API</a> &raquo;</li>
      <li>xnvme</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/capis/xnvme.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="xnvme">
<span id="sec-c-api-xnvme"></span><h1>xnvme<a class="headerlink" href="#xnvme" title="Permalink to this headline">¶</a></h1>
<div class="section" id="header">
<span id="sec-c-api-xnvme-header"></span><h2>Header<a class="headerlink" href="#header" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * Cross-platform I/O library for NVMe devices</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) Simon A. F. Lund &lt;simon.lund@samsung.com&gt;</span>
<span class="cm"> * Copyright (C) Klaus B. A. Jensen &lt;k.jensen@samsung.com&gt;</span>
<span class="cm"> * SPDX-License-Identifier: Apache-2.0</span>
<span class="cm"> *</span>
<span class="cm"> * @file libxnvme.h</span>
<span class="cm"> */</span>
<span class="cp">#ifndef __LIBXNVME_H</span>
<span class="cp">#define __LIBXNVME_H</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="k">extern</span> <span class="s">&quot;C&quot;</span> <span class="p">{</span>
<span class="cp">#endif</span>

<span class="cp">#include</span> <span class="cpf">&lt;inttypes.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdint.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdbool.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;sys/types.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;sys/queue.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;sys/uio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;libxnvme_be.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;libxnvme_dev.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;libxnvme_buf.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;libxnvme_geo.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;libxnvme_ident.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;libxnvme_spec.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;libxnvme_util.h&gt;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm"> * xNVMe options</span>
<span class="cm"> *</span>
<span class="cm"> * @see xnvme_dev_open()</span>
<span class="cm"> *</span>
<span class="cm"> * @struct xnvme_opts</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="nc">xnvme_opts</span> <span class="p">{</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">be</span><span class="p">;</span>		<span class="c1">///&lt; Backend/system interface to use</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">dev</span><span class="p">;</span>	<span class="c1">///&lt; Device manager/enumerator</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">mem</span><span class="p">;</span>	<span class="c1">///&lt; Memory allocator to use for buffers</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">sync</span><span class="p">;</span>	<span class="c1">///&lt; Synchronous Command-interface</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">async</span><span class="p">;</span>	<span class="c1">///&gt; Asynchronous Command-interface</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">admin</span><span class="p">;</span>	<span class="c1">///&lt; Administrative Command-interface</span>
	<span class="kt">uint32_t</span> <span class="n">nsid</span><span class="p">;</span>		<span class="c1">///&lt; Namespace identifier</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="nl">rdonly</span>		<span class="p">:</span> <span class="mi">1</span><span class="p">;</span>	<span class="c1">///&lt; OS open; read-only</span>
			<span class="kt">uint32_t</span> <span class="nl">wronly</span>		<span class="p">:</span> <span class="mi">1</span><span class="p">;</span>	<span class="c1">///&lt; OS open; write-only</span>
			<span class="kt">uint32_t</span> <span class="nl">rdwr</span>		<span class="p">:</span> <span class="mi">1</span><span class="p">;</span>	<span class="c1">///&lt; OS open; for read and only</span>
			<span class="kt">uint32_t</span> <span class="nl">create</span>		<span class="p">:</span> <span class="mi">1</span><span class="p">;</span>	<span class="c1">///&lt; OS open; create if it does not exist</span>
			<span class="kt">uint32_t</span> <span class="nl">truncate</span>	<span class="p">:</span> <span class="mi">1</span><span class="p">;</span>	<span class="c1">///&lt; OS open; truncate content</span>
			<span class="kt">uint32_t</span> <span class="nl">direct</span>		<span class="p">:</span> <span class="mi">1</span><span class="p">;</span>	<span class="c1">///&lt; OS open; attempt bypass OS-caching</span>
			<span class="kt">uint32_t</span> <span class="nl">_rsvd</span>		<span class="p">:</span> <span class="mi">26</span><span class="p">;</span>
		<span class="p">};</span>
		<span class="kt">uint32_t</span> <span class="n">oflags</span><span class="p">;</span>
	<span class="p">};</span>
	<span class="kt">uint32_t</span> <span class="n">create_mode</span><span class="p">;</span>		<span class="c1">///&lt; OS file creation-mode</span>
	<span class="kt">uint8_t</span> <span class="n">poll_io</span><span class="p">;</span>		<span class="c1">///&lt; io_uring: enable io-polling</span>
	<span class="kt">uint8_t</span> <span class="n">poll_sq</span><span class="p">;</span>		<span class="c1">///&lt; io_uring: enable sqthread-polling</span>
	<span class="kt">uint8_t</span> <span class="n">register_files</span><span class="p">;</span>		<span class="c1">///&lt; io_uring: enable file-regirations</span>
	<span class="kt">uint8_t</span> <span class="n">register_buffers</span><span class="p">;</span>	<span class="c1">///&lt; io_uring: enable buffer-registration</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="kt">uint32_t</span> <span class="nl">value</span>	<span class="p">:</span> <span class="mi">31</span><span class="p">;</span>
		<span class="kt">uint32_t</span> <span class="nl">given</span>	<span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">css</span><span class="p">;</span>			<span class="c1">///&lt; SPDK controller-setup: do command-set-selection</span>
	<span class="kt">uint32_t</span> <span class="n">use_cmb_sqs</span><span class="p">;</span>	<span class="c1">///&lt; SPDK controller-setup: use controller-memory-buffer for sq</span>
	<span class="kt">uint32_t</span> <span class="n">shm_id</span><span class="p">;</span>	<span class="c1">///&lt; SPDK multi-processing: shared-memory-id</span>
	<span class="kt">uint32_t</span> <span class="n">main_core</span><span class="p">;</span>	<span class="c1">///&lt; SPDK multi-processing: main-core</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">core_mask</span><span class="p">;</span>	<span class="c1">///&lt; SPDK multi-processing: core-mask</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">adrfam</span><span class="p">;</span>	<span class="c1">///&lt; SPDK fabrics: address-family, IPv4/IPv6</span>
	<span class="kt">uint32_t</span> <span class="n">spdk_fabrics</span><span class="p">;</span>	<span class="c1">///&lt; Is assigned a value by backend if SPDK uses fabrics</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Returns an initialized option-struct with default values</span>
<span class="cm"> *</span>
<span class="cm"> * @return Zero-initialized and with default values where applicable</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="nc">xnvme_opts</span>
<span class="n">xnvme_opts_default</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Opaque device handle.</span>
<span class="cm"> *</span>
<span class="cm"> * @see xnvme_dev_open()</span>
<span class="cm"> *</span>
<span class="cm"> * @struct xnvme_dev</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="nc">xnvme_dev</span><span class="p">;</span>

<span class="k">enum</span> <span class="n">xnvme_enumerate_action</span> <span class="p">{</span>
	<span class="n">XNVME_ENUMERATE_DEV_KEEP_OPEN</span> <span class="o">=</span> <span class="mh">0x0</span><span class="p">,</span>	<span class="c1">///&lt; Keep device-handle open after callback returns</span>
	<span class="n">XNVME_ENUMERATE_DEV_CLOSE</span> <span class="o">=</span> <span class="mh">0x1</span>		<span class="c1">///&lt; Close device-handle when callback returns</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Signature of callback function used with &#39;xnvme_enumerate&#39; invoked for each discoved device</span>
<span class="cm"> *</span>
<span class="cm"> * The callback function signals whether the device-handle it receives should by closed, that is,</span>
<span class="cm"> * backend with invoke &#39;xnvme_dev_close(), after the callback returns or kept open. In the latter</span>
<span class="cm"> * case then it is up to the user to invoke &#39;xnvme_dev_close()&#39; on the device-handle.</span>
<span class="cm"> *</span>
<span class="cm"> * Each signal is represented by the enum #xnvme_enumerate_action, and the values</span>
<span class="cm"> * XNVME_ENUMERATE_DEV_KEEP_OPEN or XNVME_ENUMERATE_DEV_CLOSE.</span>
<span class="cm"> */</span>
<span class="k">typedef</span> <span class="nf">int</span> <span class="p">(</span><span class="o">*</span><span class="n">xnvme_enumerate_cb</span><span class="p">)(</span><span class="k">struct</span> <span class="nc">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">cb_args</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * enumerate devices</span>
<span class="cm"> *</span>
<span class="cm"> * @param sys_uri URI of the system to enumerate, when NULL, localhost/PCIe</span>
<span class="cm"> * @param opts Options for instrumenting the runtime during enumeration</span>
<span class="cm"> * @param cb_func Callback function to invoke for each yielded device</span>
<span class="cm"> * @param cb_args Arguments passed to the callback function</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_enumerate</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">sys_uri</span><span class="p">,</span> <span class="k">struct</span> <span class="nc">xnvme_opts</span> <span class="o">*</span><span class="n">opts</span><span class="p">,</span> <span class="n">xnvme_enumerate_cb</span> <span class="n">cb_func</span><span class="p">,</span>
		<span class="kt">void</span> <span class="o">*</span><span class="n">cb_args</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Creates a device handle (::xnvme_dev) based on the given device-uri</span>
<span class="cm"> *</span>
<span class="cm"> * @param dev_uri File path &quot;/dev/nvme0n1&quot; or &quot;0000:04.01&quot;</span>
<span class="cm"> * @param opts Options for library backend and system-interfaces</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, a handle to the device. On error, NULL is returned and `errno` set to</span>
<span class="cm"> * indicate the error.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="nc">xnvme_dev</span> <span class="o">*</span>
<span class="n">xnvme_dev_open</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">dev_uri</span><span class="p">,</span> <span class="k">struct</span> <span class="nc">xnvme_opts</span> <span class="o">*</span><span class="n">opts</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Destroy the given device handle (::xnvme_dev)</span>
<span class="cm"> *</span>
<span class="cm"> * @param dev Device handle obtained with xnvme_dev_open()</span>
<span class="cm"> */</span>
<span class="kt">void</span>
<span class="nf">xnvme_dev_close</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Allocate a buffer for IO with the given device</span>
<span class="cm"> *</span>
<span class="cm"> * The buffer will be aligned to device geometry and DMA allocated if required by the backend for</span>
<span class="cm"> * command payloads</span>
<span class="cm"> *</span>
<span class="cm"> * @note</span>
<span class="cm"> * nbytes must be greater than zero and a multiple of minimal granularity</span>
<span class="cm"> * @note</span>
<span class="cm"> * De-allocate the buffer using xnvme_buf_free()</span>
<span class="cm"> *</span>
<span class="cm"> * @param dev Device handle obtained with xnvme_dev_open()</span>
<span class="cm"> * @param nbytes The size of the allocated buffer in bytes</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, a pointer to the allocated memory is returned. On error, NULL is returned</span>
<span class="cm"> * and `errno` set to indicate the error.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="o">*</span>
<span class="nf">xnvme_buf_alloc</span><span class="p">(</span><span class="k">const</span> <span class="k">struct</span> <span class="nc">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">nbytes</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Reallocate a buffer for IO with the given device</span>
<span class="cm"> *</span>
<span class="cm"> * The buffer will be aligned to device geometry and DMA allocated if required by the backend for</span>
<span class="cm"> * IO</span>
<span class="cm"> *</span>
<span class="cm"> * @note</span>
<span class="cm"> * nbytes must be greater than zero and a multiple of minimal granularity</span>
<span class="cm"> * @note</span>
<span class="cm"> * De-allocate the buffer using xnvme_buf_free()</span>
<span class="cm"> *</span>
<span class="cm"> * @param dev Device handle obtained with xnvme_dev_open()</span>
<span class="cm"> * @param buf The buffer to reallocate</span>
<span class="cm"> * @param nbytes The size of the allocated buffer in bytes</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, a pointer to the allocated memory is returned. On error, NULL is returned</span>
<span class="cm"> * and `errno` set to indicate the error.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="o">*</span>
<span class="nf">xnvme_buf_realloc</span><span class="p">(</span><span class="k">const</span> <span class="k">struct</span> <span class="nc">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">nbytes</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Free the given IO buffer allocated with xnvme_buf_alloc()</span>
<span class="cm"> *</span>
<span class="cm"> * @param dev Device handle obtained with xnvme_dev_open()</span>
<span class="cm"> * @param buf Pointer to a buffer allocated with xnvme_buf_alloc()</span>
<span class="cm"> */</span>
<span class="kt">void</span>
<span class="nf">xnvme_buf_free</span><span class="p">(</span><span class="k">const</span> <span class="k">struct</span> <span class="nc">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">buf</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Opaque Command Queue Handle to be initialized by xnvme_queue_init()</span>
<span class="cm"> *</span>
<span class="cm"> * @see xnvme_queue_init</span>
<span class="cm"> * @see xnvme_queue_term</span>
<span class="cm"> *</span>
<span class="cm"> * @struct xnvme_queue</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="nc">xnvme_queue</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Command Queue initialization options</span>
<span class="cm"> *</span>
<span class="cm"> * @enum xnvme_queue_opts</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">xnvme_queue_opts</span> <span class="p">{</span>
	<span class="n">XNVME_QUEUE_IOPOLL</span> <span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span>       <span class="c1">///&lt; XNVME_QUEUE_IOPOLL: queue. is polled for completions</span>
	<span class="n">XNVME_QUEUE_SQPOLL</span> <span class="o">=</span> <span class="mh">0x1</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1">///&lt; XNVME_QUEUE_SQPOLL: queue. is polled for submissions</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Allocate a Command Queue for asynchronous command submission and completion</span>
<span class="cm"> *</span>
<span class="cm"> * @param dev Device handle (::xnvme_dev) obtained with xnvme_dev_open()</span>
<span class="cm"> * @param capacity Maximum number of outstanding commands on the initialized queue, note that it</span>
<span class="cm"> * must be a power of 2 within the range [1,4096]</span>
<span class="cm"> * @param opts Queue options</span>
<span class="cm"> * @param queue Pointer-pointer to the ::xnvme_queue to initialize</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_queue_init</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">capacity</span><span class="p">,</span> <span class="kt">int</span> <span class="n">opts</span><span class="p">,</span> <span class="k">struct</span> <span class="nc">xnvme_queue</span> <span class="o">**</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Get the capacity of the given ::xnvme_queue</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to query for capacity</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, capacity of given ::xnvme_queue text is returned. On error, 0 is returned</span>
<span class="cm"> * e.g. errors are silent</span>
<span class="cm"> */</span>
<span class="kt">uint32_t</span>
<span class="nf">xnvme_queue_get_capacity</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Get the number of outstanding commands on the given ::xnvme_queue</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to query for outstanding commands</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, number of outstanding commands are returned. On error, 0 is returned e.g.</span>
<span class="cm"> * errors are silent</span>
<span class="cm"> */</span>
<span class="kt">uint32_t</span>
<span class="nf">xnvme_queue_get_outstanding</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Tear down the given ::xnvme_queue</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to tear down</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_queue_term</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Process completions of commands on the given ::xnvme_queue</span>
<span class="cm"> *</span>
<span class="cm"> * Set process &#39;max&#39; to limit number of completions, 0 means no max.</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to poke for completions</span>
<span class="cm"> * @param max The max number of completions to complete</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, number of completions processed, may be 0. On error, negative `errno` is</span>
<span class="cm"> * returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_queue_poke</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">max</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Process outstanding commands on the given ::xnvme_queue until it is empty</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to wait/process commands on</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, number of commands processed, may be 0. On error, negative `errno` is</span>
<span class="cm"> * returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_queue_drain</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * DEPRECATED: expect that this function will be removed in an upcoming release</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to wait/process commands on</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, number of commands processed, may be 0. On error, negative `errno` is</span>
<span class="cm"> * returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_queue_wait</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Retrieve a command-context from the given queue for async. command execution with the queue</span>
<span class="cm"> *</span>
<span class="cm"> * @note The command-context is managed by the queue, thus, return it to the queue via</span>
<span class="cm"> * ::xnvme_queue_put_cmd_ctx</span>
<span class="cm"> *</span>
<span class="cm"> * @note This is not thread-safe</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to retrieve a command-context for</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, a command-context is returned. On error, NULL is returned and `errno` is set</span>
<span class="cm"> * to indicate the error.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="nc">xnvme_cmd_ctx</span> <span class="o">*</span>
<span class="n">xnvme_queue_get_cmd_ctx</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Hand back a command-context previously retrieve using ::xnvme_queue_get_cmd_ctx</span>
<span class="cm"> *</span>
<span class="cm"> * @note This function is not thread-safe</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to hand back the command-context to</span>
<span class="cm"> * @param ctx Pointer to command context (::xnvme_cmd_ctx)</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_queue_put_cmd_ctx</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">,</span> <span class="k">struct</span> <span class="nc">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Signature of function used with Command Queues for async. callback upon command-completion</span>
<span class="cm"> */</span>
<span class="k">typedef</span> <span class="nf">void</span> <span class="p">(</span><span class="o">*</span><span class="n">xnvme_queue_cb</span><span class="p">)(</span><span class="k">struct</span> <span class="nc">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">opaque</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * The xNVMe Command Context</span>
<span class="cm"> *</span>
<span class="cm"> * @struct xnvme_cmd_ctx</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="nc">xnvme_cmd_ctx</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="nc">xnvme_spec_cmd</span> <span class="n">cmd</span><span class="p">;</span>		<span class="c1">///&lt; Command to be processed</span>
	<span class="k">struct</span> <span class="nc">xnvme_spec_cpl</span> <span class="n">cpl</span><span class="p">;</span>		<span class="c1">///&lt; Completion result from processing</span>

	<span class="k">struct</span> <span class="nc">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">;</span>			<span class="c1">///&lt; Device associated with the command</span>

	<span class="c1">///&lt; Fields for command option: XNVME_CMD_ASYNC</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="nc">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">;</span>	<span class="c1">///&lt; Queue used for command processing</span>
		<span class="n">xnvme_queue_cb</span> <span class="n">cb</span><span class="p">;</span>		<span class="c1">///&lt; User defined callback function</span>
		<span class="kt">void</span> <span class="o">*</span><span class="n">cb_arg</span><span class="p">;</span>			<span class="c1">///&lt; User defined callback function arguments</span>
	<span class="p">}</span> <span class="n">async</span><span class="p">;</span>

	<span class="c1">///&lt; Field containing command-options, the field is initialized by helper-functions</span>
	<span class="kt">uint32_t</span> <span class="n">opts</span><span class="p">;</span>

	<span class="kt">uint8_t</span> <span class="n">be_rsvd</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>		<span class="c1">///&lt; Fields reserved for use by library internals</span>

	<span class="c1">///&lt; Field for including the command-context in BSD-style singly-linked-lists (SLIST)</span>
	<span class="n">SLIST_ENTRY</span><span class="p">(</span><span class="n">xnvme_cmd_ctx</span><span class="p">)</span> <span class="n">link</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Assign a callback-function and argument to be used with the given command-context</span>
<span class="cm"> *</span>
<span class="cm"> * @param ctx Pointer to the ::xnvme_cmd_ctx to setup callback for</span>
<span class="cm"> * @param cb The callback function to use</span>
<span class="cm"> * @param cb_arg The callback argument to use</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span>
<span class="n">xnvme_cmd_ctx_set_cb</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="n">xnvme_queue_cb</span> <span class="n">cb</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">cb_arg</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">ctx</span><span class="o">-&gt;</span><span class="n">async</span><span class="p">.</span><span class="n">cb</span> <span class="o">=</span> <span class="n">cb</span><span class="p">;</span>
	<span class="n">ctx</span><span class="o">-&gt;</span><span class="n">async</span><span class="p">.</span><span class="n">cb_arg</span> <span class="o">=</span> <span class="n">cb_arg</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * Assign a callback-function and argument to be used with the ::xnvme_cmd_ctx of the queue</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue The ::xnvme_queue to assign default callback function for</span>
<span class="cm"> * @param cb The callback function to use</span>
<span class="cm"> * @param cb_arg The callback argument to use</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="n">xnvme_queue_set_cb</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">,</span> <span class="n">xnvme_queue_cb</span> <span class="n">cb</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">cb_arg</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Retrieve a command-context for issuing commands to the given device</span>
<span class="cm"> *</span>
<span class="cm"> * @param dev Device handle (::xnvme_dev) obtained with xnvme_dev_open()</span>
<span class="cm"> *</span>
<span class="cm"> * @return A ::xnvme_cmd_ctx initialized synchronous command on the given device</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="nc">xnvme_cmd_ctx</span>
<span class="n">xnvme_cmd_ctx_from_dev</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Retrieve a command-text for issuing commands via the given queue</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to retrieve a command-context for</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, a pointer to a ::xnvme_cmd_ctx is returned. On error, NULL is returned and</span>
<span class="cm"> * `errno` set to indicate the error.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="nc">xnvme_cmd_ctx</span> <span class="o">*</span>
<span class="n">xnvme_cmd_ctx_from_queue</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Clears/resets the given ::xnvme_cmd_ctx</span>
<span class="cm"> *</span>
<span class="cm"> * @param ctx Pointer to the ::xnvme_cmd_ctx to clear</span>
<span class="cm"> */</span>
<span class="kt">void</span>
<span class="nf">xnvme_cmd_ctx_clear</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Encapsulate completion-error checking here for now.</span>
<span class="cm"> *</span>
<span class="cm"> * @param ctx Pointer to the ::xnvme_cmd_ctx to check status on</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is return. On error, a non-zero value is returned.</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span>
<span class="n">xnvme_cmd_ctx_cpl_status</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">ctx</span><span class="o">-&gt;</span><span class="n">cpl</span><span class="p">.</span><span class="n">status</span><span class="p">.</span><span class="n">sc</span> <span class="o">||</span> <span class="n">ctx</span><span class="o">-&gt;</span><span class="n">cpl</span><span class="p">.</span><span class="n">status</span><span class="p">.</span><span class="n">sct</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * Pass an NVMe IO Command through to the device via the given ::xnvme_cmd_ctx</span>
<span class="cm"> *</span>
<span class="cm"> * @param ctx Pointer to command context (::xnvme_cmd_ctx)</span>
<span class="cm"> * @param dbuf pointer to data-payload</span>
<span class="cm"> * @param dbuf_nbytes size of data-payload in bytes</span>
<span class="cm"> * @param mbuf pointer to meta-payload</span>
<span class="cm"> * @param mbuf_nbytes size of the meta-payload in bytes</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="n">xnvme_cmd_pass</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">dbuf</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">dbuf_nbytes</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">mbuf</span><span class="p">,</span>
	       <span class="kt">size_t</span> <span class="n">mbuf_nbytes</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Pass a vectored NVMe IO Command through to the device via the given ::xnvme_cmd_ctx</span>
<span class="cm"> *</span>
<span class="cm"> * @param ctx Pointer to command context (::xnvme_cmd_ctx)</span>
<span class="cm"> * @param dvec array of data iovecs</span>
<span class="cm"> * @param dvec_cnt number of elements in dvec</span>
<span class="cm"> * @param mvec array of metadata iovecs</span>
<span class="cm"> * @param mvec_cnt number of elements in mvec</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_cmd_passv</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="k">struct</span> <span class="nc">iovec</span> <span class="o">*</span><span class="n">dvec</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">dvec_cnt</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">dvec_nbytes</span><span class="p">,</span>
		<span class="k">struct</span> <span class="nc">iovec</span> <span class="o">*</span><span class="n">mvec</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">mvec_cnt</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">mvec_nbytes</span><span class="p">);</span>


<span class="cm">/**</span>
<span class="cm"> * Pass a NVMe Admin Command through to the device with minimal intervention</span>
<span class="cm"> *</span>
<span class="cm"> * @param ctx Pointer to command context (::xnvme_cmd_ctx)</span>
<span class="cm"> * @param dbuf pointer to data-payload</span>
<span class="cm"> * @param dbuf_nbytes size of data-payload in bytes</span>
<span class="cm"> * @param mbuf pointer to meta-payload</span>
<span class="cm"> * @param mbuf_nbytes size of the meta-payload in bytes</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_cmd_pass_admin</span><span class="p">(</span><span class="k">struct</span> <span class="nc">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">dbuf</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">dbuf_nbytes</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">mbuf</span><span class="p">,</span>
		     <span class="kt">size_t</span> <span class="n">mbuf_nbytes</span><span class="p">);</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#endif </span><span class="cm">/* __LIBXNVME_H */</span><span class="cp"></span>
</pre></div>
</div>
</div>
<div class="section" id="enums">
<span id="sec-c-api-xnvme-enum"></span><h2>Enums<a class="headerlink" href="#enums" title="Permalink to this headline">¶</a></h2>
<div class="section" id="xnvme-enumerate-action">
<span id="sec-c-api-xnvme-enum-xnvme-enumerate-action"></span><h3>xnvme_enumerate_action<a class="headerlink" href="#xnvme-enumerate-action" title="Permalink to this headline">¶</a></h3>
<dl class="c enum">
<dt id="c.xnvme_enumerate_action">
<span class="target" id="libxnvme_8h_1a071cc8f8351fc00bbacb335adcf01f5d"></span><em class="property">enum </em><code class="sig-name descname">xnvme_enumerate_action</code><a class="headerlink" href="#c.xnvme_enumerate_action" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="c enumerator">
<dt id="c.xnvme_enumerate_action.XNVME_ENUMERATE_DEV_KEEP_OPEN">
<span class="target" id="libxnvme_8h_1a071cc8f8351fc00bbacb335adcf01f5daf0c1b65848cb8f47b5f07eeb0d8a2122"></span><em class="property">enumerator </em><code class="sig-name descname">XNVME_ENUMERATE_DEV_KEEP_OPEN</code><a class="headerlink" href="#c.xnvme_enumerate_action.XNVME_ENUMERATE_DEV_KEEP_OPEN" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Keep device-handle open after callback returns. </p>
</dd></dl>

<dl class="c enumerator">
<dt id="c.xnvme_enumerate_action.XNVME_ENUMERATE_DEV_CLOSE">
<span class="target" id="libxnvme_8h_1a071cc8f8351fc00bbacb335adcf01f5da5b232725955e879d44646af6e6fdada2"></span><em class="property">enumerator </em><code class="sig-name descname">XNVME_ENUMERATE_DEV_CLOSE</code><a class="headerlink" href="#c.xnvme_enumerate_action.XNVME_ENUMERATE_DEV_CLOSE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Close device-handle when callback returns. </p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="xnvme-pr">
<span id="sec-c-api-xnvme-enum-xnvme-pr"></span><h3>xnvme_pr<a class="headerlink" href="#xnvme-pr" title="Permalink to this headline">¶</a></h3>
<dl class="c enum">
<dt id="c.xnvme_pr">
<span class="target" id="libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"></span><em class="property">enum </em><code class="sig-name descname">xnvme_pr</code><a class="headerlink" href="#c.xnvme_pr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Options for pretty-printer (<code class="docutils literal notranslate"><span class="pre">*_pr</span></code>, <code class="docutils literal notranslate"><span class="pre">*_fpr</span></code>) functions. </p>
<p><dl class="simple">
<dt><strong>See</strong></dt><dd><p>libxnvme_pp.h </p>
</dd>
</dl>
</p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt id="c.xnvme_pr.XNVME_PR_DEF">
<span class="target" id="libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21a92b23c5620e7067c129b36a2621c556c"></span><em class="property">enumerator </em><code class="sig-name descname">XNVME_PR_DEF</code><a class="headerlink" href="#c.xnvme_pr.XNVME_PR_DEF" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>XNVME_PR_DEF: Default options. </p>
</dd></dl>

<dl class="c enumerator">
<dt id="c.xnvme_pr.XNVME_PR_YAML">
<span class="target" id="libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21a6c96b6fcc0aad965edec471583ff0583"></span><em class="property">enumerator </em><code class="sig-name descname">XNVME_PR_YAML</code><a class="headerlink" href="#c.xnvme_pr.XNVME_PR_YAML" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>XNVME_PR_YAML: Print formatted as YAML. </p>
</dd></dl>

<dl class="c enumerator">
<dt id="c.xnvme_pr.XNVME_PR_TERSE">
<span class="target" id="libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21a56dab462e1cf1df22929406429e10d25"></span><em class="property">enumerator </em><code class="sig-name descname">XNVME_PR_TERSE</code><a class="headerlink" href="#c.xnvme_pr.XNVME_PR_TERSE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>XNVME_PR_TERSE: Print without formatting. </p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="xnvme-queue-opts">
<span id="sec-c-api-xnvme-enum-xnvme-queue-opts"></span><h3>xnvme_queue_opts<a class="headerlink" href="#xnvme-queue-opts" title="Permalink to this headline">¶</a></h3>
<dl class="c enum">
<dt id="c.xnvme_queue_opts">
<span class="target" id="libxnvme_8h_1a930ace187b1df1033efd50218c3144c6"></span><em class="property">enum </em><code class="sig-name descname">xnvme_queue_opts</code><a class="headerlink" href="#c.xnvme_queue_opts" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Command Queue initialization options. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt id="c.xnvme_queue_opts.XNVME_QUEUE_IOPOLL">
<span class="target" id="libxnvme_8h_1a930ace187b1df1033efd50218c3144c6a235aa67f36d7d7a3f05f4fb77bc1e2a4"></span><em class="property">enumerator </em><code class="sig-name descname">XNVME_QUEUE_IOPOLL</code><a class="headerlink" href="#c.xnvme_queue_opts.XNVME_QUEUE_IOPOLL" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>XNVME_QUEUE_IOPOLL: queue. is polled for completions. </p>
</dd></dl>

<dl class="c enumerator">
<dt id="c.xnvme_queue_opts.XNVME_QUEUE_SQPOLL">
<span class="target" id="libxnvme_8h_1a930ace187b1df1033efd50218c3144c6a5ed83061c4c0b030b9b44304917fd7ea"></span><em class="property">enumerator </em><code class="sig-name descname">XNVME_QUEUE_SQPOLL</code><a class="headerlink" href="#c.xnvme_queue_opts.XNVME_QUEUE_SQPOLL" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>XNVME_QUEUE_SQPOLL: queue. is polled for submissions. </p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="structs">
<span id="sec-c-api-xnvme-struct"></span><h2>Structs<a class="headerlink" href="#structs" title="Permalink to this headline">¶</a></h2>
<div class="section" id="xnvme-be-attr">
<span id="sec-c-api-xnvme-struct-xnvme-be-attr"></span><h3>xnvme_be_attr<a class="headerlink" href="#xnvme-be-attr" title="Permalink to this headline">¶</a></h3>
<dl class="c struct">
<dt id="c.xnvme_be_attr">
<span class="target" id="structxnvme__be__attr"></span><em class="property">struct </em><code class="sig-name descname">xnvme_be_attr</code><a class="headerlink" href="#c.xnvme_be_attr" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="c var">
<dt id="c.xnvme_be_attr.name">
<span class="target" id="structxnvme__be__attr_1a01989b976f8138270ba73c5e36e7aa37"></span><em class="property">const</em> char *<code class="sig-name descname">name</code><a class="headerlink" href="#c.xnvme_be_attr.name" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Backend name. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_be_attr.enabled">
<span class="target" id="structxnvme__be__attr_1a4ecc55d9ee4d3ccf604ec4b13ba895e2"></span>uint8_t <code class="sig-name descname">enabled</code><a class="headerlink" href="#c.xnvme_be_attr.enabled" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Whether the backend is ‘enabled’. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_be_attr._rsvd">
<span class="target" id="structxnvme__be__attr_1ae20223e54f6b93a98b1f22cafdf98af8"></span>uint8_t <code class="sig-name descname">_rsvd</code>[15]<a class="headerlink" href="#c.xnvme_be_attr._rsvd" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="xnvme-be-attr-list">
<span id="sec-c-api-xnvme-struct-xnvme-be-attr-list"></span><h3>xnvme_be_attr_list<a class="headerlink" href="#xnvme-be-attr-list" title="Permalink to this headline">¶</a></h3>
<dl class="c struct">
<dt id="c.xnvme_be_attr_list">
<span class="target" id="structxnvme__be__attr__list"></span><em class="property">struct </em><code class="sig-name descname">xnvme_be_attr_list</code><a class="headerlink" href="#c.xnvme_be_attr_list" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Representation of xNVMe library backend attributes. </p>
<p>List of xNVMe library backend attributes. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="c var">
<dt id="c.xnvme_be_attr_list.capacity">
<span class="target" id="structxnvme__be__attr__list_1a71cf9abd0cfdcf75c888ec72dd1c1d9d"></span>uint32_t <code class="sig-name descname">capacity</code><a class="headerlink" href="#c.xnvme_be_attr_list.capacity" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Remaining unused entries. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_be_attr_list.count">
<span class="target" id="structxnvme__be__attr__list_1a6d391de69e512e1f23841292cc866587"></span>int <code class="sig-name descname">count</code><a class="headerlink" href="#c.xnvme_be_attr_list.count" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of used entries. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_be_attr_list.item">
<span class="target" id="structxnvme__be__attr__list_1ae7f0889285cace4c51a5063809fa56e9"></span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_be_attr" title="xnvme_be_attr">xnvme_be_attr</a> <code class="sig-name descname">item</code>[]<a class="headerlink" href="#c.xnvme_be_attr_list.item" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Array of items. </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-ctx">
<span id="sec-c-api-xnvme-struct-xnvme-cmd-ctx"></span><h3>xnvme_cmd_ctx<a class="headerlink" href="#xnvme-cmd-ctx" title="Permalink to this headline">¶</a></h3>
<dl class="c struct">
<dt id="c.xnvme_cmd_ctx">
<span class="target" id="structxnvme__cmd__ctx"></span><em class="property">struct </em><code class="sig-name descname">xnvme_cmd_ctx</code><a class="headerlink" href="#c.xnvme_cmd_ctx" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The xNVMe Command Context. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="c function">
<dt>
<span class="target" id="structxnvme__cmd__ctx_1a302290c3044c9d2de75d70df5259558b"></span><code class="sig-name descname">SLIST_ENTRY (xnvme_cmd_ctx) link</code></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="c var">
<dt id="c.xnvme_cmd_ctx.cmd">
<span class="target" id="structxnvme__cmd__ctx_1aa41a4f40fc5630fa7f18f842a3b1bc2d"></span><em class="property">struct</em> <a class="reference internal" href="xnvme_spec.html#c.xnvme_spec_cmd" title="xnvme_spec_cmd">xnvme_spec_cmd</a> <code class="sig-name descname">cmd</code><a class="headerlink" href="#c.xnvme_cmd_ctx.cmd" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Command to be processed. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_cmd_ctx.cpl">
<span class="target" id="structxnvme__cmd__ctx_1aebf2ad82a75556ae7e5ce5df22791c21"></span><em class="property">struct</em> <a class="reference internal" href="xnvme_spec.html#c.xnvme_spec_cpl" title="xnvme_spec_cpl">xnvme_spec_cpl</a> <code class="sig-name descname">cpl</code><a class="headerlink" href="#c.xnvme_cmd_ctx.cpl" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Completion result from processing. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_cmd_ctx.dev">
<span class="target" id="structxnvme__cmd__ctx_1a0e4289504093bf9d6c4f6f8d659d2587"></span><em class="property">struct</em> xnvme_dev *<code class="sig-name descname">dev</code><a class="headerlink" href="#c.xnvme_cmd_ctx.dev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Device associated with the command. </p>
<p>Fields for command option: XNVME_CMD_ASYNC </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_cmd_ctx.async">
<span class="target" id="structxnvme__cmd__ctx_1a1927f804130edff17dec92d63024e980"></span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a>.<strong>[anonymous]</strong> <code class="sig-name descname">async</code><a class="headerlink" href="#c.xnvme_cmd_ctx.async" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Field containing command-options, the field is initialized by helper-functions. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_cmd_ctx.opts">
<span class="target" id="structxnvme__cmd__ctx_1af941b88c933a679f72bb575537e2399e"></span>uint32_t <code class="sig-name descname">opts</code><a class="headerlink" href="#c.xnvme_cmd_ctx.opts" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt id="c.xnvme_cmd_ctx.be_rsvd">
<span class="target" id="structxnvme__cmd__ctx_1a86166e8eb06cc746b1a90d94a66ba429"></span>uint8_t <code class="sig-name descname">be_rsvd</code>[4]<a class="headerlink" href="#c.xnvme_cmd_ctx.be_rsvd" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Fields reserved for use by library internals. </p>
<p>Field for including the command-context in BSD-style singly-linked-lists (SLIST) </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="xnvme-enumeration">
<span id="sec-c-api-xnvme-struct-xnvme-enumeration"></span><h3>xnvme_enumeration<a class="headerlink" href="#xnvme-enumeration" title="Permalink to this headline">¶</a></h3>
<dl class="c struct">
<dt id="c.xnvme_enumeration">
<span class="target" id="structxnvme__enumeration"></span><em class="property">struct </em><code class="sig-name descname">xnvme_enumeration</code><a class="headerlink" href="#c.xnvme_enumeration" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>List of devices found on the system usable with xNVMe. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="c var">
<dt id="c.xnvme_enumeration.capacity">
<span class="target" id="structxnvme__enumeration_1a1f2d62f26019c77ee40d353444b35ec8"></span>uint32_t <code class="sig-name descname">capacity</code><a class="headerlink" href="#c.xnvme_enumeration.capacity" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Remaining unused entries. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_enumeration.nentries">
<span class="target" id="structxnvme__enumeration_1a6c354a5ae952d6444c8b4c79530a6e33"></span>uint32_t <code class="sig-name descname">nentries</code><a class="headerlink" href="#c.xnvme_enumeration.nentries" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Used entries. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_enumeration.entries">
<span class="target" id="structxnvme__enumeration_1a5add9efec8801a9fee381219970e92ab"></span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_ident" title="xnvme_ident">xnvme_ident</a> <code class="sig-name descname">entries</code>[]<a class="headerlink" href="#c.xnvme_enumeration.entries" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Device entries. </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="xnvme-ident">
<span id="sec-c-api-xnvme-struct-xnvme-ident"></span><h3>xnvme_ident<a class="headerlink" href="#xnvme-ident" title="Permalink to this headline">¶</a></h3>
<dl class="c struct">
<dt id="c.xnvme_ident">
<span class="target" id="structxnvme__ident"></span><em class="property">struct </em><code class="sig-name descname">xnvme_ident</code><a class="headerlink" href="#c.xnvme_ident" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Representation of device identifiers once decoded from text-representation. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="c var">
<dt id="c.xnvme_ident.uri">
<span class="target" id="structxnvme__ident_1a075460e0d01c56391748affb14afaca2"></span>char <code class="sig-name descname">uri</code>[<code class="sig-name descname">XNVME_IDENT_URI_LEN</code>]<a class="headerlink" href="#c.xnvme_ident.uri" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt id="c.xnvme_ident.dtype">
<span class="target" id="structxnvme__ident_1aa103f86c61a93de9f90505cb563272d4"></span>uint32_t <code class="sig-name descname">dtype</code><a class="headerlink" href="#c.xnvme_ident.dtype" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt id="c.xnvme_ident.nsid">
<span class="target" id="structxnvme__ident_1af78e2d159fdc3aa0501bbe98cf2c684b"></span>uint32_t <code class="sig-name descname">nsid</code><a class="headerlink" href="#c.xnvme_ident.nsid" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt id="c.xnvme_ident.csi">
<span class="target" id="structxnvme__ident_1a322b2d606e59c6eee54f153292791ca9"></span>uint8_t <code class="sig-name descname">csi</code><a class="headerlink" href="#c.xnvme_ident.csi" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt id="c.xnvme_ident.rsvd">
<span class="target" id="structxnvme__ident_1a2e93982c9a34738abd95dba4a571ef4b"></span>uint8_t <code class="sig-name descname">rsvd</code>[3]<a class="headerlink" href="#c.xnvme_ident.rsvd" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-range">
<span id="sec-c-api-xnvme-struct-xnvme-lba-range"></span><h3>xnvme_lba_range<a class="headerlink" href="#xnvme-lba-range" title="Permalink to this headline">¶</a></h3>
<dl class="c struct">
<dt id="c.xnvme_lba_range">
<span class="target" id="structxnvme__lba__range"></span><em class="property">struct </em><code class="sig-name descname">xnvme_lba_range</code><a class="headerlink" href="#c.xnvme_lba_range" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Representation of a range of logical-block-addresses aka LBAs. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="c var">
<dt id="c.xnvme_lba_range.slba">
<span class="target" id="structxnvme__lba__range_1a9d390c5afcd64f09290b7c5f750a2bbe"></span>uint64_t <code class="sig-name descname">slba</code><a class="headerlink" href="#c.xnvme_lba_range.slba" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Range start-LBA; begins at and includes this address. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_lba_range.elba">
<span class="target" id="structxnvme__lba__range_1a84f2cd51e27ea1f24f0306c70782ded6"></span>uint64_t <code class="sig-name descname">elba</code><a class="headerlink" href="#c.xnvme_lba_range.elba" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Range end-LBA; ends at and includes this address. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_lba_range.naddrs">
<span class="target" id="structxnvme__lba__range_1a89c45e97463c22c57769865c5445e722"></span>uint32_t <code class="sig-name descname">naddrs</code><a class="headerlink" href="#c.xnvme_lba_range.naddrs" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of addresses in range [slba, elba]. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_lba_range.nbytes">
<span class="target" id="structxnvme__lba__range_1adffbe51c8c2ed72971e598dbfd23f207"></span>uint64_t <code class="sig-name descname">nbytes</code><a class="headerlink" href="#c.xnvme_lba_range.nbytes" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Number of bytes covered by [slba, elba]. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_lba_range.attr">
<span class="target" id="structxnvme__lba__range_1aae9cf858a0da5d5d43b173f4439a09fd"></span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_lba_range" title="xnvme_lba_range">xnvme_lba_range</a>.<strong>[anonymous]</strong> <code class="sig-name descname">attr</code><a class="headerlink" href="#c.xnvme_lba_range.attr" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="xnvme-opts">
<span id="sec-c-api-xnvme-struct-xnvme-opts"></span><h3>xnvme_opts<a class="headerlink" href="#xnvme-opts" title="Permalink to this headline">¶</a></h3>
<dl class="c struct">
<dt id="c.xnvme_opts">
<span class="target" id="structxnvme__opts"></span><em class="property">struct </em><code class="sig-name descname">xnvme_opts</code><a class="headerlink" href="#c.xnvme_opts" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>xNVMe options </p>
<p><dl class="simple">
<dt><strong>See</strong></dt><dd><p><a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1abfbbe8bb204dcdf2012540a39b1e2796"><span class="std std-ref">xnvme_dev_open()</span></a> </p>
</dd>
</dl>
</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="c var">
<dt id="c.xnvme_opts.be">
<span class="target" id="structxnvme__opts_1ac2cef7607b75a12fb36881ce59a23c27"></span><em class="property">const</em> char *<code class="sig-name descname">be</code><a class="headerlink" href="#c.xnvme_opts.be" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Backend/system interface to use. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.dev">
<span class="target" id="structxnvme__opts_1a5e8ecd12634db77ca7e525b6e564fca6"></span><em class="property">const</em> char *<code class="sig-name descname">dev</code><a class="headerlink" href="#c.xnvme_opts.dev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Device manager/enumerator. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.mem">
<span class="target" id="structxnvme__opts_1ad86efa89a1b1057ae8a18d3ffc6277d1"></span><em class="property">const</em> char *<code class="sig-name descname">mem</code><a class="headerlink" href="#c.xnvme_opts.mem" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Memory allocator to use for buffers. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.sync">
<span class="target" id="structxnvme__opts_1a6fb24346f60e59f49abc1087611fb1a4"></span><em class="property">const</em> char *<code class="sig-name descname">sync</code><a class="headerlink" href="#c.xnvme_opts.sync" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Synchronous Command-interface. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.async">
<span class="target" id="structxnvme__opts_1a05fac6928836f4e226760365f1ce56c7"></span><em class="property">const</em> char *<code class="sig-name descname">async</code><a class="headerlink" href="#c.xnvme_opts.async" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.admin">
<span class="target" id="structxnvme__opts_1a11e2cd8785699b16db9bf60a377b83e2"></span><em class="property">const</em> char *<code class="sig-name descname">admin</code><a class="headerlink" href="#c.xnvme_opts.admin" title="Permalink to this definition">¶</a><br /></dt>
<dd><p></p>
<p>Administrative Command-interface </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.nsid">
<span class="target" id="structxnvme__opts_1a7334232527a9338f0b88662387c173b0"></span>uint32_t <code class="sig-name descname">nsid</code><a class="headerlink" href="#c.xnvme_opts.nsid" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Namespace identifier. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.&#64;1">
<span class="target" id="structxnvme__opts_1aba06e59e5dc350be5aa64c834d171d54"></span><em class="property">union</em> <a class="reference internal" href="#c.xnvme_opts" title="xnvme_opts">xnvme_opts</a>.<strong>[anonymous]</strong> <strong>[anonymous]</strong><a class="headerlink" href="#c.xnvme_opts.@1" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.create_mode">
<span class="target" id="structxnvme__opts_1ae39ac5254ce888d511bd4935006305f2"></span>uint32_t <code class="sig-name descname">create_mode</code><a class="headerlink" href="#c.xnvme_opts.create_mode" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>OS file creation-mode. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.poll_io">
<span class="target" id="structxnvme__opts_1afa0cd5eea3877cfe118e64c65b336d14"></span>uint8_t <code class="sig-name descname">poll_io</code><a class="headerlink" href="#c.xnvme_opts.poll_io" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>io_uring: enable io-polling </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.poll_sq">
<span class="target" id="structxnvme__opts_1aa953a8d94ab030a3242dedd91317e233"></span>uint8_t <code class="sig-name descname">poll_sq</code><a class="headerlink" href="#c.xnvme_opts.poll_sq" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>io_uring: enable sqthread-polling </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.register_files">
<span class="target" id="structxnvme__opts_1a1e820e58db94c9957d5dd4fb636bf7d5"></span>uint8_t <code class="sig-name descname">register_files</code><a class="headerlink" href="#c.xnvme_opts.register_files" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>io_uring: enable file-regirations </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.register_buffers">
<span class="target" id="structxnvme__opts_1a494a46f9a040cc7b5efd8490e79ef70e"></span>uint8_t <code class="sig-name descname">register_buffers</code><a class="headerlink" href="#c.xnvme_opts.register_buffers" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>io_uring: enable buffer-registration </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.css">
<span class="target" id="structxnvme__opts_1aa65592f6bc5e10c7c6dc41188ea1e0b0"></span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_opts" title="xnvme_opts">xnvme_opts</a>.<strong>[anonymous]</strong> <code class="sig-name descname">css</code><a class="headerlink" href="#c.xnvme_opts.css" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>SPDK controller-setup: do command-set-selection. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.use_cmb_sqs">
<span class="target" id="structxnvme__opts_1a6fac3d25e5df9998f50df4245e5e78dc"></span>uint32_t <code class="sig-name descname">use_cmb_sqs</code><a class="headerlink" href="#c.xnvme_opts.use_cmb_sqs" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>SPDK controller-setup: use controller-memory-buffer for sq. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.shm_id">
<span class="target" id="structxnvme__opts_1a51f070e3001f4fb9a649dab1734f669d"></span>uint32_t <code class="sig-name descname">shm_id</code><a class="headerlink" href="#c.xnvme_opts.shm_id" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>SPDK multi-processing: shared-memory-id. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.main_core">
<span class="target" id="structxnvme__opts_1a17e5ddee3c6e128536eb432507bc2b98"></span>uint32_t <code class="sig-name descname">main_core</code><a class="headerlink" href="#c.xnvme_opts.main_core" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>SPDK multi-processing: main-core. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.core_mask">
<span class="target" id="structxnvme__opts_1a64a42727157ccdf7ed075e862ff7f4d2"></span><em class="property">const</em> char *<code class="sig-name descname">core_mask</code><a class="headerlink" href="#c.xnvme_opts.core_mask" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>SPDK multi-processing: core-mask. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.adrfam">
<span class="target" id="structxnvme__opts_1a85cecfbb8396f78e2e1ecdebbe673c87"></span><em class="property">const</em> char *<code class="sig-name descname">adrfam</code><a class="headerlink" href="#c.xnvme_opts.adrfam" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>SPDK fabrics: address-family, IPv4/IPv6. </p>
</dd></dl>

<dl class="c var">
<dt id="c.xnvme_opts.spdk_fabrics">
<span class="target" id="structxnvme__opts_1a599279484f8e1f5b8ff0471af9c19f12"></span>uint32_t <code class="sig-name descname">spdk_fabrics</code><a class="headerlink" href="#c.xnvme_opts.spdk_fabrics" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Is assigned a value by backend if SPDK uses fabrics. </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="xnvme-timer">
<span id="sec-c-api-xnvme-struct-xnvme-timer"></span><h3>xnvme_timer<a class="headerlink" href="#xnvme-timer" title="Permalink to this headline">¶</a></h3>
<dl class="c struct">
<dt id="c.xnvme_timer">
<span class="target" id="structxnvme__timer"></span><em class="property">struct </em><code class="sig-name descname">xnvme_timer</code><a class="headerlink" href="#c.xnvme_timer" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encapsulation of a basic wall-clock timer, start/stop clock. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="c var">
<dt id="c.xnvme_timer.start">
<span class="target" id="structxnvme__timer_1a7b4d220f6f37dc396d3294c9dd188859"></span>uint64_t <code class="sig-name descname">start</code><a class="headerlink" href="#c.xnvme_timer.start" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt id="c.xnvme_timer.stop">
<span class="target" id="structxnvme__timer_1ae3ad1641d866cb93f9aac37cce24c3cd"></span>uint64_t <code class="sig-name descname">stop</code><a class="headerlink" href="#c.xnvme_timer.stop" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
</div>
<div class="section" id="functions">
<span id="sec-c-api-xnvme-func"></span><h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="xnvme-ilog2">
<span id="sec-c-api-xnvme-func-xnvme-ilog2"></span><h3>XNVME_ILOG2<a class="headerlink" href="#xnvme-ilog2" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.XNVME_ILOG2">
<span class="target" id="libxnvme__util_8h_1a0e8fe449449355015e623f70fcb7938e"></span>uint64_t <code class="sig-name descname">XNVME_ILOG2</code><span class="sig-paren">(</span>uint64_t <em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#c.XNVME_ILOG2" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="section" id="xnvme-max">
<span id="sec-c-api-xnvme-func-xnvme-max"></span><h3>XNVME_MAX<a class="headerlink" href="#xnvme-max" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.XNVME_MAX">
<span class="target" id="libxnvme__util_8h_1a509ff212411643e35929d953d79f47bd"></span>int <code class="sig-name descname">XNVME_MAX</code><span class="sig-paren">(</span>int <em>x</em>, int <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#c.XNVME_MAX" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Calculate the maximum of the given <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>The maximum of <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-min">
<span id="sec-c-api-xnvme-func-xnvme-min"></span><h3>XNVME_MIN<a class="headerlink" href="#xnvme-min" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.XNVME_MIN">
<span class="target" id="libxnvme__util_8h_1a97d715bfd4dc271f71d42882f1ca6dbd"></span>int <code class="sig-name descname">XNVME_MIN</code><span class="sig-paren">(</span>int <em>x</em>, int <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#c.XNVME_MIN" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Calculate the minimum of the given <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>The maximum of <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-min-s64">
<span id="sec-c-api-xnvme-func-xnvme-min-s64"></span><h3>XNVME_MIN_S64<a class="headerlink" href="#xnvme-min-s64" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.XNVME_MIN_S64">
<span class="target" id="libxnvme__util_8h_1af59f427ec39c34b73fb0b6971a6cf42e"></span>int64_t <code class="sig-name descname">XNVME_MIN_S64</code><span class="sig-paren">(</span>int64_t <em>x</em>, int64_t <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#c.XNVME_MIN_S64" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Calculate the minimum of the given <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>The maximum of <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-min-u64">
<span id="sec-c-api-xnvme-func-xnvme-min-u64"></span><h3>XNVME_MIN_U64<a class="headerlink" href="#xnvme-min-u64" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.XNVME_MIN_U64">
<span class="target" id="libxnvme__util_8h_1a07b2cf2d4b8b4f576b7a01a78995dfa6"></span>uint64_t <code class="sig-name descname">XNVME_MIN_U64</code><span class="sig-paren">(</span>uint64_t <em>x</em>, uint64_t <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#c.XNVME_MIN_U64" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Calculate the minimum of the given <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>The maximum of <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-be-attr-fpr">
<span id="sec-c-api-xnvme-func-xnvme-be-attr-fpr"></span><h3>xnvme_be_attr_fpr<a class="headerlink" href="#xnvme-be-attr-fpr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_be_attr_fpr">
<span class="target" id="libxnvme__pp_8h_1a07599407ee9a93bd10c26b6210b0f3d7"></span>int <code class="sig-name descname">xnvme_be_attr_fpr</code><span class="sig-paren">(</span>FILE *<em>stream</em>, <em class="property">const</em> <em class="property">struct</em> <a class="reference internal" href="#c.xnvme_be_attr" title="xnvme_be_attr">xnvme_be_attr</a> *<em>attr</em>, int <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_be_attr_fpr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the given backend attribute to the given output stream. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code>: output stream used for printing </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">attr</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__be__attr"><span class="std std-ref">xnvme_be_attr</span></a> to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-be-attr-list-bundled">
<span id="sec-c-api-xnvme-func-xnvme-be-attr-list-bundled"></span><h3>xnvme_be_attr_list_bundled<a class="headerlink" href="#xnvme-be-attr-list-bundled" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_be_attr_list_bundled">
<span class="target" id="libxnvme__be_8h_1a09ce7aec6148fd2eab72ce8352d81033"></span>int <code class="sig-name descname">xnvme_be_attr_list_bundled</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_be_attr_list" title="xnvme_be_attr_list">xnvme_be_attr_list</a> **<em>list</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_be_attr_list_bundled" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>List backends bundled with the library. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-be-attr-list-fpr">
<span id="sec-c-api-xnvme-func-xnvme-be-attr-list-fpr"></span><h3>xnvme_be_attr_list_fpr<a class="headerlink" href="#xnvme-be-attr-list-fpr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_be_attr_list_fpr">
<span class="target" id="libxnvme__pp_8h_1a9aa294975292cc09c85b5c29b38cf712"></span>int <code class="sig-name descname">xnvme_be_attr_list_fpr</code><span class="sig-paren">(</span>FILE *<em>stream</em>, <em class="property">const</em> <em class="property">struct</em> <a class="reference internal" href="#c.xnvme_be_attr_list" title="xnvme_be_attr_list">xnvme_be_attr_list</a> *<em>list</em>, int <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_be_attr_list_fpr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the given backend attribute list to the given output stream. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code>: output stream used for printing </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list</span></code>: Pointer to the backend attribute list to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-be-attr-list-pr">
<span id="sec-c-api-xnvme-func-xnvme-be-attr-list-pr"></span><h3>xnvme_be_attr_list_pr<a class="headerlink" href="#xnvme-be-attr-list-pr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_be_attr_list_pr">
<span class="target" id="libxnvme__pp_8h_1ac1cad992f04cf42ee8cd17280a55e6e1"></span>int <code class="sig-name descname">xnvme_be_attr_list_pr</code><span class="sig-paren">(</span><em class="property">const</em> <em class="property">struct</em> <a class="reference internal" href="#c.xnvme_be_attr_list" title="xnvme_be_attr_list">xnvme_be_attr_list</a> *<em>list</em>, int <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_be_attr_list_pr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the given backend attribute list to standard out. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list</span></code>: Pointer to the backend attribute list to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-be-attr-pr">
<span id="sec-c-api-xnvme-func-xnvme-be-attr-pr"></span><h3>xnvme_be_attr_pr<a class="headerlink" href="#xnvme-be-attr-pr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_be_attr_pr">
<span class="target" id="libxnvme__pp_8h_1a142bda440c21dbadad84e6be06e46a33"></span>int <code class="sig-name descname">xnvme_be_attr_pr</code><span class="sig-paren">(</span><em class="property">const</em> <em class="property">struct</em> <a class="reference internal" href="#c.xnvme_be_attr" title="xnvme_be_attr">xnvme_be_attr</a> *<em>attr</em>, int <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_be_attr_pr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the given backend attribute to stdout. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">attr</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__be__attr"><span class="std std-ref">xnvme_be_attr</span></a> to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-buf-alloc">
<span id="sec-c-api-xnvme-func-xnvme-buf-alloc"></span><h3>xnvme_buf_alloc<a class="headerlink" href="#xnvme-buf-alloc" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_buf_alloc">
<span class="target" id="libxnvme_8h_1aa61c331982922d038a6af22fbe4e1a1a"></span>void *<code class="sig-name descname">xnvme_buf_alloc</code><span class="sig-paren">(</span><em class="property">const</em> <em class="property">struct</em> xnvme_dev *<em>dev</em>, size_t <em>nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_buf_alloc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Allocate a buffer for IO with the given device. </p>
<p>The buffer will be aligned to device geometry and DMA allocated if required by the backend for command payloads</p>
<p><dl class="simple">
<dt><strong>Note</strong></dt><dd><p>nbytes must be greater than zero and a multiple of minimal granularity </p>
</dd>
<dt><strong>Note</strong></dt><dd><p>De-allocate the buffer using <a class="reference internal" href="#libxnvme_8h_1ab93616483922d16f4d21369c9f610d8c"><span class="std std-ref">xnvme_buf_free()</span></a></p>
</dd>
<dt><strong>Return</strong></dt><dd><p>On success, a pointer to the allocated memory is returned. On error, NULL is returned and <code class="docutils literal notranslate"><span class="pre">errno</span></code> set to indicate the error. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1abfbbe8bb204dcdf2012540a39b1e2796"><span class="std std-ref">xnvme_dev_open()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbytes</span></code>: The size of the allocated buffer in bytes</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-buf-free">
<span id="sec-c-api-xnvme-func-xnvme-buf-free"></span><h3>xnvme_buf_free<a class="headerlink" href="#xnvme-buf-free" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_buf_free">
<span class="target" id="libxnvme_8h_1ab93616483922d16f4d21369c9f610d8c"></span>void <code class="sig-name descname">xnvme_buf_free</code><span class="sig-paren">(</span><em class="property">const</em> <em class="property">struct</em> xnvme_dev *<em>dev</em>, void *<em>buf</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_buf_free" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Free the given IO buffer allocated with <a class="reference internal" href="#libxnvme_8h_1aa61c331982922d038a6af22fbe4e1a1a"><span class="std std-ref">xnvme_buf_alloc()</span></a> </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1abfbbe8bb204dcdf2012540a39b1e2796"><span class="std std-ref">xnvme_dev_open()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">buf</span></code>: Pointer to a buffer allocated with <a class="reference internal" href="#libxnvme_8h_1aa61c331982922d038a6af22fbe4e1a1a"><span class="std std-ref">xnvme_buf_alloc()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-buf-phys-alloc">
<span id="sec-c-api-xnvme-func-xnvme-buf-phys-alloc"></span><h3>xnvme_buf_phys_alloc<a class="headerlink" href="#xnvme-buf-phys-alloc" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_buf_phys_alloc">
<span class="target" id="libxnvme__buf_8h_1a3f2c34a92403148311b095de890cf306"></span>void *<code class="sig-name descname">xnvme_buf_phys_alloc</code><span class="sig-paren">(</span><em class="property">const</em> <em class="property">struct</em> xnvme_dev *<em>dev</em>, size_t <em>nbytes</em>, uint64_t *<em>phys</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_buf_phys_alloc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Allocate a buffer of physical memory, aligned for IO with the given device. </p>
<p><dl class="simple">
<dt><strong>Note</strong></dt><dd><p>nbytes must be greater than zero and a multiple of minimal granularity </p>
</dd>
<dt><strong>Note</strong></dt><dd><p>De-allocate the buffer using <a class="reference internal" href="#libxnvme__buf_8h_1a07e82db665e2e6eadcd72c7c9d9d0026"><span class="std std-ref">xnvme_buf_phys_free()</span></a></p>
</dd>
<dt><strong>Return</strong></dt><dd><p>On success, a pointer to the allocated memory is returned. On error, NULL is returned and <code class="docutils literal notranslate"><span class="pre">errno</span></code> set to indicate the error. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1abfbbe8bb204dcdf2012540a39b1e2796"><span class="std std-ref">xnvme_dev_open()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbytes</span></code>: The size of the allocated buffer in bytes </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">phys</span></code>: A pointer to the variable to hold the physical address of the allocated buffer. If NULL, the physical address is not returned.</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-buf-phys-free">
<span id="sec-c-api-xnvme-func-xnvme-buf-phys-free"></span><h3>xnvme_buf_phys_free<a class="headerlink" href="#xnvme-buf-phys-free" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_buf_phys_free">
<span class="target" id="libxnvme__buf_8h_1a07e82db665e2e6eadcd72c7c9d9d0026"></span>void <code class="sig-name descname">xnvme_buf_phys_free</code><span class="sig-paren">(</span><em class="property">const</em> <em class="property">struct</em> xnvme_dev *<em>dev</em>, void *<em>buf</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_buf_phys_free" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Free the given buffer of physical memory allocated with <a class="reference internal" href="#libxnvme__buf_8h_1a3f2c34a92403148311b095de890cf306"><span class="std std-ref">xnvme_buf_phys_alloc()</span></a> </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1abfbbe8bb204dcdf2012540a39b1e2796"><span class="std std-ref">xnvme_dev_open()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">buf</span></code>: Pointer to a buffer allocated with <a class="reference internal" href="#libxnvme__buf_8h_1a3f2c34a92403148311b095de890cf306"><span class="std std-ref">xnvme_buf_phys_alloc()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-buf-phys-realloc">
<span id="sec-c-api-xnvme-func-xnvme-buf-phys-realloc"></span><h3>xnvme_buf_phys_realloc<a class="headerlink" href="#xnvme-buf-phys-realloc" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_buf_phys_realloc">
<span class="target" id="libxnvme__buf_8h_1a7fb530c2005131604d40dd9e5a80bc96"></span>void *<code class="sig-name descname">xnvme_buf_phys_realloc</code><span class="sig-paren">(</span><em class="property">const</em> <em class="property">struct</em> xnvme_dev *<em>dev</em>, void *<em>buf</em>, size_t <em>nbytes</em>, uint64_t *<em>phys</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_buf_phys_realloc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Re-allocate a buffer of physical memory, aligned for IO with the given device. </p>
<p><dl class="simple">
<dt><strong>Note</strong></dt><dd><p>nbytes must be greater than zero and a multiple of minimal granularity </p>
</dd>
<dt><strong>Note</strong></dt><dd><p>De-allocate the buffer using <a class="reference internal" href="#libxnvme__buf_8h_1a07e82db665e2e6eadcd72c7c9d9d0026"><span class="std std-ref">xnvme_buf_phys_free()</span></a></p>
</dd>
<dt><strong>Return</strong></dt><dd><p>On success, a pointer to the allocated memory is returned. On error, NULL is returned and <code class="docutils literal notranslate"><span class="pre">errno</span></code> set to indicate the error. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1abfbbe8bb204dcdf2012540a39b1e2796"><span class="std std-ref">xnvme_dev_open()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">buf</span></code>: The buffer to reallocate </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbytes</span></code>: The size of the allocated buffer in bytes </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">phys</span></code>: A pointer to the variable to hold the physical address of the allocated buffer. If NULL, the physical address is not returned.</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-buf-realloc">
<span id="sec-c-api-xnvme-func-xnvme-buf-realloc"></span><h3>xnvme_buf_realloc<a class="headerlink" href="#xnvme-buf-realloc" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_buf_realloc">
<span class="target" id="libxnvme_8h_1a293130c0335f28d3c2d3ebedde981594"></span>void *<code class="sig-name descname">xnvme_buf_realloc</code><span class="sig-paren">(</span><em class="property">const</em> <em class="property">struct</em> xnvme_dev *<em>dev</em>, void *<em>buf</em>, size_t <em>nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_buf_realloc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reallocate a buffer for IO with the given device. </p>
<p>The buffer will be aligned to device geometry and DMA allocated if required by the backend for IO</p>
<p><dl class="simple">
<dt><strong>Note</strong></dt><dd><p>nbytes must be greater than zero and a multiple of minimal granularity </p>
</dd>
<dt><strong>Note</strong></dt><dd><p>De-allocate the buffer using <a class="reference internal" href="#libxnvme_8h_1ab93616483922d16f4d21369c9f610d8c"><span class="std std-ref">xnvme_buf_free()</span></a></p>
</dd>
<dt><strong>Return</strong></dt><dd><p>On success, a pointer to the allocated memory is returned. On error, NULL is returned and <code class="docutils literal notranslate"><span class="pre">errno</span></code> set to indicate the error. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1abfbbe8bb204dcdf2012540a39b1e2796"><span class="std std-ref">xnvme_dev_open()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">buf</span></code>: The buffer to reallocate </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbytes</span></code>: The size of the allocated buffer in bytes</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-buf-virt-alloc">
<span id="sec-c-api-xnvme-func-xnvme-buf-virt-alloc"></span><h3>xnvme_buf_virt_alloc<a class="headerlink" href="#xnvme-buf-virt-alloc" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_buf_virt_alloc">
<span class="target" id="libxnvme__buf_8h_1a2ee3b44e77fbc0c3fbc62686f80d330f"></span>void *<code class="sig-name descname">xnvme_buf_virt_alloc</code><span class="sig-paren">(</span>size_t <em>alignment</em>, size_t <em>nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_buf_virt_alloc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Allocate a buffer of virtual memory of the given <code class="docutils literal notranslate"><span class="pre">alignment</span></code> and <code class="docutils literal notranslate"><span class="pre">nbytes</span></code> </p>
<p><dl class="simple">
<dt><strong>Note</strong></dt><dd><p>You must use <a class="reference internal" href="#libxnvme__buf_8h_1a703c51315a407f2b57fc0f69dcdcfa96"><span class="std std-ref">xnvme_buf_virt_free()</span></a> to de-allocate the buffer</p>
</dd>
<dt><strong>Return</strong></dt><dd><p>On success, a pointer to the allocated memory is return. On error, NULL is returned and <code class="docutils literal notranslate"><span class="pre">errno</span></code> set to indicate the error </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">alignment</span></code>: The alignment in bytes </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbytes</span></code>: The size of the buffer in bytes</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-buf-virt-free">
<span id="sec-c-api-xnvme-func-xnvme-buf-virt-free"></span><h3>xnvme_buf_virt_free<a class="headerlink" href="#xnvme-buf-virt-free" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_buf_virt_free">
<span class="target" id="libxnvme__buf_8h_1a703c51315a407f2b57fc0f69dcdcfa96"></span>void <code class="sig-name descname">xnvme_buf_virt_free</code><span class="sig-paren">(</span>void *<em>buf</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_buf_virt_free" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Free the given virtual memory buffer. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">buf</span></code>: Pointer to a buffer allocated with <a class="reference internal" href="#libxnvme__buf_8h_1a2ee3b44e77fbc0c3fbc62686f80d330f"><span class="std std-ref">xnvme_buf_virt_alloc()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-buf-vtophys">
<span id="sec-c-api-xnvme-func-xnvme-buf-vtophys"></span><h3>xnvme_buf_vtophys<a class="headerlink" href="#xnvme-buf-vtophys" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_buf_vtophys">
<span class="target" id="libxnvme__buf_8h_1a09bbd3e980bb0a71192a11a3e21e351d"></span>int <code class="sig-name descname">xnvme_buf_vtophys</code><span class="sig-paren">(</span><em class="property">const</em> <em class="property">struct</em> xnvme_dev *<em>dev</em>, void *<em>buf</em>, uint64_t *<em>phys</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_buf_vtophys" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Retrieve the physical address of the given buffer. </p>
<p>The intended use for this function is to provide the physical-address of a buffer-allocation allocated with <a class="reference internal" href="#libxnvme__buf_8h_1a3f2c34a92403148311b095de890cf306"><span class="std std-ref">xnvme_buf_phys_alloc()</span></a> or <a class="reference internal" href="#libxnvme_8h_1aa61c331982922d038a6af22fbe4e1a1a"><span class="std std-ref">xnvme_buf_alloc()</span></a>, where the ‘phys’ argument was either not provided.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1abfbbe8bb204dcdf2012540a39b1e2796"><span class="std std-ref">xnvme_dev_open()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">buf</span></code>: Pointer to a buffer allocated with <a class="reference internal" href="#libxnvme_8h_1aa61c331982922d038a6af22fbe4e1a1a"><span class="std std-ref">xnvme_buf_alloc()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">phys</span></code>: A pointer to the variable to hold the physical address of the given buffer.</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-ctx-clear">
<span id="sec-c-api-xnvme-func-xnvme-cmd-ctx-clear"></span><h3>xnvme_cmd_ctx_clear<a class="headerlink" href="#xnvme-cmd-ctx-clear" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_cmd_ctx_clear">
<span class="target" id="libxnvme_8h_1aad9ccd2a8eb80f845453ce7684862f42"></span>void <code class="sig-name descname">xnvme_cmd_ctx_clear</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a> *<em>ctx</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_ctx_clear" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Clears/resets the given <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a>. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a> to clear </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-ctx-cpl-status">
<span id="sec-c-api-xnvme-func-xnvme-cmd-ctx-cpl-status"></span><h3>xnvme_cmd_ctx_cpl_status<a class="headerlink" href="#xnvme-cmd-ctx-cpl-status" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_cmd_ctx_cpl_status">
<span class="target" id="libxnvme_8h_1ae635ec8845082dec05d8cde6c32a83e5"></span>int <code class="sig-name descname">xnvme_cmd_ctx_cpl_status</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a> *<em>ctx</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_ctx_cpl_status" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encapsulate completion-error checking here for now. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is return. On error, a non-zero value is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a> to check status on</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-ctx-from-dev">
<span id="sec-c-api-xnvme-func-xnvme-cmd-ctx-from-dev"></span><h3>xnvme_cmd_ctx_from_dev<a class="headerlink" href="#xnvme-cmd-ctx-from-dev" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_cmd_ctx_from_dev">
<span class="target" id="libxnvme_8h_1a1ec4b3a340abed82f1f9c837890c54f8"></span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a> <code class="sig-name descname">xnvme_cmd_ctx_from_dev</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_dev *<em>dev</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_ctx_from_dev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Retrieve a command-context for issuing commands to the given device. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>A <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a> initialized synchronous command on the given device </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle (xnvme_dev) obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1abfbbe8bb204dcdf2012540a39b1e2796"><span class="std std-ref">xnvme_dev_open()</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-ctx-from-queue">
<span id="sec-c-api-xnvme-func-xnvme-cmd-ctx-from-queue"></span><h3>xnvme_cmd_ctx_from_queue<a class="headerlink" href="#xnvme-cmd-ctx-from-queue" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_cmd_ctx_from_queue">
<span class="target" id="libxnvme_8h_1a7bc367223347286051c81a4e4ae5a93f"></span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a> *<code class="sig-name descname">xnvme_cmd_ctx_from_queue</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_queue *<em>queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_ctx_from_queue" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Retrieve a command-text for issuing commands via the given queue. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, a pointer to a <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a> is returned. On error, NULL is returned and <code class="docutils literal notranslate"><span class="pre">errno</span></code> set to indicate the error. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to retrieve a command-context for</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-ctx-pr">
<span id="sec-c-api-xnvme-func-xnvme-cmd-ctx-pr"></span><h3>xnvme_cmd_ctx_pr<a class="headerlink" href="#xnvme-cmd-ctx-pr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_cmd_ctx_pr">
<span class="target" id="libxnvme__pp_8h_1a76400ae8c389ae64da29c82ec0a7bece"></span>void <code class="sig-name descname">xnvme_cmd_ctx_pr</code><span class="sig-paren">(</span><em class="property">const</em> <em class="property">struct</em> <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a> *<em>ctx</em>, int <em>UNUSED_opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_ctx_pr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints a humanly readable representation the given <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a>. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a> to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UNUSED_opts</span></code>: Printer options </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-ctx-set-cb">
<span id="sec-c-api-xnvme-func-xnvme-cmd-ctx-set-cb"></span><h3>xnvme_cmd_ctx_set_cb<a class="headerlink" href="#xnvme-cmd-ctx-set-cb" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_cmd_ctx_set_cb">
<span class="target" id="libxnvme_8h_1afcb44b4b22d8e47dcbe283f256f63093"></span>void <code class="sig-name descname">xnvme_cmd_ctx_set_cb</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a> *<em>ctx</em>, xnvme_queue_cb <em>cb</em>, void *<em>cb_arg</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_ctx_set_cb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Assign a callback-function and argument to be used with the given command-context. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a> to setup callback for </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb</span></code>: The callback function to use </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb_arg</span></code>: The callback argument to use</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-pass">
<span id="sec-c-api-xnvme-func-xnvme-cmd-pass"></span><h3>xnvme_cmd_pass<a class="headerlink" href="#xnvme-cmd-pass" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_cmd_pass">
<span class="target" id="libxnvme_8h_1a42f1493ca3bce4159d34330e49e234a2"></span>int <code class="sig-name descname">xnvme_cmd_pass</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a> *<em>ctx</em>, void *<em>dbuf</em>, size_t <em>dbuf_nbytes</em>, void *<em>mbuf</em>, size_t <em>mbuf_nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_pass" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pass an NVMe IO Command through to the device via the given <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a>. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to command context (<a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a>) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbuf</span></code>: pointer to data-payload </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbuf_nbytes</span></code>: size of data-payload in bytes </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mbuf</span></code>: pointer to meta-payload </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mbuf_nbytes</span></code>: size of the meta-payload in bytes</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-pass-admin">
<span id="sec-c-api-xnvme-func-xnvme-cmd-pass-admin"></span><h3>xnvme_cmd_pass_admin<a class="headerlink" href="#xnvme-cmd-pass-admin" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_cmd_pass_admin">
<span class="target" id="libxnvme_8h_1af1a420c81c2a5940576f36f4c355d0f3"></span>int <code class="sig-name descname">xnvme_cmd_pass_admin</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a> *<em>ctx</em>, void *<em>dbuf</em>, size_t <em>dbuf_nbytes</em>, void *<em>mbuf</em>, size_t <em>mbuf_nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_pass_admin" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pass a NVMe Admin Command through to the device with minimal intervention. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to command context (<a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a>) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbuf</span></code>: pointer to data-payload </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbuf_nbytes</span></code>: size of data-payload in bytes </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mbuf</span></code>: pointer to meta-payload </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mbuf_nbytes</span></code>: size of the meta-payload in bytes</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-passv">
<span id="sec-c-api-xnvme-func-xnvme-cmd-passv"></span><h3>xnvme_cmd_passv<a class="headerlink" href="#xnvme-cmd-passv" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_cmd_passv">
<span class="target" id="libxnvme_8h_1a96530cf3a73c7e0b0984f626575fc2cf"></span>int <code class="sig-name descname">xnvme_cmd_passv</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a> *<em>ctx</em>, <em class="property">struct</em> iovec *<em>dvec</em>, size_t <em>dvec_cnt</em>, size_t <em>dvec_nbytes</em>, <em class="property">struct</em> iovec *<em>mvec</em>, size_t <em>mvec_cnt</em>, size_t <em>mvec_nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_passv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pass a vectored NVMe IO Command through to the device via the given <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a>. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to command context (<a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a>) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dvec</span></code>: array of data iovecs </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dvec_cnt</span></code>: number of elements in dvec </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mvec</span></code>: array of metadata iovecs </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mvec_cnt</span></code>: number of elements in mvec</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-enumerate">
<span id="sec-c-api-xnvme-func-xnvme-enumerate"></span><h3>xnvme_enumerate<a class="headerlink" href="#xnvme-enumerate" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_enumerate">
<span class="target" id="libxnvme_8h_1a1076e8cecb6cd11772db1bd3ebccd1a6"></span>int <code class="sig-name descname">xnvme_enumerate</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>sys_uri</em>, <em class="property">struct</em> <a class="reference internal" href="#c.xnvme_opts" title="xnvme_opts">xnvme_opts</a> *<em>opts</em>, xnvme_enumerate_cb <em>cb_func</em>, void *<em>cb_args</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_enumerate" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>enumerate devices </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sys_uri</span></code>: URI of the system to enumerate, when NULL, localhost/PCIe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: Options for instrumenting the runtime during enumeration </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb_func</span></code>: Callback function to invoke for each yielded device </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb_args</span></code>: Arguments passed to the callback function</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-enumeration-alloc">
<span id="sec-c-api-xnvme-func-xnvme-enumeration-alloc"></span><h3>xnvme_enumeration_alloc<a class="headerlink" href="#xnvme-enumeration-alloc" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_enumeration_alloc">
<span class="target" id="libxnvmec_8h_1a4c77a99894ab55fe477ac549e712119b"></span>int <code class="sig-name descname">xnvme_enumeration_alloc</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_enumeration" title="xnvme_enumeration">xnvme_enumeration</a> **<em>list</em>, uint32_t <em>capacity</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_enumeration_alloc" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="section" id="xnvme-enumeration-append">
<span id="sec-c-api-xnvme-func-xnvme-enumeration-append"></span><h3>xnvme_enumeration_append<a class="headerlink" href="#xnvme-enumeration-append" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_enumeration_append">
<span class="target" id="libxnvmec_8h_1a990d1a4e84892dfc1a3dcc251ec2ffdb"></span>int <code class="sig-name descname">xnvme_enumeration_append</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_enumeration" title="xnvme_enumeration">xnvme_enumeration</a> *<em>list</em>, <em class="property">const</em> <em class="property">struct</em> <a class="reference internal" href="#c.xnvme_ident" title="xnvme_ident">xnvme_ident</a> *<em>entry</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_enumeration_append" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="section" id="xnvme-enumeration-fpp">
<span id="sec-c-api-xnvme-func-xnvme-enumeration-fpp"></span><h3>xnvme_enumeration_fpp<a class="headerlink" href="#xnvme-enumeration-fpp" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_enumeration_fpp">
<span class="target" id="libxnvme__pp_8h_1a51a288be09c8c972d15d73bcec7b6714"></span>int <code class="sig-name descname">xnvme_enumeration_fpp</code><span class="sig-paren">(</span>FILE *<em>stream</em>, <em class="property">struct</em> <a class="reference internal" href="#c.xnvme_enumeration" title="xnvme_enumeration">xnvme_enumeration</a> *<em>list</em>, int <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_enumeration_fpp" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="section" id="xnvme-enumeration-fpr">
<span id="sec-c-api-xnvme-func-xnvme-enumeration-fpr"></span><h3>xnvme_enumeration_fpr<a class="headerlink" href="#xnvme-enumeration-fpr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_enumeration_fpr">
<span class="target" id="libxnvme__pp_8h_1a837836561df5910633bf99675aef7787"></span>int <code class="sig-name descname">xnvme_enumeration_fpr</code><span class="sig-paren">(</span>FILE *<em>stream</em>, <em class="property">struct</em> <a class="reference internal" href="#c.xnvme_enumeration" title="xnvme_enumeration">xnvme_enumeration</a> *<em>list</em>, int <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_enumeration_fpr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the given <a class="reference internal" href="#structxnvme__enumeration"><span class="std std-ref">xnvme_enumeration</span></a> to the given output stream. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code>: output stream used for printing </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list</span></code>: pointer to structure to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-enumeration-free">
<span id="sec-c-api-xnvme-func-xnvme-enumeration-free"></span><h3>xnvme_enumeration_free<a class="headerlink" href="#xnvme-enumeration-free" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_enumeration_free">
<span class="target" id="libxnvmec_8h_1a7f4cada5623161b47bc32d7d5d403118"></span>void <code class="sig-name descname">xnvme_enumeration_free</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_enumeration" title="xnvme_enumeration">xnvme_enumeration</a> *<em>list</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_enumeration_free" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="section" id="xnvme-enumeration-pp">
<span id="sec-c-api-xnvme-func-xnvme-enumeration-pp"></span><h3>xnvme_enumeration_pp<a class="headerlink" href="#xnvme-enumeration-pp" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_enumeration_pp">
<span class="target" id="libxnvme__pp_8h_1aff988833db0ab153869fb8e43a017f90"></span>int <code class="sig-name descname">xnvme_enumeration_pp</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_enumeration" title="xnvme_enumeration">xnvme_enumeration</a> *<em>list</em>, int <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_enumeration_pp" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="section" id="xnvme-enumeration-pr">
<span id="sec-c-api-xnvme-func-xnvme-enumeration-pr"></span><h3>xnvme_enumeration_pr<a class="headerlink" href="#xnvme-enumeration-pr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_enumeration_pr">
<span class="target" id="libxnvme__pp_8h_1a0c2a5ec771b134930985156baa582a21"></span>int <code class="sig-name descname">xnvme_enumeration_pr</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_enumeration" title="xnvme_enumeration">xnvme_enumeration</a> *<em>list</em>, int <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_enumeration_pr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the given <a class="reference internal" href="#structxnvme__enumeration"><span class="std std-ref">xnvme_enumeration</span></a> to stdout. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list</span></code>: pointer to structure to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-ident-fpr">
<span id="sec-c-api-xnvme-func-xnvme-ident-fpr"></span><h3>xnvme_ident_fpr<a class="headerlink" href="#xnvme-ident-fpr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_ident_fpr">
<span class="target" id="libxnvme__pp_8h_1a9437972f1025b5b66130c9c80b512308"></span>int <code class="sig-name descname">xnvme_ident_fpr</code><span class="sig-paren">(</span>FILE *<em>stream</em>, <em class="property">const</em> <em class="property">struct</em> <a class="reference internal" href="#c.xnvme_ident" title="xnvme_ident">xnvme_ident</a> *<em>ident</em>, int <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_ident_fpr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the given <a class="reference internal" href="#structxnvme__ident"><span class="std std-ref">xnvme_ident</span></a> to the given output stream. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code>: output stream used for printing </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ident</span></code>: pointer to structure to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-ident-from-uri">
<span id="sec-c-api-xnvme-func-xnvme-ident-from-uri"></span><h3>xnvme_ident_from_uri<a class="headerlink" href="#xnvme-ident-from-uri" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_ident_from_uri">
<span class="target" id="libxnvme__ident_8h_1ab2c5248e6d63a391b3094505c1416399"></span>int <code class="sig-name descname">xnvme_ident_from_uri</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>uri</em>, <em class="property">struct</em> <a class="reference internal" href="#c.xnvme_ident" title="xnvme_ident">xnvme_ident</a> *<em>ident</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_ident_from_uri" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Parse the given ‘uri’ into <a class="reference internal" href="#structxnvme__ident"><span class="std std-ref">xnvme_ident</span></a>. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">uri</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ident</span></code>: Pointer to ident to fill with values parsed from ‘uri’</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-ident-pr">
<span id="sec-c-api-xnvme-func-xnvme-ident-pr"></span><h3>xnvme_ident_pr<a class="headerlink" href="#xnvme-ident-pr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_ident_pr">
<span class="target" id="libxnvme__pp_8h_1a967d337786528e351c13d4b2c4081794"></span>int <code class="sig-name descname">xnvme_ident_pr</code><span class="sig-paren">(</span><em class="property">const</em> <em class="property">struct</em> <a class="reference internal" href="#c.xnvme_ident" title="xnvme_ident">xnvme_ident</a> *<em>ident</em>, int <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_ident_pr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the given <a class="reference internal" href="#structxnvme__ident"><span class="std std-ref">xnvme_ident</span></a> to stdout. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ident</span></code>: pointer to structure to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-is-pow2">
<span id="sec-c-api-xnvme-func-xnvme-is-pow2"></span><h3>xnvme_is_pow2<a class="headerlink" href="#xnvme-is-pow2" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_is_pow2">
<span class="target" id="libxnvme__util_8h_1a7f7ebfcb040358da9ad03a012ab212c9"></span>int <code class="sig-name descname">xnvme_is_pow2</code><span class="sig-paren">(</span>uint32_t <em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_is_pow2" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="section" id="xnvme-lba-fpr">
<span id="sec-c-api-xnvme-func-xnvme-lba-fpr"></span><h3>xnvme_lba_fpr<a class="headerlink" href="#xnvme-lba-fpr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_lba_fpr">
<span class="target" id="libxnvme__pp_8h_1a4efba73464d5b20cf8512bec1209b8a8"></span>int <code class="sig-name descname">xnvme_lba_fpr</code><span class="sig-paren">(</span>FILE *<em>stream</em>, uint64_t <em>lba</em>, <em class="property">enum</em> <a class="reference internal" href="#c.xnvme_pr" title="xnvme_pr">xnvme_pr</a> <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_fpr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the given LBA to the given output stream. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code>: output stream used for printing </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lba</span></code>: the LBA to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-fprn">
<span id="sec-c-api-xnvme-func-xnvme-lba-fprn"></span><h3>xnvme_lba_fprn<a class="headerlink" href="#xnvme-lba-fprn" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_lba_fprn">
<span class="target" id="libxnvme__pp_8h_1a0248760fdc81a1c81919e4dfa2e2df2c"></span>int <code class="sig-name descname">xnvme_lba_fprn</code><span class="sig-paren">(</span>FILE *<em>stream</em>, <em class="property">const</em> uint64_t *<em>lba</em>, uint16_t <em>nlb</em>, <em class="property">enum</em> <a class="reference internal" href="#c.xnvme_pr" title="xnvme_pr">xnvme_pr</a> <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_fprn" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the given list of Logical Block Addresses (LBAs)to the given output stream. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code>: output stream used for printing </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lba</span></code>: Pointer to an array of LBAs to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nlb</span></code>: Number of LBAs to print from the given list </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-pr">
<span id="sec-c-api-xnvme-func-xnvme-lba-pr"></span><h3>xnvme_lba_pr<a class="headerlink" href="#xnvme-lba-pr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_lba_pr">
<span class="target" id="libxnvme__pp_8h_1a84b4b42c945df3709b50404f3ed273e1"></span>int <code class="sig-name descname">xnvme_lba_pr</code><span class="sig-paren">(</span>uint64_t <em>lba</em>, <em class="property">enum</em> <a class="reference internal" href="#c.xnvme_pr" title="xnvme_pr">xnvme_pr</a> <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_pr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the given Logical Block Addresses (LBA) to stdout. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lba</span></code>: the LBA to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-prn">
<span id="sec-c-api-xnvme-func-xnvme-lba-prn"></span><h3>xnvme_lba_prn<a class="headerlink" href="#xnvme-lba-prn" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_lba_prn">
<span class="target" id="libxnvme__pp_8h_1a413b2f1412221c5573eb7ae49d950df9"></span>int <code class="sig-name descname">xnvme_lba_prn</code><span class="sig-paren">(</span><em class="property">const</em> uint64_t *<em>lba</em>, uint16_t <em>nlb</em>, <em class="property">enum</em> <a class="reference internal" href="#c.xnvme_pr" title="xnvme_pr">xnvme_pr</a> <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_prn" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Print a list of Logical Block Addresses (LBAs) </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lba</span></code>: Pointer to an array of LBAs to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nlb</span></code>: Length of the array in items </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: Printer options</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-range-fpr">
<span id="sec-c-api-xnvme-func-xnvme-lba-range-fpr"></span><h3>xnvme_lba_range_fpr<a class="headerlink" href="#xnvme-lba-range-fpr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_lba_range_fpr">
<span class="target" id="libxnvme__lba_8h_1ae2c4e78e695dd71606c9c7c194ef42a0"></span>int <code class="sig-name descname">xnvme_lba_range_fpr</code><span class="sig-paren">(</span>FILE *<em>stream</em>, <em class="property">struct</em> <a class="reference internal" href="#c.xnvme_lba_range" title="xnvme_lba_range">xnvme_lba_range</a> *<em>range</em>, int <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_range_fpr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the given backend attribute to the given output stream. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code>: output stream used for printing </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">range</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__lba__range"><span class="std std-ref">xnvme_lba_range</span></a> to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-range-from-offset-nbytes">
<span id="sec-c-api-xnvme-func-xnvme-lba-range-from-offset-nbytes"></span><h3>xnvme_lba_range_from_offset_nbytes<a class="headerlink" href="#xnvme-lba-range-from-offset-nbytes" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_lba_range_from_offset_nbytes">
<span class="target" id="libxnvme__lba_8h_1a3eceda0f330124a328bb606a0396e163"></span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_lba_range" title="xnvme_lba_range">xnvme_lba_range</a> <code class="sig-name descname">xnvme_lba_range_from_offset_nbytes</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_dev *<em>dev</em>, uint64_t <em>offset</em>, uint64_t <em>nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_range_from_offset_nbytes" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes a range starting at the given byte-offset and spanning nbytes. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, an initialized range is returned by value with attr.is_valid = 1. On error, a potential non, or partially, initialized struct is returned by value with attr.is_valid = 0. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1abfbbe8bb204dcdf2012540a39b1e2796"><span class="std std-ref">xnvme_dev_open()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">offset</span></code>: Offset in bytes satisfying offset &lt; capacity </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbytes</span></code>: Number of bytes, satisfying offset + nbytes &lt; capacity</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-range-from-slba-elba">
<span id="sec-c-api-xnvme-func-xnvme-lba-range-from-slba-elba"></span><h3>xnvme_lba_range_from_slba_elba<a class="headerlink" href="#xnvme-lba-range-from-slba-elba" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_lba_range_from_slba_elba">
<span class="target" id="libxnvme__lba_8h_1a6085f6555bdd9c068d3f46a28516fbab"></span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_lba_range" title="xnvme_lba_range">xnvme_lba_range</a> <code class="sig-name descname">xnvme_lba_range_from_slba_elba</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_dev *<em>dev</em>, uint64_t <em>slba</em>, uint64_t <em>elba</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_range_from_slba_elba" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes a range starting at the given start-lba (slba) and spanning naddrs. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, an initialized range is returned by value with attr.is_valid = 1. On error, a potential non, or partially, initialized struct is returned by value with attr.is_valid = 0. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1abfbbe8bb204dcdf2012540a39b1e2796"><span class="std std-ref">xnvme_dev_open()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">slba</span></code>: A valid lba on the given dev </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">elba</span></code>: A valid lba on the given dev</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-range-from-slba-naddrs">
<span id="sec-c-api-xnvme-func-xnvme-lba-range-from-slba-naddrs"></span><h3>xnvme_lba_range_from_slba_naddrs<a class="headerlink" href="#xnvme-lba-range-from-slba-naddrs" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_lba_range_from_slba_naddrs">
<span class="target" id="libxnvme__lba_8h_1ade9982b041683555133b64cd70aa1cbc"></span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_lba_range" title="xnvme_lba_range">xnvme_lba_range</a> <code class="sig-name descname">xnvme_lba_range_from_slba_naddrs</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_dev *<em>dev</em>, uint64_t <em>slba</em>, uint64_t <em>naddrs</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_range_from_slba_naddrs" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes a range starting at the given start-lba (slba) and spanning naddrs. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, an initialized range is returned by value with attr.is_valid = 1. On error, a potential non, or partially, initialized struct is returned by value with attr.is_valid = 0. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1abfbbe8bb204dcdf2012540a39b1e2796"><span class="std std-ref">xnvme_dev_open()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">slba</span></code>: A valid lba on the given dev </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">naddrs</span></code>: A non-zero number of addresses, satisfying slba + naddrs &lt; device capacity</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-range-from-zdescr">
<span id="sec-c-api-xnvme-func-xnvme-lba-range-from-zdescr"></span><h3>xnvme_lba_range_from_zdescr<a class="headerlink" href="#xnvme-lba-range-from-zdescr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_lba_range_from_zdescr">
<span class="target" id="libxnvme__lba_8h_1ac5c6b3f92c00c35dee69f3d056671357"></span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_lba_range" title="xnvme_lba_range">xnvme_lba_range</a> <code class="sig-name descname">xnvme_lba_range_from_zdescr</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_dev *<em>dev</em>, <em class="property">struct</em> <a class="reference internal" href="xnvme_spec.html#c.xnvme_spec_znd_descr" title="xnvme_spec_znd_descr">xnvme_spec_znd_descr</a> *<em>zdescr</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_range_from_zdescr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes a range starting at the given zone-start-LBA and spanning zone-capacity. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, an initialized range is returned by value with attr.is_valid = 1. On error, a potential non, or partially, initialized struct is returned by value with attr.is_valid = 0. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1abfbbe8bb204dcdf2012540a39b1e2796"><span class="std std-ref">xnvme_dev_open()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdescr</span></code>: Pointer to a zone-descriptor valid on the given dev</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-range-pr">
<span id="sec-c-api-xnvme-func-xnvme-lba-range-pr"></span><h3>xnvme_lba_range_pr<a class="headerlink" href="#xnvme-lba-range-pr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_lba_range_pr">
<span class="target" id="libxnvme__lba_8h_1aacab3f1baf6ca02e950ea7eaa9184562"></span>int <code class="sig-name descname">xnvme_lba_range_pr</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_lba_range" title="xnvme_lba_range">xnvme_lba_range</a> *<em>range</em>, int <em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_range_pr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the given backend attribute to stdout. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">range</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__lba__range"><span class="std std-ref">xnvme_lba_range</span></a> to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-libconf-fpr">
<span id="sec-c-api-xnvme-func-xnvme-libconf-fpr"></span><h3>xnvme_libconf_fpr<a class="headerlink" href="#xnvme-libconf-fpr" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “xnvme_libconf_fpr” in doxygen xml output for project “xNVMe” from directory: builddir/doxy/xml</p>
</div>
</div>
<div class="section" id="xnvme-libconf-pr">
<span id="sec-c-api-xnvme-func-xnvme-libconf-pr"></span><h3>xnvme_libconf_pr<a class="headerlink" href="#xnvme-libconf-pr" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “xnvme_libconf_pr” in doxygen xml output for project “xNVMe” from directory: builddir/doxy/xml</p>
</div>
</div>
<div class="section" id="xnvme-opts-default">
<span id="sec-c-api-xnvme-func-xnvme-opts-default"></span><h3>xnvme_opts_default<a class="headerlink" href="#xnvme-opts-default" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_opts_default">
<span class="target" id="libxnvme_8h_1a1acf626fc901d20fb2220aa097b17f40"></span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_opts" title="xnvme_opts">xnvme_opts</a> <code class="sig-name descname">xnvme_opts_default</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_opts_default" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns an initialized option-struct with default values. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>Zero-initialized and with default values where applicable </p>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-drain">
<span id="sec-c-api-xnvme-func-xnvme-queue-drain"></span><h3>xnvme_queue_drain<a class="headerlink" href="#xnvme-queue-drain" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_queue_drain">
<span class="target" id="libxnvme_8h_1aad1259925c536a27e69488bc439dbeb1"></span>int <code class="sig-name descname">xnvme_queue_drain</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_queue *<em>queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_drain" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Process outstanding commands on the given xnvme_queue until it is empty. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, number of commands processed, may be 0. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to wait/process commands on</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-get-capacity">
<span id="sec-c-api-xnvme-func-xnvme-queue-get-capacity"></span><h3>xnvme_queue_get_capacity<a class="headerlink" href="#xnvme-queue-get-capacity" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_queue_get_capacity">
<span class="target" id="libxnvme_8h_1affe0dc6308216ef4c193a5911b7e1d22"></span>uint32_t <code class="sig-name descname">xnvme_queue_get_capacity</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_queue *<em>queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_get_capacity" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the capacity of the given xnvme_queue. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, capacity of given xnvme_queue text is returned. On error, 0 is returned e.g. errors are silent </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to query for capacity</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-get-cmd-ctx">
<span id="sec-c-api-xnvme-func-xnvme-queue-get-cmd-ctx"></span><h3>xnvme_queue_get_cmd_ctx<a class="headerlink" href="#xnvme-queue-get-cmd-ctx" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_queue_get_cmd_ctx">
<span class="target" id="libxnvme_8h_1ab97b95111f96550bb72f93d32a7a9448"></span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a> *<code class="sig-name descname">xnvme_queue_get_cmd_ctx</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_queue *<em>queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_get_cmd_ctx" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Retrieve a command-context from the given queue for async. </p>
<p>command execution with the queue</p>
<p><dl class="simple">
<dt><strong>Note</strong></dt><dd><p>The command-context is managed by the queue, thus, return it to the queue via <a class="reference internal" href="#libxnvme_8h_1ade86028b3e7be7f5dd935f50f6a36121"><span class="std std-ref">xnvme_queue_put_cmd_ctx</span></a></p>
</dd>
<dt><strong>Note</strong></dt><dd><p>This is not thread-safe</p>
</dd>
<dt><strong>Return</strong></dt><dd><p>On success, a command-context is returned. On error, NULL is returned and <code class="docutils literal notranslate"><span class="pre">errno</span></code> is set to indicate the error. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to retrieve a command-context for</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-get-outstanding">
<span id="sec-c-api-xnvme-func-xnvme-queue-get-outstanding"></span><h3>xnvme_queue_get_outstanding<a class="headerlink" href="#xnvme-queue-get-outstanding" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_queue_get_outstanding">
<span class="target" id="libxnvme_8h_1ad2cfe6191abdf8ab276c94b4eabf5547"></span>uint32_t <code class="sig-name descname">xnvme_queue_get_outstanding</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_queue *<em>queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_get_outstanding" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the number of outstanding commands on the given xnvme_queue. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, number of outstanding commands are returned. On error, 0 is returned e.g. errors are silent </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to query for outstanding commands</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-init">
<span id="sec-c-api-xnvme-func-xnvme-queue-init"></span><h3>xnvme_queue_init<a class="headerlink" href="#xnvme-queue-init" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_queue_init">
<span class="target" id="libxnvme_8h_1a7dbb9f0cc2f52394b97af2f043758cb0"></span>int <code class="sig-name descname">xnvme_queue_init</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_dev *<em>dev</em>, uint16_t <em>capacity</em>, int <em>opts</em>, <em class="property">struct</em> xnvme_queue **<em>queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_init" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Allocate a Command Queue for asynchronous command submission and completion. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle (xnvme_dev) obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1abfbbe8bb204dcdf2012540a39b1e2796"><span class="std std-ref">xnvme_dev_open()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">capacity</span></code>: Maximum number of outstanding commands on the initialized queue, note that it must be a power of 2 within the range [1,4096] </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: Queue options </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer-pointer to the xnvme_queue to initialize</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-poke">
<span id="sec-c-api-xnvme-func-xnvme-queue-poke"></span><h3>xnvme_queue_poke<a class="headerlink" href="#xnvme-queue-poke" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_queue_poke">
<span class="target" id="libxnvme_8h_1ab354b24711b8c6038152a3c33764989d"></span>int <code class="sig-name descname">xnvme_queue_poke</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_queue *<em>queue</em>, uint32_t <em>max</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_poke" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Process completions of commands on the given xnvme_queue. </p>
<p>Set process ‘max’ to limit number of completions, 0 means no max.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, number of completions processed, may be 0. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to poke for completions </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max</span></code>: The max number of completions to complete</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-put-cmd-ctx">
<span id="sec-c-api-xnvme-func-xnvme-queue-put-cmd-ctx"></span><h3>xnvme_queue_put_cmd_ctx<a class="headerlink" href="#xnvme-queue-put-cmd-ctx" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_queue_put_cmd_ctx">
<span class="target" id="libxnvme_8h_1ade86028b3e7be7f5dd935f50f6a36121"></span>int <code class="sig-name descname">xnvme_queue_put_cmd_ctx</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_queue *<em>queue</em>, <em class="property">struct</em> <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a> *<em>ctx</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_put_cmd_ctx" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Hand back a command-context previously retrieve using <a class="reference internal" href="#libxnvme_8h_1ab97b95111f96550bb72f93d32a7a9448"><span class="std std-ref">xnvme_queue_get_cmd_ctx</span></a>. </p>
<p><dl class="simple">
<dt><strong>Note</strong></dt><dd><p>This function is not thread-safe</p>
</dd>
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to hand back the command-context to </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to command context (<a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a>)</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-set-cb">
<span id="sec-c-api-xnvme-func-xnvme-queue-set-cb"></span><h3>xnvme_queue_set_cb<a class="headerlink" href="#xnvme-queue-set-cb" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_queue_set_cb">
<span class="target" id="libxnvme_8h_1a7b16efbcc5f83d914d93b9da9425b8e5"></span>int <code class="sig-name descname">xnvme_queue_set_cb</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_queue *<em>queue</em>, xnvme_queue_cb <em>cb</em>, void *<em>cb_arg</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_set_cb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Assign a callback-function and argument to be used with the <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a> of the queue. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: The xnvme_queue to assign default callback function for </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb</span></code>: The callback function to use </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb_arg</span></code>: The callback argument to use</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-term">
<span id="sec-c-api-xnvme-func-xnvme-queue-term"></span><h3>xnvme_queue_term<a class="headerlink" href="#xnvme-queue-term" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_queue_term">
<span class="target" id="libxnvme_8h_1aaadd62c08f500eb40e872373e0579bbf"></span>int <code class="sig-name descname">xnvme_queue_term</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_queue *<em>queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_term" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Tear down the given xnvme_queue. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to tear down</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-wait">
<span id="sec-c-api-xnvme-func-xnvme-queue-wait"></span><h3>xnvme_queue_wait<a class="headerlink" href="#xnvme-queue-wait" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_queue_wait">
<span class="target" id="libxnvme_8h_1afc7e44345e6cd351f93f1758123eca90"></span>int <code class="sig-name descname">xnvme_queue_wait</code><span class="sig-paren">(</span><em class="property">struct</em> xnvme_queue *<em>queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_wait" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>DEPRECATED: expect that this function will be removed in an upcoming release. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, number of commands processed, may be 0. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to wait/process commands on</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-bw-pr">
<span id="sec-c-api-xnvme-func-xnvme-timer-bw-pr"></span><h3>xnvme_timer_bw_pr<a class="headerlink" href="#xnvme-timer-bw-pr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_timer_bw_pr">
<span class="target" id="libxnvme__util_8h_1aa6e8d645793f68f9844c1d8f1aad3138"></span>void <code class="sig-name descname">xnvme_timer_bw_pr</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a> *<em>t</em>, <em class="property">const</em> char *<em>prefix</em>, size_t <em>nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_bw_pr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Print the elapsed time in seconds and the associated data rate in MB/s. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prefix</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbytes</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-elapsed">
<span id="sec-c-api-xnvme-func-xnvme-timer-elapsed"></span><h3>xnvme_timer_elapsed<a class="headerlink" href="#xnvme-timer-elapsed" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_timer_elapsed">
<span class="target" id="libxnvme__util_8h_1aadbb66d3a98d4aaf1d01579c762961b9"></span>double <code class="sig-name descname">xnvme_timer_elapsed</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a> *<em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_elapsed" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the elapsed time in seconds. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>elapsed time in seconds as a floating point number </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-elapsed-msecs">
<span id="sec-c-api-xnvme-func-xnvme-timer-elapsed-msecs"></span><h3>xnvme_timer_elapsed_msecs<a class="headerlink" href="#xnvme-timer-elapsed-msecs" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_timer_elapsed_msecs">
<span class="target" id="libxnvme__util_8h_1a22dbf6c25056dedc31c5184c8c030115"></span>double <code class="sig-name descname">xnvme_timer_elapsed_msecs</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a> *<em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_elapsed_msecs" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the elapsed time in milliseconds. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>elapsed time in milliseconds as a floating point number </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-elapsed-nsecs">
<span id="sec-c-api-xnvme-func-xnvme-timer-elapsed-nsecs"></span><h3>xnvme_timer_elapsed_nsecs<a class="headerlink" href="#xnvme-timer-elapsed-nsecs" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_timer_elapsed_nsecs">
<span class="target" id="libxnvme__util_8h_1a2313c263fb0fe7fad565e841a1c889e5"></span>uint64_t <code class="sig-name descname">xnvme_timer_elapsed_nsecs</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a> *<em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_elapsed_nsecs" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the elapsed time in nanoseconds. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>elapsed time in nanoseconds </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-elapsed-secs">
<span id="sec-c-api-xnvme-func-xnvme-timer-elapsed-secs"></span><h3>xnvme_timer_elapsed_secs<a class="headerlink" href="#xnvme-timer-elapsed-secs" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_timer_elapsed_secs">
<span class="target" id="libxnvme__util_8h_1ab6fb4a91dde1e29f859004766f6f13f6"></span>double <code class="sig-name descname">xnvme_timer_elapsed_secs</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a> *<em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_elapsed_secs" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the elapsed time in seconds. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>elapsed time in seconds as a floating point number </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-elapsed-usecs">
<span id="sec-c-api-xnvme-func-xnvme-timer-elapsed-usecs"></span><h3>xnvme_timer_elapsed_usecs<a class="headerlink" href="#xnvme-timer-elapsed-usecs" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_timer_elapsed_usecs">
<span class="target" id="libxnvme__util_8h_1aa0ad75e6f5a3927d6813fd75230841f2"></span>double <code class="sig-name descname">xnvme_timer_elapsed_usecs</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a> *<em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_elapsed_usecs" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the elapsed time in microseconds. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>elapsed time in microseconds as a floating point number </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-pr">
<span id="sec-c-api-xnvme-func-xnvme-timer-pr"></span><h3>xnvme_timer_pr<a class="headerlink" href="#xnvme-timer-pr" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_timer_pr">
<span class="target" id="libxnvme__util_8h_1a3941a1de06e8f337d8c57dbebd01b00e"></span>void <code class="sig-name descname">xnvme_timer_pr</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a> *<em>t</em>, <em class="property">const</em> char *<em>prefix</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_pr" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Print the elapsed time in seconds as a floating point number. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prefix</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-start">
<span id="sec-c-api-xnvme-func-xnvme-timer-start"></span><h3>xnvme_timer_start<a class="headerlink" href="#xnvme-timer-start" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_timer_start">
<span class="target" id="libxnvme__util_8h_1ae8d91d84a8746585009d9782d9b4442f"></span>uint64_t <code class="sig-name descname">xnvme_timer_start</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a> *<em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_start" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Start the given timer. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>clock sample in nano seconds </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-stop">
<span id="sec-c-api-xnvme-func-xnvme-timer-stop"></span><h3>xnvme_timer_stop<a class="headerlink" href="#xnvme-timer-stop" title="Permalink to this headline">¶</a></h3>
<dl class="c function">
<dt id="c.xnvme_timer_stop">
<span class="target" id="libxnvme__util_8h_1a51f49d6e70c591975062398bbd568774"></span>uint64_t <code class="sig-name descname">xnvme_timer_stop</code><span class="sig-paren">(</span><em class="property">struct</em> <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a> *<em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_stop" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Stop the given timer. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>clock sample in nano seconds </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="C API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="xnvme_file.html" class="btn btn-neutral float-right" title="xnvme_file" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, xNVMe.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-159785887-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-159785887-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>