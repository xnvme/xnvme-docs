<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Toolchain &mdash; xNVMe 0.7.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css?v=70f28cd9" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=020ce317"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            xNVMe
          </a>
              <div class="version">
                0.7.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../capis/index.html">C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">C API: Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compatibility/index.html">Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci/index.html">CI</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">xNVMe</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Toolchain</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/getting_started/toolchain.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="toolchain">
<span id="sec-building-toolchain"></span><h1>Toolchain<a class="headerlink" href="#toolchain" title="Link to this heading"></a></h1>
<p>The toolchain (compiler, archiver, and linker) used for building <strong>xNVMe</strong>
must support <strong>C11</strong>, <strong>pthreads</strong> and on the system the following tools must
be available:</p>
<ul class="simple">
<li><p>Python (&gt;=3.7)</p></li>
<li><p>meson (&gt;=0.58) and matching version of ninja</p></li>
<li><p>make (gmake)</p></li>
<li><p>gcc/mingw/clang</p></li>
</ul>
<p>Along with libraries:</p>
<ul class="simple">
<li><p>glibc (&gt;= 2.28, for <strong>io_uring/liburing</strong>)</p></li>
<li><p>libaio-dev (&gt;=0.3, For <strong>xNVMe</strong> and <strong>SPDK</strong>)</p></li>
<li><p>libnuma-dev (&gt;=2, For <strong>SPDK</strong>)</p></li>
<li><p>libssl-dev (&gt;=1.1, For <strong>SPDK</strong>)</p></li>
<li><p>liburing (&gt;=2.2, for <strong>xNVMe</strong>)</p></li>
<li><p>uuid-dev (&gt;=2.3, For <strong>SPDK</strong>)</p></li>
</ul>
<p>xNVMe makes use of libraries and interfaces when available and will “gracefully
degrade” when a given library is not available. For example, if liburing is not
available on your system and you do not want to install it, then xNVMe will
simply build without io_uring-support.</p>
<p>The preferred toolchain is <strong>gcc</strong> and the following sections describe how to
install it and required libraries on a set of popular Linux Distributions,
FreeBSD, MacOS, and Windows. If you wish to use a different toolchain then see
the <a class="reference internal" href="index.html#sec-building-custom-toolchain"><span class="std std-ref">Non-GCC Toolchain</span></a>, on how to instrument the build-system
using a compiler other than <strong>gcc</strong>.</p>
<p>In the following sections, the system package-manager is used whenever possible
to install the toolchain and libraries. However, on some Linux distribution
there are not recent enough versions. To circumvent that, then the packages are
installed via the Python package-manager. In some cases even a recent enough
version of Python is not available, to bootstrap it, then Python is built and
installed from source.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When installing packages via the Python package-manager (<code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span>
<span class="pre">pip</span> <span class="pre">install</span></code>), then packages should be installed system-wide. This is
ensure that the installed packages behave as though they were installed
using the system package-manager.</p>
</div>
<p>Package-managers: apk, pkg, dnf, yum, pacman, apt, aptitude, apt-get, pkg,
choco, brew.</p>
<section id="alpine-linux-latest">
<h2>Alpine Linux (latest)<a class="headerlink" href="#alpine-linux-latest" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">alpine</span><span class="o">-</span><span class="n">latest</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install packages via the system package-manager (apk)</span>
apk<span class="w"> </span>add<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bsd-compat-headers<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>build-base<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>clang15-extra-tools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>coreutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>cunit<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>gawk<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>liburing-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libuuid<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>linux-headers<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>musl-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>ncurses<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>numactl-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>perl<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkgconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>py3-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>util-linux-dev

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>

<span class="c1"># Install packages via the Python package-manager (pip)</span>
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-alpine-latest:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe with SPDK and libvfn disabled</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dwith-spdk<span class="o">=</span><span class="nb">false</span>

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are issues with SPDK/DPDK due to incompatibilities with the standard
library provided by <code class="docutils literal notranslate"><span class="pre">musl</span> <span class="pre">libc</span></code>. Additionally, the <code class="docutils literal notranslate"><span class="pre">libexecinfo-dev</span></code>
package is no longer available on Alpine.
Additionally, libvfn also relies on <code class="docutils literal notranslate"><span class="pre">libexecinfo-dev</span></code> which is currently
not available for Alpine Linux. Thus, it is also disabled.
Pull-request fixing these issues are most welcome, until then, disable
libvfn and spdk on Alpine.</p>
</div>
</section>
<section id="arch-linux-latest">
<h2>Arch Linux (latest)<a class="headerlink" href="#arch-linux-latest" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">archlinux</span><span class="o">-</span><span class="n">latest</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install packages via the system package-manager (pacman)</span>
pacman<span class="w"> </span>-Syyu<span class="w"> </span>--noconfirm
pacman<span class="w"> </span>-S<span class="w"> </span>--noconfirm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>base-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>clang<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>cunit<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>liburing<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libutil-linux<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>ncurses<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>numactl<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkg-config<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python-pipx<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python-pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python-setuptools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>util-linux-libs

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>

<span class="c1">#</span>
<span class="c1"># Clone, build and install libisal</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/intel/isa-l.git<span class="w"> </span>toolbox/third-party/libisal/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libisal/repository
git<span class="w"> </span>checkout<span class="w"> </span>v2.30.0
./autogen.sh
./configure<span class="w"> </span>--prefix<span class="o">=</span>/usr<span class="w"> </span>--libdir<span class="o">=</span>/usr/lib
make
make<span class="w"> </span>install
<span class="nb">popd</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-archlinux-latest:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>--prefix<span class="o">=</span>/usr

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The build is configured to install with <code class="docutils literal notranslate"><span class="pre">--prefix=/usr</span></code> this is
intentional such the the <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code> files end up in the default search
path on the system. If you do not want this, then remove <code class="docutils literal notranslate"><span class="pre">--prefix=/usr</span></code>
and adjust your <code class="docutils literal notranslate"><span class="pre">$PKG_CONFIG_PATH</span></code> accordingly.</p>
</div>
</section>
<section id="oracle-linux-9-9">
<h2>Oracle Linux 9 (9)<a class="headerlink" href="#oracle-linux-9-9" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">oraclelinux</span><span class="o">-</span><span class="mf">9.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># This repo has CUnit-devel + meson</span>
dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="s1">&#39;dnf-command(config-manager)&#39;</span>
dnf<span class="w"> </span>config-manager<span class="w"> </span>--set-enabled<span class="w"> </span>ol9_codeready_builder

<span class="c1"># Install packages via the system package-manager (dnf)</span>
dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>CUnit-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>autoconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>clang-tools-extra<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>diffutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>gcc<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>gcc-c++<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libtool<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libuuid-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>ncurses<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>numactl-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkgconfig<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>procps<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>unzip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>wget<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>zlib-devel

<span class="c1"># Install packages via the Python package-manager (pip)</span>
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx

<span class="c1">#</span>
<span class="c1"># Clone, build and install libisal</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/intel/isa-l.git<span class="w"> </span>toolbox/third-party/libisal/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libisal/repository
git<span class="w"> </span>checkout<span class="w"> </span>v2.30.0
./autogen.sh
./configure<span class="w"> </span>--prefix<span class="o">=</span>/usr<span class="w"> </span>--libdir<span class="o">=</span>/usr/lib64
make
make<span class="w"> </span>install
<span class="nb">popd</span>

<span class="c1"># Clone, build and install liburing v2.2</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building liburing are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/axboe/liburing.git<span class="w"> </span>toolbox/third-party/liburing/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/liburing/repository
git<span class="w"> </span>checkout<span class="w"> </span>liburing-2.2
./configure<span class="w"> </span>--libdir<span class="o">=</span>/usr/lib64<span class="w"> </span>--libdevdir<span class="o">=</span>/usr/lib64
make
make<span class="w"> </span>install
<span class="nb">popd</span>

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-oraclelinux-9:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>--prefix<span class="o">=</span>/usr

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
</section>
<section id="rocky-linux-9-2-9-2">
<h2>Rocky Linux 9.2 (9.2)<a class="headerlink" href="#rocky-linux-9-2-9-2" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">rockylinux</span><span class="o">-</span><span class="mf">9.2</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># This repo has CUnit-devel + meson</span>
dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="s1">&#39;dnf-command(config-manager)&#39;</span>
dnf<span class="w"> </span>config-manager<span class="w"> </span>--set-enabled<span class="w"> </span>crb

<span class="c1"># Install packages via the system package-manager (dnf)</span>
dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>CUnit-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>autoconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>clang-tools-extra<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>diffutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>gcc<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>gcc-c++<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libtool<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libuuid-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>ncurses<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>numactl-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkgconfig<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>procps<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>unzip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>wget<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>zlib-devel

<span class="c1"># Install packages via the Python package-manager (pip)</span>
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx

<span class="c1">#</span>
<span class="c1"># Clone, build and install libisal</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/intel/isa-l.git<span class="w"> </span>toolbox/third-party/libisal/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libisal/repository
git<span class="w"> </span>checkout<span class="w"> </span>v2.30.0
./autogen.sh
./configure<span class="w"> </span>--prefix<span class="o">=</span>/usr<span class="w"> </span>--libdir<span class="o">=</span>/usr/lib64
make
make<span class="w"> </span>install
<span class="nb">popd</span>

<span class="c1"># Clone, build and install liburing v2.2</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building liburing are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/axboe/liburing.git<span class="w"> </span>toolbox/third-party/liburing/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/liburing/repository
git<span class="w"> </span>checkout<span class="w"> </span>liburing-2.2
./configure<span class="w"> </span>--libdir<span class="o">=</span>/usr/lib64<span class="w"> </span>--libdevdir<span class="o">=</span>/usr/lib64
make
make<span class="w"> </span>install
<span class="nb">popd</span>

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-rockylinux-9.2:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>--prefix<span class="o">=</span>/usr

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
</section>
<section id="centos-stream-9-stream9">
<h2>CentOS Stream 9 (stream9)<a class="headerlink" href="#centos-stream-9-stream9" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">centos</span><span class="o">-</span><span class="n">stream9</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># This repos has CUnit-devel</span>
dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="s1">&#39;dnf-command(config-manager)&#39;</span>
dnf<span class="w"> </span>config-manager<span class="w"> </span>--set-enabled<span class="w"> </span>crb

<span class="c1"># Install packages via the system package-manager (dnf)</span>
dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>CUnit-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>autoconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>diffutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>gcc<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>gcc-c++<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libtool<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libuuid-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>ncurses<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>numactl-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkgconfig<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>procps<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>unzip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>wget<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>zlib-devel

<span class="c1"># Install packages via the Python package-manager (pip)</span>
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip<span class="w"> </span><span class="c1"># Otherwise too old to understand new Manylinux formats</span>
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>ninja<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pyelftools

<span class="c1">#</span>
<span class="c1"># Clone, build and install libisal</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/intel/isa-l.git<span class="w"> </span>toolbox/third-party/libisal/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libisal/repository
git<span class="w"> </span>checkout<span class="w"> </span>v2.30.0
./autogen.sh
./configure<span class="w"> </span>--prefix<span class="o">=</span>/usr<span class="w"> </span>--libdir<span class="o">=</span>/usr/lib64
make
make<span class="w"> </span>install
<span class="nb">popd</span>

<span class="c1"># Clone, build and install liburing v2.2</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building liburing are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/axboe/liburing.git<span class="w"> </span>toolbox/third-party/liburing/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/liburing/repository
git<span class="w"> </span>checkout<span class="w"> </span>liburing-2.2
./configure<span class="w"> </span>--libdir<span class="o">=</span>/usr/lib64<span class="w"> </span>--libdevdir<span class="o">=</span>/usr/lib64
make
make<span class="w"> </span>install
<span class="nb">popd</span>

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-centos-stream9:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>--prefix<span class="o">=</span>/usr

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
</section>
<section id="debian-testing-trixie">
<h2>Debian Testing (trixie)<a class="headerlink" href="#debian-testing-trixie" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">debian</span><span class="o">-</span><span class="n">trixie</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Unattended update, upgrade, and install</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive
<span class="nb">export</span><span class="w"> </span><span class="nv">DEBIAN_PRIORITY</span><span class="o">=</span>critical
apt-get<span class="w"> </span>-qy<span class="w"> </span>update
apt-get<span class="w"> </span>-qy<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span><span class="s2">&quot;Dpkg::Options::=--force-confdef&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span><span class="s2">&quot;Dpkg::Options::=--force-confold&quot;</span><span class="w"> </span>upgrade
apt-get<span class="w"> </span>-qy<span class="w"> </span>--no-install-recommends<span class="w"> </span>install<span class="w"> </span>apt-utils
apt-get<span class="w"> </span>-qy<span class="w"> </span>autoclean
apt-get<span class="w"> </span>-qy<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>autoconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>build-essential<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>clang-format<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libcunit1-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libisal-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libncurses5-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libnuma-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libssl-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libtool<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>liburing-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkg-config<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-venv<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>uuid-dev

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-debian-trixie:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
</section>
<section id="debian-stable-bookworm">
<h2>Debian Stable (bookworm)<a class="headerlink" href="#debian-stable-bookworm" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">debian</span><span class="o">-</span><span class="n">bookworm</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Unattended update, upgrade, and install</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive
<span class="nb">export</span><span class="w"> </span><span class="nv">DEBIAN_PRIORITY</span><span class="o">=</span>critical
apt-get<span class="w"> </span>-qy<span class="w"> </span>update
apt-get<span class="w"> </span>-qy<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span><span class="s2">&quot;Dpkg::Options::=--force-confdef&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span><span class="s2">&quot;Dpkg::Options::=--force-confold&quot;</span><span class="w"> </span>upgrade
apt-get<span class="w"> </span>-qy<span class="w"> </span>--no-install-recommends<span class="w"> </span>install<span class="w"> </span>apt-utils
apt-get<span class="w"> </span>-qy<span class="w"> </span>autoclean
apt-get<span class="w"> </span>-qy<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>autoconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>build-essential<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>clang-format<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libcunit1-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libisal-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libncurses5-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libnuma-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libssl-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libtool<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>liburing-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkg-config<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-venv<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>uuid-dev

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-debian-bookworm:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
</section>
<section id="debian-oldstable-bullseye">
<h2>Debian Oldstable (bullseye)<a class="headerlink" href="#debian-oldstable-bullseye" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">debian</span><span class="o">-</span><span class="n">bullseye</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Unattended update, upgrade, and install</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive
<span class="nb">export</span><span class="w"> </span><span class="nv">DEBIAN_PRIORITY</span><span class="o">=</span>critical
apt-get<span class="w"> </span>-qy<span class="w"> </span>update
apt-get<span class="w"> </span>-qy<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span><span class="s2">&quot;Dpkg::Options::=--force-confdef&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span><span class="s2">&quot;Dpkg::Options::=--force-confold&quot;</span><span class="w"> </span>upgrade
apt-get<span class="w"> </span>-qy<span class="w"> </span>--no-install-recommends<span class="w"> </span>install<span class="w"> </span>apt-utils
apt-get<span class="w"> </span>-qy<span class="w"> </span>autoclean
apt-get<span class="w"> </span>-qy<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>autoconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>build-essential<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>clang-format<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libcunit1-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libisal-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libncurses5-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libnuma-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libssl-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libtool<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkg-config<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-venv<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>uuid-dev

<span class="c1"># Install packages via the Python package-manager (pip)</span>
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>ninja<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx

<span class="c1"># Clone, build and install liburing v2.2</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building liburing are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/axboe/liburing.git<span class="w"> </span>toolbox/third-party/liburing/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/liburing/repository
git<span class="w"> </span>checkout<span class="w"> </span>liburing-2.2
./configure
make
make<span class="w"> </span>install
<span class="nb">popd</span>

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-debian-bullseye:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
</section>
<section id="fedora-38">
<h2>Fedora (38)<a class="headerlink" href="#fedora-38" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">fedora</span><span class="o">-</span><span class="mf">38.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install packages via the system package-manager (dnf)</span>
dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>CUnit-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>autoconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>clang-tools-extra<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>diffutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>g++<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>gcc<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libtool<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>liburing<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>liburing-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libuuid-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>ncurses<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>numactl-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkgconfig<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>procps<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>zlib-devel

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>

<span class="c1">#</span>
<span class="c1"># Clone, build and install libisal</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/intel/isa-l.git<span class="w"> </span>toolbox/third-party/libisal/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libisal/repository
git<span class="w"> </span>checkout<span class="w"> </span>v2.30.0
./autogen.sh
./configure<span class="w"> </span>--prefix<span class="o">=</span>/usr<span class="w"> </span>--libdir<span class="o">=</span>/usr/lib
make
make<span class="w"> </span>install
<span class="nb">popd</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-fedora-38:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>--prefix<span class="o">=</span>/usr

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
</section>
<section id="fedora-37">
<h2>Fedora (37)<a class="headerlink" href="#fedora-37" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">fedora</span><span class="o">-</span><span class="mf">37.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install packages via the system package-manager (dnf)</span>
dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>CUnit-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>autoconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>clang-tools-extra<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>diffutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>g++<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>gcc<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libtool<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>liburing<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>liburing-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libuuid-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>ncurses<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>numactl-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkgconfig<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>procps<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>zlib-devel

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>

<span class="c1">#</span>
<span class="c1"># Clone, build and install libisal</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/intel/isa-l.git<span class="w"> </span>toolbox/third-party/libisal/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libisal/repository
git<span class="w"> </span>checkout<span class="w"> </span>v2.30.0
./autogen.sh
./configure<span class="w"> </span>--prefix<span class="o">=</span>/usr<span class="w"> </span>--libdir<span class="o">=</span>/usr/lib
make
make<span class="w"> </span>install
<span class="nb">popd</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-fedora-37:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>--prefix<span class="o">=</span>/usr

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
</section>
<section id="fedora-36">
<h2>Fedora (36)<a class="headerlink" href="#fedora-36" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">fedora</span><span class="o">-</span><span class="mf">36.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install packages via the system package-manager (dnf)</span>
dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>CUnit-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>autoconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>clang-tools-extra<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>diffutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>g++<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>gcc<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libtool<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libuuid-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>ncurses<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>numactl-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkgconfig<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>procps<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>zlib-devel

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>

<span class="c1">#</span>
<span class="c1"># Clone, build and install libisal</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/intel/isa-l.git<span class="w"> </span>toolbox/third-party/libisal/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libisal/repository
git<span class="w"> </span>checkout<span class="w"> </span>v2.30.0
./autogen.sh
./configure<span class="w"> </span>--prefix<span class="o">=</span>/usr<span class="w"> </span>--libdir<span class="o">=</span>/usr/lib64
make
make<span class="w"> </span>install
<span class="nb">popd</span>

<span class="c1"># Clone, build and install liburing v2.2</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building liburing are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/axboe/liburing.git<span class="w"> </span>toolbox/third-party/liburing/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/liburing/repository
git<span class="w"> </span>checkout<span class="w"> </span>liburing-2.2
./configure<span class="w"> </span>--libdir<span class="o">=</span>/usr/lib64<span class="w"> </span>--libdevdir<span class="o">=</span>/usr/lib64
make
make<span class="w"> </span>install
<span class="nb">popd</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-fedora-36:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>--prefix<span class="o">=</span>/usr

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
</section>
<section id="ubuntu-latest-lunar">
<h2>Ubuntu Latest (lunar)<a class="headerlink" href="#ubuntu-latest-lunar" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">ubuntu</span><span class="o">-</span><span class="n">lunar</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Unattended update, upgrade, and install</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive
<span class="nb">export</span><span class="w"> </span><span class="nv">DEBIAN_PRIORITY</span><span class="o">=</span>critical
apt-get<span class="w"> </span>-qy<span class="w"> </span>update
apt-get<span class="w"> </span>-qy<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span><span class="s2">&quot;Dpkg::Options::=--force-confdef&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span><span class="s2">&quot;Dpkg::Options::=--force-confold&quot;</span><span class="w"> </span>upgrade
apt-get<span class="w"> </span>-qy<span class="w"> </span>--no-install-recommends<span class="w"> </span>install<span class="w"> </span>apt-utils
apt-get<span class="w"> </span>-qy<span class="w"> </span>autoclean
apt-get<span class="w"> </span>-qy<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>autoconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>build-essential<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>clang-format<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libcunit1-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libisal-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libncurses5-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libnuma-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libssl-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libtool<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>liburing-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkg-config<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-venv<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>uuid-dev

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-ubuntu-lunar:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All tools and libraries are available via system package-manager.</p>
</div>
</section>
<section id="ubuntu-lts-jammy">
<h2>Ubuntu LTS (jammy)<a class="headerlink" href="#ubuntu-lts-jammy" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">ubuntu</span><span class="o">-</span><span class="n">jammy</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Unattended update, upgrade, and install</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive
<span class="nb">export</span><span class="w"> </span><span class="nv">DEBIAN_PRIORITY</span><span class="o">=</span>critical
apt-get<span class="w"> </span>-qy<span class="w"> </span>update
apt-get<span class="w"> </span>-qy<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span><span class="s2">&quot;Dpkg::Options::=--force-confdef&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span><span class="s2">&quot;Dpkg::Options::=--force-confold&quot;</span><span class="w"> </span>upgrade
apt-get<span class="w"> </span>-qy<span class="w"> </span>--no-install-recommends<span class="w"> </span>install<span class="w"> </span>apt-utils
apt-get<span class="w"> </span>-qy<span class="w"> </span>autoclean
apt-get<span class="w"> </span>-qy<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>autoconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>build-essential<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>clang-format<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libcunit1-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libisal-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libncurses5-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libnuma-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libssl-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libtool<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkg-config<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-venv<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>uuid-dev

<span class="c1"># Install packages via the Python package-manager (pip)</span>
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>ninja

<span class="c1"># Clone, build and install liburing v2.2</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building liburing are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/axboe/liburing.git<span class="w"> </span>toolbox/third-party/liburing/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/liburing/repository
git<span class="w"> </span>checkout<span class="w"> </span>liburing-2.2
./configure
make
make<span class="w"> </span>install
<span class="nb">popd</span>

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-ubuntu-jammy:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Installing liburing from source and meson + ninja via pip</p>
</div>
</section>
<section id="ubuntu-lts-focal">
<h2>Ubuntu LTS (focal)<a class="headerlink" href="#ubuntu-lts-focal" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">ubuntu</span><span class="o">-</span><span class="n">focal</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Unattended update, upgrade, and install</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive
<span class="nb">export</span><span class="w"> </span><span class="nv">DEBIAN_PRIORITY</span><span class="o">=</span>critical
apt-get<span class="w"> </span>-qy<span class="w"> </span>update
apt-get<span class="w"> </span>-qy<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span><span class="s2">&quot;Dpkg::Options::=--force-confdef&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span><span class="s2">&quot;Dpkg::Options::=--force-confold&quot;</span><span class="w"> </span>upgrade
apt-get<span class="w"> </span>-qy<span class="w"> </span>--no-install-recommends<span class="w"> </span>install<span class="w"> </span>apt-utils
apt-get<span class="w"> </span>-qy<span class="w"> </span>autoclean
apt-get<span class="w"> </span>-qy<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>autoconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>build-essential<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>clang-format<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libcunit1-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libisal-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libncurses5-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libnuma-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libssl-dev<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libtool<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkg-config<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-venv<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>uuid-dev

<span class="c1"># Install packages via the Python package-manager (pip)</span>
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>ninja

<span class="c1"># Clone, build and install liburing v2.2</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building liburing are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/axboe/liburing.git<span class="w"> </span>toolbox/third-party/liburing/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/liburing/repository
git<span class="w"> </span>checkout<span class="w"> </span>liburing-2.2
./configure
make
make<span class="w"> </span>install
<span class="nb">popd</span>

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-ubuntu-focal:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Installing liburing from source and meson + ninja via pip</p>
</div>
</section>
<section id="gentoo-latest">
<h2>Gentoo (latest)<a class="headerlink" href="#gentoo-latest" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">gentoo</span><span class="o">-</span><span class="n">latest</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;build requires linking against ncurses AND tinfo, run the following before compilation:&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;export LDFLAGS=\&quot;-ltinfo -lncurses\&quot;&quot;</span>

emerge-webrsync
emerge<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>app-arch/libarchive<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>dev-build/meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>dev-lang/nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>dev-libs/isa-l<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>dev-libs/libaio<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>dev-libs/openssl<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>dev-python/pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>dev-python/pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>dev-util/cunit<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>dev-util/pkgconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>dev-vcs/git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>sys-libs/liburing<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>sys-libs/ncurses<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>sys-process/numactl

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>

<span class="c1"># Install packages via the Python package-manager (pip)</span>
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--break-system-packages<span class="w"> </span>--upgrade<span class="w"> </span>pip
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--break-system-packages<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-gentoo-latest:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">&quot;-ltinfo -lncurses&quot;</span>

<span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>--prefix<span class="o">=</span>/usr

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In case you get <code class="docutils literal notranslate"><span class="pre">error</span> <span class="pre">adding</span> <span class="pre">symbols:</span> <span class="pre">DSO</span> <span class="pre">missing</span> <span class="pre">from</span> <span class="pre">command</span> <span class="pre">line</span></code>,
during compilation, then add <code class="docutils literal notranslate"><span class="pre">-ltinfo</span> <span class="pre">-lnurces</span></code> to <code class="docutils literal notranslate"><span class="pre">LDFLAGS</span></code> as it is
done in the commands above.
The build is configured to install with <code class="docutils literal notranslate"><span class="pre">--prefix=/usr</span></code> this is
intentional such the the <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code> files end up in the default search
path on the system. If you do not want this, then remove <code class="docutils literal notranslate"><span class="pre">--prefix=/usr</span></code>
and adjust your <code class="docutils literal notranslate"><span class="pre">$PKG_CONFIG_PATH</span></code> accordingly.</p>
</div>
</section>
<section id="opensuse-tumbleweed-latest">
<h2>openSUSE (tumbleweed-latest)<a class="headerlink" href="#opensuse-tumbleweed-latest" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">opensuse</span><span class="o">-</span><span class="n">tumbleweed</span><span class="o">-</span><span class="n">latest</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>zypper<span class="w"> </span>--non-interactive<span class="w"> </span>refresh

<span class="c1"># Install packages via the system package-manager (zypper)</span>
zypper<span class="w"> </span>--non-interactive<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>--allow-downgrade<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>autoconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>awk<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>clang-tools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>cunit-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>gcc<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>gcc-c++<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>gzip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libaio-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libarchive-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libnuma-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libopenssl-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libtool<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>liburing-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libuuid-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>make<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>ncurses<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkg-config<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-devel<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pip<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pipx<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3-pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>tar

<span class="c1">#</span>
<span class="c1"># Clone, build and install libvfn</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Dependencies for building libvfn are met (system packages etc.)</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/OpenMPDK/libvfn.git<span class="w"> </span>toolbox/third-party/libvfn/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libvfn/repository
git<span class="w"> </span>checkout<span class="w"> </span>v3.0.1
meson<span class="w"> </span>setup<span class="w"> </span>builddir<span class="w"> </span>-Dlibnvme<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>-Ddocs<span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="w"> </span>--buildtype<span class="o">=</span>release<span class="w"> </span>--prefix<span class="o">=</span>/usr
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir
<span class="nb">popd</span>

<span class="c1">#</span>
<span class="c1"># Clone, build and install libisal</span>
<span class="c1">#</span>
<span class="c1"># Assumptions:</span>
<span class="c1">#</span>
<span class="c1"># - Commands are executed with sufficient privileges (sudo/root)</span>
<span class="c1">#</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/intel/isa-l.git<span class="w"> </span>toolbox/third-party/libisal/repository

<span class="nb">pushd</span><span class="w"> </span>toolbox/third-party/libisal/repository
git<span class="w"> </span>checkout<span class="w"> </span>v2.30.0
./autogen.sh
./configure<span class="w"> </span>--prefix<span class="o">=</span>/usr<span class="w"> </span>--libdir<span class="o">=</span>/usr/lib
make
make<span class="w"> </span>install
<span class="nb">popd</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-opensuse-tumbleweed-latest:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All tools and libraries are available via system package-manager.</p>
</div>
</section>
<section id="freebsd-13">
<h2>FreeBSD (13)<a class="headerlink" href="#freebsd-13" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">freebsd</span><span class="o">-</span><span class="mf">13.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install packages via the system package-manager (pkg)</span>
pkg<span class="w"> </span>install<span class="w"> </span>-qy<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>autoconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>automake<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>bash<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>cunit<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>devel/py-pyelftools<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>e2fsprogs-libuuid<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>findutils<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>git<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>gmake<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>isa-l<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>libtool<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>meson<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>nasm<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>ncurses<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>openssl<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>patch<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pkgconf<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>py39-pipx<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>python3<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>wget

<span class="c1"># Upgrade pip</span>
python3<span class="w"> </span>-m<span class="w"> </span>ensurepip<span class="w"> </span>--upgrade

<span class="c1"># Installing meson via pip as the one available &#39;pkg install&#39; currently that is 0.62.2, breaks with</span>
<span class="c1"># a &quot;File name too long&quot;, 0.60 seems ok.</span>
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">meson</span><span class="o">==</span><span class="m">0</span>.60
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-freebsd-13:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Interfaces; libaio, liburing, and libvfn are not supported on FreeBSD.</p>
</div>
</section>
<section id="macos-13">
<h2>macOS (13)<a class="headerlink" href="#macos-13" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">macos</span><span class="o">-</span><span class="mf">13.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is done to avoid appleframework deprecation warnings</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MACOSX_DEPLOYMENT_TARGET</span><span class="o">=</span><span class="m">11</span>.0
<span class="nb">export</span><span class="w"> </span><span class="nv">HOMEBREW_NO_AUTO_UPDATE</span><span class="o">=</span><span class="m">1</span>

<span class="c1"># Install packages via brew, assuming that brew is: installed, updated, and upgraded</span>
clang-format<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>clang-format<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
git<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>git<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
isa-l<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>isa-l<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
<span class="k">if</span><span class="w"> </span>make<span class="w"> </span>--version<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>i386-apple<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">  </span>brew<span class="w"> </span>install<span class="w"> </span>make
<span class="k">fi</span>

meson<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>meson<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
pkg-config<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>pkg-config<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
python3<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>python3<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>

<span class="c1"># Install packages via the Python package-manager (pip)</span>
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-macos-13:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure xNVMe and build meson subprojects(SPDK)</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Interfaces; libaio, liburing, libvfn, and SPDK are not supported on macOS.</p>
</div>
</section>
<section id="macos-12">
<h2>macOS (12)<a class="headerlink" href="#macos-12" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">macos</span><span class="o">-</span><span class="mf">12.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is done to avoid appleframework deprecation warnings</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MACOSX_DEPLOYMENT_TARGET</span><span class="o">=</span><span class="m">11</span>.0
<span class="nb">export</span><span class="w"> </span><span class="nv">HOMEBREW_NO_AUTO_UPDATE</span><span class="o">=</span><span class="m">1</span>

<span class="c1"># Install packages via brew, assuming that brew is: installed, updated, and upgraded</span>
clang-format<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>clang-format<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
git<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>git<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
isa-l<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>isa-l<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
<span class="k">if</span><span class="w"> </span>make<span class="w"> </span>--version<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>i386-apple<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">  </span>brew<span class="w"> </span>install<span class="w"> </span>make
<span class="k">fi</span>

meson<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>meson<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
pkg-config<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>pkg-config<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
python3<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>python3<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>

<span class="c1"># Install packages via the Python package-manager (pip)</span>
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-macos-12:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is done to avoid appleframework deprecation warnings</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MACOSX_DEPLOYMENT_TARGET</span><span class="o">=</span><span class="m">11</span>.0

<span class="c1"># configure xNVMe</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
sudo<span class="w"> </span>meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Interfaces; libaio, liburing, libvfn, and SPDK are not supported on macOS.</p>
</div>
</section>
<section id="macos-11">
<h2>macOS (11)<a class="headerlink" href="#macos-11" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as <code class="docutils literal notranslate"><span class="pre">root</span></code> or with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>), by executing the commands below. You can
run this from the root of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">xnvme</span><span class="o">/</span><span class="n">toolbox</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">macos</span><span class="o">-</span><span class="mf">11.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is done to avoid appleframework deprecation warnings</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MACOSX_DEPLOYMENT_TARGET</span><span class="o">=</span><span class="m">11</span>.0
<span class="nb">export</span><span class="w"> </span><span class="nv">HOMEBREW_NO_AUTO_UPDATE</span><span class="o">=</span><span class="m">1</span>

<span class="c1"># Install packages via brew, assuming that brew is: installed, updated, and upgraded</span>
clang-format<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>clang-format<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
git<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>git<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
isa-l<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>isa-l<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
<span class="k">if</span><span class="w"> </span>make<span class="w"> </span>--version<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>i386-apple<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">  </span>brew<span class="w"> </span>install<span class="w"> </span>make
<span class="k">fi</span>

meson<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>meson<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
pkg-config<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>pkg-config<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>
python3<span class="w"> </span>--version<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Installed&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>python3<span class="w"> </span>--overwrite<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed installing&quot;</span>

<span class="c1"># Install packages via the Python package-manager (pip)</span>
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip
python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w"> </span>pipx
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Docker-image is provided via <code class="docutils literal notranslate"><span class="pre">ghcr.io</span></code>, specifically
<code class="docutils literal notranslate"><span class="pre">ghcr.io/xnvme/xnvme-deps-macos-11:next</span></code>. This Docker-image contains
all the software described above.</p>
</div>
<p>Then go ahead and configure, build and install using <code class="docutils literal notranslate"><span class="pre">meson</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is done to avoid appleframework deprecation warnings</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MACOSX_DEPLOYMENT_TARGET</span><span class="o">=</span><span class="m">11</span>.0

<span class="c1"># configure xNVMe</span>
meson<span class="w"> </span>setup<span class="w"> </span>builddir

<span class="c1"># build xNVMe</span>
meson<span class="w"> </span>compile<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># install xNVMe</span>
sudo<span class="w"> </span>meson<span class="w"> </span>install<span class="w"> </span>-C<span class="w"> </span>builddir

<span class="c1"># uninstall xNVMe</span>
<span class="c1"># cd builddir &amp;&amp; meson --internal uninstall</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Interfaces; libaio, liburing, libvfn, and SPDK are not supported on macOS.</p>
</div>
</section>
<section id="windows-2022">
<h2>Windows (2022)<a class="headerlink" href="#windows-2022" title="Link to this heading"></a></h2>
<p>Install the required toolchain and libraries, with sufficient system privileges
(e.g. as eleveted command prompt), by executing the commands below. You can
run this on administrator command prompt of the <strong>xNVMe</strong> by invoking:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">call</span> <span class="n">xnvme</span>\<span class="n">toolbox</span>\<span class="n">pkgs</span>\<span class="n">windows</span><span class="o">-</span><span class="mf">2022.</span><span class="n">bat</span>
</pre></div>
</div>
<p>Or, run the commands contained within the script manually:</p>
<div class="highlight-batch notranslate"><div class="highlight"><pre><span></span><span class="p">@</span><span class="k">echo</span> off
<span class="p">@</span><span class="k">setlocal</span> enableextensions enabledelayedexpansion

net session <span class="p">&gt;</span>nul: <span class="mi">2</span><span class="p">&gt;&amp;</span><span class="mi">1</span>
<span class="k">if</span> <span class="k">errorlevel</span> <span class="mi">1</span> <span class="p">(</span>
	<span class="k">echo</span> <span class="nv">%0</span> must be run with Administrator privileges
	<span class="k">goto</span> <span class="p">:</span><span class="nl">eof</span>
<span class="p">)</span>

<span class="p">:</span><span class="c1">: Use PowerShell to install Chocolatey</span>
<span class="k">set</span> <span class="s2">&quot;PATH=</span><span class="nv">%ALLUSERSPROFILE%</span><span class="s2">\chocolatey\bin;</span><span class="nv">%PATH%</span><span class="s2">&quot;</span>
<span class="k">echo</span> [1/6] Install: Chocolatey Manager
powershell -NoProfile -InputFormat None -ExecutionPolicy Bypass -Command <span class="s2">&quot;[System.Net.ServicePointManager]::SecurityProtocol = 3072; iex ((New-Object System.Net.WebClient).DownloadString(&#39;https://chocolatey.org/install.ps1&#39;))&quot;</span>
where /q choco
<span class="k">if</span> <span class="k">errorlevel</span> <span class="mi">1</span> <span class="p">(</span>
	<span class="k">echo</span> [1/6] Install: Chocolatey = FAIL
	<span class="k">goto</span> <span class="p">:</span><span class="nl">eof</span>
<span class="p">)</span>
<span class="k">echo</span> [1/6] Install: Chocolatey = PASS

<span class="p">:</span><span class="c1">: Use Chocolatey to install msys2</span>
<span class="k">echo</span> [2/6] Install: MSYS2
<span class="k">set</span> <span class="s2">&quot;PATH=</span><span class="nv">%SystemDrive%</span><span class="s2">\msys64;</span><span class="nv">%PATH%</span><span class="s2">&quot;</span>
choco install msys2 -y -r --params <span class="s2">&quot;/NoUpdate /InstallDir:C:\msys64&quot;</span>
where /q msys2
<span class="k">if</span> <span class="k">errorlevel</span> <span class="mi">1</span> <span class="p">(</span>
	<span class="k">echo</span> [2/6] Install: MSYS2 = FAIL
	<span class="k">goto</span> <span class="p">:</span><span class="nl">eof</span>
<span class="p">)</span>
<span class="k">echo</span> [2/6] Install: MSYS2 = PASS

<span class="k">echo</span> [3/6] Install: Git
choco install git -y -r
<span class="k">echo</span> [3/6] Install: Git = PASS

<span class="k">echo</span> [4/6] Install: dos2unix
choco install dos2unix
<span class="k">echo</span> [4/6] Install: dos2unix = PASS

<span class="p">:</span><span class="c1">: Use MSYS2/pacman to install gcc and clang toolchain</span>
<span class="k">set</span> <span class="nv">MSYS2</span><span class="p">=</span>call msys2_shell -no-start -here -use-full-path -defterm

<span class="k">echo</span> [5/6] Install: MinGW Toolchain via msys2/pacman
<span class="k">set</span> <span class="s2">&quot;PATH=</span><span class="nv">%SystemDrive%</span><span class="s2">\msys64\mingw64\bin;</span><span class="nv">%PATH%</span><span class="s2">&quot;</span>
<span class="nv">%MSYS2%</span> -c <span class="s2">&quot;pacman --noconfirm -Syy --needed base-devel mingw-w64-x86_64-toolchain&quot;</span>
where /q gcc
<span class="k">if</span> <span class="k">errorlevel</span> <span class="mi">1</span> <span class="p">(</span>
	<span class="k">echo</span> [5/6] Install: MinGW Toolchain via msys2/pacman = FAIL
	<span class="k">goto</span> <span class="p">:</span><span class="nl">eof</span>
<span class="p">)</span>
<span class="k">echo</span> [5/6] Install: MinGW Toolchain via msys2/pacman = PASS

<span class="k">echo</span> [6/6] Install: MinGW/meson via msys2/pacman
<span class="nv">%MSYS2%</span> -c <span class="s2">&quot;pacman --noconfirm -Syy mingw-w64-x86_64-meson&quot;</span>
<span class="k">echo</span> [6/6] Install: MinGW/meson via msys2/pacman = OK
</pre></div>
</div>
<p>Then go ahead and configure, build and install using helper batch script <code class="docutils literal notranslate"><span class="pre">build.bat</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="c1"># build: auto-configure xNVMe, build third-party libraries, and xNVMe itself</span>
<span class="w">  </span>build.bat

<span class="w">  </span><span class="c1"># config: only configure xNVMe</span>
<span class="w">  </span>build.bat<span class="w"> </span>config

<span class="w">  </span><span class="c1"># config: debug only configure xNVMe</span>
<span class="w">  </span>build.bat<span class="w"> </span>config-debug

<span class="w">  </span><span class="c1"># install xNVMe</span>
<span class="w">  </span>build.bat<span class="w"> </span>install

<span class="w">  </span><span class="c1"># uninstall xNVMe</span>
<span class="w">  </span><span class="c1"># build.bat uninstall</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In case you see <code class="docutils literal notranslate"><span class="pre">.dll</span></code> loader-errors, then check that the environment
variable <code class="docutils literal notranslate"><span class="pre">PATH</span></code> contains the various library locations of the toolchain.
Interfaces; libaio, liburing, libvfn, and SPDK are not supported on
Windows.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, xNVMe.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-159785887-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-159785887-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>