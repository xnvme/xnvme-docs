

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>xnvme &mdash; xNVMe 0.0.24 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="xnvme_file" href="xnvme_file.html" />
    <link rel="prev" title="C API" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> xNVMe
          

          
          </a>

          
            
            
              <div class="version">
                0.0.24
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">C API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">xnvme</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#header">Header</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enums">Enums</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-pr">xnvme_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-opts">xnvme_queue_opts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#structs">Structs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-be-attr">xnvme_be_attr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-be-attr-list">xnvme_be_attr_list</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-ctx">xnvme_cmd_ctx</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumeration">xnvme_enumeration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-ident">xnvme_ident</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-range">xnvme_lba_range</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer">xnvme_timer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#functions">Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-ilog2">XNVME_ILOG2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-max">XNVME_MAX</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-min">XNVME_MIN</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-min-s64">XNVME_MIN_S64</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-min-u64">XNVME_MIN_U64</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-be-attr-fpr">xnvme_be_attr_fpr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-be-attr-list-bundled">xnvme_be_attr_list_bundled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-be-attr-list-fpr">xnvme_be_attr_list_fpr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-be-attr-list-pr">xnvme_be_attr_list_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-be-attr-pr">xnvme_be_attr_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-alloc">xnvme_buf_alloc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-free">xnvme_buf_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-phys-alloc">xnvme_buf_phys_alloc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-phys-free">xnvme_buf_phys_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-phys-realloc">xnvme_buf_phys_realloc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-realloc">xnvme_buf_realloc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-virt-alloc">xnvme_buf_virt_alloc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-virt-free">xnvme_buf_virt_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-buf-vtophys">xnvme_buf_vtophys</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-ctx-clear">xnvme_cmd_ctx_clear</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-ctx-cpl-status">xnvme_cmd_ctx_cpl_status</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-ctx-from-dev">xnvme_cmd_ctx_from_dev</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-ctx-from-queue">xnvme_cmd_ctx_from_queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-ctx-pr">xnvme_cmd_ctx_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-ctx-set-cb">xnvme_cmd_ctx_set_cb</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-pass">xnvme_cmd_pass</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-cmd-pass-admin">xnvme_cmd_pass_admin</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumerate">xnvme_enumerate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumeration-fpp">xnvme_enumeration_fpp</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumeration-fpr">xnvme_enumeration_fpr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumeration-pp">xnvme_enumeration_pp</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-enumeration-pr">xnvme_enumeration_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-ident-fpr">xnvme_ident_fpr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-ident-from-uri">xnvme_ident_from_uri</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-ident-pr">xnvme_ident_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-is-pow2">xnvme_is_pow2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-fpr">xnvme_lba_fpr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-fprn">xnvme_lba_fprn</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-pr">xnvme_lba_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-prn">xnvme_lba_prn</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-range-fpr">xnvme_lba_range_fpr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-range-from-offset-nbytes">xnvme_lba_range_from_offset_nbytes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-range-from-slba-elba">xnvme_lba_range_from_slba_elba</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-range-from-slba-naddrs">xnvme_lba_range_from_slba_naddrs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-range-from-zdescr">xnvme_lba_range_from_zdescr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-lba-range-pr">xnvme_lba_range_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-get-capacity">xnvme_queue_get_capacity</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-get-cmd-ctx">xnvme_queue_get_cmd_ctx</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-get-outstanding">xnvme_queue_get_outstanding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-init">xnvme_queue_init</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-poke">xnvme_queue_poke</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-put-cmd-ctx">xnvme_queue_put_cmd_ctx</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-set-cb">xnvme_queue_set_cb</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-term">xnvme_queue_term</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-queue-wait">xnvme_queue_wait</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-bw-pr">xnvme_timer_bw_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-elapsed">xnvme_timer_elapsed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-elapsed-msecs">xnvme_timer_elapsed_msecs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-elapsed-nsecs">xnvme_timer_elapsed_nsecs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-elapsed-secs">xnvme_timer_elapsed_secs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-elapsed-usecs">xnvme_timer_elapsed_usecs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-pr">xnvme_timer_pr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-start">xnvme_timer_start</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xnvme-timer-stop">xnvme_timer_stop</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_file.html">xnvme_file</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_nvm.html">xnvme_nvm</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_znd.html">xnvme_znd</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_adm.html">xnvme_adm</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_dev.html">xnvme_dev</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_geo.html">xnvme_geo</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_spec.html">xnvme_spec</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_sgl.html">xnvme_sgl</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_3p.html">xnvme_3p</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvme_ver.html">xnvme_ver</a></li>
<li class="toctree-l2"><a class="reference internal" href="xnvmec.html">xnvmec</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">C API: Examples</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">xNVMe</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">C API</a> &raquo;</li>
        
      <li>xnvme</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/capis/xnvme.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="xnvme">
<span id="sec-c-api-xnvme"></span><h1>xnvme<a class="headerlink" href="#xnvme" title="Permalink to this headline">¶</a></h1>
<div class="section" id="header">
<span id="sec-c-api-xnvme-header"></span><h2>Header<a class="headerlink" href="#header" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * Cross-platform I/O library for NVMe devices</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) Simon A. F. Lund &lt;simon.lund@samsung.com&gt;</span>
<span class="cm"> * Copyright (C) Klaus B. A. Jensen &lt;k.jensen@samsung.com&gt;</span>
<span class="cm"> * SPDX-License-Identifier: Apache-2.0</span>
<span class="cm"> *</span>
<span class="cm"> * @file libxnvme.h</span>
<span class="cm"> */</span>
<span class="cp">#ifndef __LIBXNVME_H</span>
<span class="cp">#define __LIBXNVME_H</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="k">extern</span> <span class="s">&quot;C&quot;</span> <span class="p">{</span>
<span class="cp">#endif</span>

<span class="cp">#include</span> <span class="cpf">&lt;inttypes.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdint.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;sys/types.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;sys/queue.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;libxnvme_ident.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;libxnvme_be.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;libxnvme_spec.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;libxnvme_util.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;libxnvme_geo.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;libxnvme_dev.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;libxnvme_buf.h&gt;</span><span class="cp"></span>

<span class="cm">/**</span>
<span class="cm"> * List of devices found on the system usable with xNVMe</span>
<span class="cm"> *</span>
<span class="cm"> * @struct xnvme_enumeration</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">xnvme_enumeration</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">capacity</span><span class="p">;</span>		<span class="c1">///&lt; Remaining unused entries</span>
	<span class="kt">uint32_t</span> <span class="n">nentries</span><span class="p">;</span>		<span class="c1">///&lt; Used entries</span>
	<span class="k">struct</span> <span class="n">xnvme_ident</span> <span class="n">entries</span><span class="p">[];</span>	<span class="c1">///&lt; Device entries</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Enumerate devices on the given system</span>
<span class="cm"> *</span>
<span class="cm"> * @param list Pointer to pointer of the list of device enumerated</span>
<span class="cm"> * @param sys_uri URI of the system to enumerate on, when NULL, localhost/PCIe</span>
<span class="cm"> * @param opts System enumeration options</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_enumerate</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_enumeration</span> <span class="o">**</span><span class="n">list</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">sys_uri</span><span class="p">,</span> <span class="kt">int</span> <span class="n">opts</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Opaque device handle.</span>
<span class="cm"> *</span>
<span class="cm"> * @see xnvme_dev_open()</span>
<span class="cm"> *</span>
<span class="cm"> * @struct xnvme_dev</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">xnvme_dev</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Creates a device handle (::xnvme_dev) based on the given device-uri</span>
<span class="cm"> *</span>
<span class="cm"> * @param dev_uri File path &quot;/dev/nvme0n1&quot; or &quot;pci://0000:04.01?nsid=1&quot;</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, a handle to the device. On error, NULL is returned and `errno` set to</span>
<span class="cm"> * indicate the error.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">xnvme_dev</span> <span class="o">*</span>
<span class="nf">xnvme_dev_open</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">dev_uri</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Destroy the given device handle (::xnvme_dev)</span>
<span class="cm"> *</span>
<span class="cm"> * @param dev Device handle obtained with xnvme_dev_open() / xnvme_dev_openf()</span>
<span class="cm"> */</span>
<span class="kt">void</span>
<span class="nf">xnvme_dev_close</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Allocate a buffer for IO with the given device</span>
<span class="cm"> *</span>
<span class="cm"> * The buffer will be aligned to device geometry and DMA allocated if required by the backend for</span>
<span class="cm"> * command payloads</span>
<span class="cm"> *</span>
<span class="cm"> * @note</span>
<span class="cm"> * nbytes must be greater than zero and a multiple of minimal granularity</span>
<span class="cm"> * @note</span>
<span class="cm"> * De-allocate the buffer using xnvme_buf_free()</span>
<span class="cm"> *</span>
<span class="cm"> * @param dev Device handle obtained with xnvme_dev_open() / xnvme_dev_openf()</span>
<span class="cm"> * @param nbytes The size of the allocated buffer in bytes</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, a pointer to the allocated memory is returned. On error, NULL is returned</span>
<span class="cm"> * and `errno` set to indicate the error.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="o">*</span>
<span class="nf">xnvme_buf_alloc</span><span class="p">(</span><span class="k">const</span> <span class="k">struct</span> <span class="n">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">nbytes</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Reallocate a buffer for IO with the given device</span>
<span class="cm"> *</span>
<span class="cm"> * The buffer will be aligned to device geometry and DMA allocated if required by the backend for</span>
<span class="cm"> * IO</span>
<span class="cm"> *</span>
<span class="cm"> * @note</span>
<span class="cm"> * nbytes must be greater than zero and a multiple of minimal granularity</span>
<span class="cm"> * @note</span>
<span class="cm"> * De-allocate the buffer using xnvme_buf_free()</span>
<span class="cm"> *</span>
<span class="cm"> * @param dev Device handle obtained with xnvme_dev_open() / xnvme_dev_openf()</span>
<span class="cm"> * @param buf The buffer to reallocate</span>
<span class="cm"> * @param nbytes The size of the allocated buffer in bytes</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, a pointer to the allocated memory is returned. On error, NULL is returned</span>
<span class="cm"> * and `errno` set to indicate the error.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="o">*</span>
<span class="nf">xnvme_buf_realloc</span><span class="p">(</span><span class="k">const</span> <span class="k">struct</span> <span class="n">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">nbytes</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Free the given IO buffer allocated with xnvme_buf_alloc()</span>
<span class="cm"> *</span>
<span class="cm"> * @param dev Device handle obtained with xnvme_dev_open() / xnvme_dev_openf()</span>
<span class="cm"> * @param buf Pointer to a buffer allocated with xnvme_buf_alloc()</span>
<span class="cm"> */</span>
<span class="kt">void</span>
<span class="nf">xnvme_buf_free</span><span class="p">(</span><span class="k">const</span> <span class="k">struct</span> <span class="n">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">buf</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Opaque Command Queue Handle to be initialized by xnvme_queue_init()</span>
<span class="cm"> *</span>
<span class="cm"> * @see xnvme_queue_init</span>
<span class="cm"> * @see xnvme_queue_term</span>
<span class="cm"> *</span>
<span class="cm"> * @struct xnvme_queue</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">xnvme_queue</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Command Queue initialization options</span>
<span class="cm"> *</span>
<span class="cm"> * @enum xnvme_queue_opts</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">xnvme_queue_opts</span> <span class="p">{</span>
	<span class="n">XNVME_QUEUE_IOPOLL</span> <span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span>       <span class="c1">///&lt; XNVME_QUEUE_IOPOLL: queue. is polled for completions</span>
	<span class="n">XNVME_QUEUE_SQPOLL</span> <span class="o">=</span> <span class="mh">0x1</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1">///&lt; XNVME_QUEUE_SQPOLL: queue. is polled for submissions</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Allocate a Command Queue for asynchronous command submission and completion</span>
<span class="cm"> *</span>
<span class="cm"> * @param dev Device handle (::xnvme_dev) obtained with xnvme_dev_open() / xnvme_dev_openf()</span>
<span class="cm"> * @param capacity Maximum number of outstanding commands on the initialized queue, note that it</span>
<span class="cm"> * must be a power of 2 within the range [1,4096]</span>
<span class="cm"> * @param opts Queue options</span>
<span class="cm"> * @param queue Pointer-pointer to the ::xnvme_queue to initialize</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_queue_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">capacity</span><span class="p">,</span> <span class="kt">int</span> <span class="n">opts</span><span class="p">,</span> <span class="k">struct</span> <span class="n">xnvme_queue</span> <span class="o">**</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Get the capacity of the given ::xnvme_queue</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to query for capacity</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, capacity of given ::xnvme_queue text is returned. On error, 0 is returned</span>
<span class="cm"> * e.g. errors are silent</span>
<span class="cm"> */</span>
<span class="kt">uint32_t</span>
<span class="nf">xnvme_queue_get_capacity</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Get the number of outstanding commands on the given ::xnvme_queue</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to query for outstanding commands</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, number of outstanding commands are returned. On error, 0 is returned e.g.</span>
<span class="cm"> * errors are silent</span>
<span class="cm"> */</span>
<span class="kt">uint32_t</span>
<span class="nf">xnvme_queue_get_outstanding</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Tear down the given ::xnvme_queue</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to tear down</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_queue_term</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Process completions of commands on the given ::xnvme_queue</span>
<span class="cm"> *</span>
<span class="cm"> * Set process &#39;max&#39; to limit number of completions, 0 means no max.</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to poke for completions</span>
<span class="cm"> * @param max The max number of completions to complete</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, number of completions processed, may be 0. On error, negative `errno` is</span>
<span class="cm"> * returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_queue_poke</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">max</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Wait for completion of all outstanding commands in the given ::xnvme_queue</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to wait for completions on</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, number of completions processed, may be 0. On error, negative `errno` is</span>
<span class="cm"> * returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_queue_wait</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Retrieve a command-context from the given queue for async. command execution with the queue</span>
<span class="cm"> *</span>
<span class="cm"> * @note The command-context is managed by the queue, thus, return it to the queue via</span>
<span class="cm"> * ::xnvme_queue_put_cmd_ctx</span>
<span class="cm"> *</span>
<span class="cm"> * @note This is not thread-safe</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to retrieve a command-context for</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, a command-context is returned. On error, NULL is returned and `errno` is set</span>
<span class="cm"> * to indicate the error.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">xnvme_cmd_ctx</span> <span class="o">*</span>
<span class="nf">xnvme_queue_get_cmd_ctx</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Hand back a command-context previously retrieve using ::xnvme_queue_get_cmd_ctx</span>
<span class="cm"> *</span>
<span class="cm"> * @note This function is not thread-safe</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to hand back the command-context to</span>
<span class="cm"> * @param ctx Pointer to command context (::xnvme_cmd_ctx)</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_queue_put_cmd_ctx</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">,</span> <span class="k">struct</span> <span class="n">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Signature of function used with Command Queues for async. callback upon command-completion</span>
<span class="cm"> */</span>
<span class="k">typedef</span> <span class="nf">void</span> <span class="p">(</span><span class="o">*</span><span class="n">xnvme_queue_cb</span><span class="p">)(</span><span class="k">struct</span> <span class="n">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">opaque</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * The xNVMe Command Context</span>
<span class="cm"> *</span>
<span class="cm"> * @struct xnvme_cmd_ctx</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">xnvme_cmd_ctx</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">xnvme_spec_cmd</span> <span class="n">cmd</span><span class="p">;</span>		<span class="c1">///&lt; Command to be processed</span>
	<span class="k">struct</span> <span class="n">xnvme_spec_cpl</span> <span class="n">cpl</span><span class="p">;</span>		<span class="c1">///&lt; Completion result from processing</span>

	<span class="k">struct</span> <span class="n">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">;</span>			<span class="c1">///&lt; Device associated with the command</span>

	<span class="c1">///&lt; Fields for command option: XNVME_CMD_ASYNC</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">;</span>	<span class="c1">///&lt; Queue used for command processing</span>
		<span class="n">xnvme_queue_cb</span> <span class="n">cb</span><span class="p">;</span>		<span class="c1">///&lt; User defined callback function</span>
		<span class="kt">void</span> <span class="o">*</span><span class="n">cb_arg</span><span class="p">;</span>			<span class="c1">///&lt; User defined callback function arguments</span>
	<span class="p">}</span> <span class="n">async</span><span class="p">;</span>

	<span class="c1">///&lt; Field containing command-options, the field is initialized by helper-functions</span>
	<span class="kt">uint32_t</span> <span class="n">opts</span><span class="p">;</span>

	<span class="kt">uint8_t</span> <span class="n">be_rsvd</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>		<span class="c1">///&lt; Fields reserved for use by library internals</span>

	<span class="c1">///&lt; Field for including the command-context in BSD-style singly-linked-lists (SLIST)</span>
	<span class="n">SLIST_ENTRY</span><span class="p">(</span><span class="n">xnvme_cmd_ctx</span><span class="p">)</span> <span class="n">link</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Assign a callback-function and argument to be used with the given command-context</span>
<span class="cm"> *</span>
<span class="cm"> * @param ctx Pointer to the ::xnvme_cmd_ctx to setup callback for</span>
<span class="cm"> * @param cb The callback function to use</span>
<span class="cm"> * @param cb_arg The callback argument to use</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span>
<span class="nf">xnvme_cmd_ctx_set_cb</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="n">xnvme_queue_cb</span> <span class="n">cb</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">cb_arg</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">ctx</span><span class="o">-&gt;</span><span class="n">async</span><span class="p">.</span><span class="n">cb</span> <span class="o">=</span> <span class="n">cb</span><span class="p">;</span>
	<span class="n">ctx</span><span class="o">-&gt;</span><span class="n">async</span><span class="p">.</span><span class="n">cb_arg</span> <span class="o">=</span> <span class="n">cb_arg</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * Assign a callback-function and argument to be used with the ::xnvme_cmd_ctx of the queue</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue The ::xnvme_queue to assign default callback function for</span>
<span class="cm"> * @param cb The callback function to use</span>
<span class="cm"> * @param cb_arg The callback argument to use</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_queue_set_cb</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">,</span> <span class="n">xnvme_queue_cb</span> <span class="n">cb</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">cb_arg</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Retrieve a command-context for issuing commands to the given device</span>
<span class="cm"> *</span>
<span class="cm"> * @param dev Device handle (::xnvme_dev) obtained with xnvme_dev_open() / xnvme_dev_openf()</span>
<span class="cm"> *</span>
<span class="cm"> * @return A ::xnvme_cmd_ctx initialized synchronous command on the given device</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">xnvme_cmd_ctx</span>
<span class="nf">xnvme_cmd_ctx_from_dev</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Retrieve a command-text for issuing commands via the given queue</span>
<span class="cm"> *</span>
<span class="cm"> * @param queue Pointer to the ::xnvme_queue to retrieve a command-context for</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, a pointer to a ::xnvme_cmd_ctx is returned. On error, NULL is returned and</span>
<span class="cm"> * `errno` set to indicate the error.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">xnvme_cmd_ctx</span> <span class="o">*</span>
<span class="nf">xnvme_cmd_ctx_from_queue</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_queue</span> <span class="o">*</span><span class="n">queue</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Clears/resets the given ::xnvme_cmd_ctx</span>
<span class="cm"> *</span>
<span class="cm"> * @param ctx Pointer to the ::xnvme_cmd_ctx to clear</span>
<span class="cm"> */</span>
<span class="kt">void</span>
<span class="nf">xnvme_cmd_ctx_clear</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Encapsulate completion-error checking here for now.</span>
<span class="cm"> *</span>
<span class="cm"> * @param ctx Pointer to the ::xnvme_cmd_ctx to check status on</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is return. On error, a non-zero value is returned.</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span>
<span class="nf">xnvme_cmd_ctx_cpl_status</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">ctx</span><span class="o">-&gt;</span><span class="n">cpl</span><span class="p">.</span><span class="n">status</span><span class="p">.</span><span class="n">sc</span> <span class="o">||</span> <span class="n">ctx</span><span class="o">-&gt;</span><span class="n">cpl</span><span class="p">.</span><span class="n">status</span><span class="p">.</span><span class="n">sct</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * Pass a NVMe IO Command through to the device via the given ::xnvme_cmd_ctx</span>
<span class="cm"> *</span>
<span class="cm"> * @param ctx Pointer to command context (::xnvme_cmd_ctx)</span>
<span class="cm"> * @param dbuf pointer to data-payload</span>
<span class="cm"> * @param dbuf_nbytes size of data-payload in bytes</span>
<span class="cm"> * @param mbuf pointer to meta-payload</span>
<span class="cm"> * @param mbuf_nbytes size of the meta-payload in bytes</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_cmd_pass</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">dbuf</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">dbuf_nbytes</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">mbuf</span><span class="p">,</span>
	       <span class="kt">size_t</span> <span class="n">mbuf_nbytes</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Pass a NVMe Admin Command through to the device with minimal intervention</span>
<span class="cm"> *</span>
<span class="cm"> * @param ctx Pointer to command context (::xnvme_cmd_ctx)</span>
<span class="cm"> * @param dbuf pointer to data-payload</span>
<span class="cm"> * @param dbuf_nbytes size of data-payload in bytes</span>
<span class="cm"> * @param mbuf pointer to meta-payload</span>
<span class="cm"> * @param mbuf_nbytes size of the meta-payload in bytes</span>
<span class="cm"> *</span>
<span class="cm"> * @return On success, 0 is returned. On error, negative `errno` is returned.</span>
<span class="cm"> */</span>
<span class="kt">int</span>
<span class="nf">xnvme_cmd_pass_admin</span><span class="p">(</span><span class="k">struct</span> <span class="n">xnvme_cmd_ctx</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">dbuf</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">dbuf_nbytes</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">mbuf</span><span class="p">,</span>
		     <span class="kt">size_t</span> <span class="n">mbuf_nbytes</span><span class="p">);</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#endif </span><span class="cm">/* __LIBXNVME_H */</span><span class="cp"></span>
</pre></div>
</div>
</div>
<div class="section" id="enums">
<span id="sec-c-api-xnvme-enum"></span><h2>Enums<a class="headerlink" href="#enums" title="Permalink to this headline">¶</a></h2>
<div class="section" id="xnvme-pr">
<span id="sec-c-api-xnvme-enum-xnvme-pr"></span><h3>xnvme_pr<a class="headerlink" href="#xnvme-pr" title="Permalink to this headline">¶</a></h3>
<dl class="enum">
<dt id="c.xnvme_pr">
<span class="target" id="libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"></span><code class="sig-name descname">xnvme_pr</code><a class="headerlink" href="#c.xnvme_pr" title="Permalink to this definition">¶</a></dt>
<dd><p>Options for pretty-printer (<code class="docutils literal notranslate"><span class="pre">*_pr</span></code>, <code class="docutils literal notranslate"><span class="pre">*_fpr</span></code>) functions. </p>
<p><dl class="simple">
<dt><strong>See</strong></dt><dd><p>libxnvme_pp.h </p>
</dd>
</dl>
</p>
<p><em>Values:</em></p>
<dl class="enumvalue">
<dt id="c.0x0">
<span class="target" id="libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21a92b23c5620e7067c129b36a2621c556c"></span><code class="sig-name descname">0x0</code><a class="headerlink" href="#c.0x0" title="Permalink to this definition">¶</a></dt>
<dd><p>XNVME_PR_DEF: Default options. </p>
</dd></dl>

<dl class="enumvalue">
<dt id="c.0x1">
<span class="target" id="libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21a6c96b6fcc0aad965edec471583ff0583"></span><code class="sig-name descname">0x1</code><a class="headerlink" href="#c.0x1" title="Permalink to this definition">¶</a></dt>
<dd><p>XNVME_PR_YAML: Print formatted as YAML. </p>
</dd></dl>

<dl class="enumvalue">
<dt id="c.0x2">
<span class="target" id="libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21a56dab462e1cf1df22929406429e10d25"></span><code class="sig-name descname">0x2</code><a class="headerlink" href="#c.0x2" title="Permalink to this definition">¶</a></dt>
<dd><p>XNVME_PR_TERSE: Print without formatting. </p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="xnvme-queue-opts">
<span id="sec-c-api-xnvme-enum-xnvme-queue-opts"></span><h3>xnvme_queue_opts<a class="headerlink" href="#xnvme-queue-opts" title="Permalink to this headline">¶</a></h3>
<dl class="enum">
<dt id="c.xnvme_queue_opts">
<span class="target" id="libxnvme_8h_1a930ace187b1df1033efd50218c3144c6"></span><code class="sig-name descname">xnvme_queue_opts</code><a class="headerlink" href="#c.xnvme_queue_opts" title="Permalink to this definition">¶</a></dt>
<dd><p>Command Queue initialization options. </p>
<p><em>Values:</em></p>
<dl class="enumvalue">
<dt>
<span class="target" id="libxnvme_8h_1a930ace187b1df1033efd50218c3144c6a235aa67f36d7d7a3f05f4fb77bc1e2a4"></span><code class="sig-name descname">0x1</code></dt>
<dd><p>XNVME_QUEUE_IOPOLL: queue. is polled for completions. </p>
</dd></dl>

<dl class="enumvalue">
<dt id="c.1">
<span class="target" id="libxnvme_8h_1a930ace187b1df1033efd50218c3144c6a5ed83061c4c0b030b9b44304917fd7ea"></span><code class="sig-name descname">1</code><a class="headerlink" href="#c.1" title="Permalink to this definition">¶</a></dt>
<dd><p>XNVME_QUEUE_SQPOLL: queue. is polled for submissions. </p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="structs">
<span id="sec-c-api-xnvme-struct"></span><h2>Structs<a class="headerlink" href="#structs" title="Permalink to this headline">¶</a></h2>
<div class="section" id="xnvme-be-attr">
<span id="sec-c-api-xnvme-struct-xnvme-be-attr"></span><h3>xnvme_be_attr<a class="headerlink" href="#xnvme-be-attr" title="Permalink to this headline">¶</a></h3>
<dl class="struct">
<dt id="c.xnvme_be_attr">
<span class="target" id="structxnvme__be__attr"></span><em class="property">struct </em><code class="sig-name descname">xnvme_be_attr</code><a class="headerlink" href="#c.xnvme_be_attr" title="Permalink to this definition">¶</a></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="variable">
<dt id="c.xnvme_be_attr::name">
<span class="target" id="structxnvme__be__attr_1a01989b976f8138270ba73c5e36e7aa37"></span>const char* <code class="sig-name descname">name</code><a class="headerlink" href="#c.xnvme_be_attr::name" title="Permalink to this definition">¶</a></dt>
<dd><p>Backend name. </p>
</dd></dl>

<dl class="variable">
<dt id="c.xnvme_be_attr::schemes">
<span class="target" id="structxnvme__be__attr_1a501c73e040527f4d77e60460bcf41d80"></span>const char** <code class="sig-name descname">schemes</code><a class="headerlink" href="#c.xnvme_be_attr::schemes" title="Permalink to this definition">¶</a></dt>
<dd><p>The default URI ‘scheme’, as in, the URI-definition below: </p>
<p>scheme:target[?option=val]</p>
<p>For which this backend identifies devices </p>
</dd></dl>

<dl class="variable">
<dt id="c.xnvme_be_attr::nschemes">
<span class="target" id="structxnvme__be__attr_1a73f23d2d8673220fb3f0342aacc6963c"></span>uint8_t <code class="sig-name descname">nschemes</code><a class="headerlink" href="#c.xnvme_be_attr::nschemes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of schemes in ‘schemes’. </p>
</dd></dl>

<dl class="variable">
<dt id="c.xnvme_be_attr::enabled">
<span class="target" id="structxnvme__be__attr_1a4ecc55d9ee4d3ccf604ec4b13ba895e2"></span>uint8_t <code class="sig-name descname">enabled</code><a class="headerlink" href="#c.xnvme_be_attr::enabled" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the backend is ‘enabled’. </p>
</dd></dl>

<dl class="variable">
<dt>
<span class="target" id="structxnvme__be__attr_1a7f02bbf351a3a3d6e310fdc3addfea22"></span><code class="sig-name descname">uint8_t xnvme_be_attr::_rsvd[6]</code></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="xnvme-be-attr-list">
<span id="sec-c-api-xnvme-struct-xnvme-be-attr-list"></span><h3>xnvme_be_attr_list<a class="headerlink" href="#xnvme-be-attr-list" title="Permalink to this headline">¶</a></h3>
<dl class="struct">
<dt id="c.xnvme_be_attr_list">
<span class="target" id="structxnvme__be__attr__list"></span><em class="property">struct </em><code class="sig-name descname">xnvme_be_attr_list</code><a class="headerlink" href="#c.xnvme_be_attr_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of xNVMe library backend attributes. </p>
<p>List of xNVMe library backend attributes. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="variable">
<dt id="c.xnvme_be_attr_list::capacity">
<span class="target" id="structxnvme__be__attr__list_1a71cf9abd0cfdcf75c888ec72dd1c1d9d"></span>uint32_t <code class="sig-name descname">capacity</code><a class="headerlink" href="#c.xnvme_be_attr_list::capacity" title="Permalink to this definition">¶</a></dt>
<dd><p>Remaining unused entries. </p>
</dd></dl>

<dl class="variable">
<dt id="c.xnvme_be_attr_list::count">
<span class="target" id="structxnvme__be__attr__list_1a6d391de69e512e1f23841292cc866587"></span>int <code class="sig-name descname">count</code><a class="headerlink" href="#c.xnvme_be_attr_list::count" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of used entries. </p>
</dd></dl>

<dl class="variable">
<dt>
<span class="target" id="structxnvme__be__attr__list_1ae7f0889285cace4c51a5063809fa56e9"></span><code class="sig-name descname">struct xnvme_be_attr xnvme_be_attr_list::item[]</code></dt>
<dd><p>Array of items. </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-ctx">
<span id="sec-c-api-xnvme-struct-xnvme-cmd-ctx"></span><h3>xnvme_cmd_ctx<a class="headerlink" href="#xnvme-cmd-ctx" title="Permalink to this headline">¶</a></h3>
<dl class="struct">
<dt id="c.xnvme_cmd_ctx">
<span class="target" id="structxnvme__cmd__ctx"></span><em class="property">struct </em><code class="sig-name descname">xnvme_cmd_ctx</code><a class="headerlink" href="#c.xnvme_cmd_ctx" title="Permalink to this definition">¶</a></dt>
<dd><p>The xNVMe Command Context. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt id="c.xnvme_cmd_ctx::SLIST_ENTRY">
<span class="target" id="structxnvme__cmd__ctx_1a302290c3044c9d2de75d70df5259558b"></span><code class="sig-name descname">SLIST_ENTRY</code><span class="sig-paren">(</span><a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_ctx::SLIST_ENTRY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="variable">
<dt id="c.xnvme_cmd_ctx::cmd">
<span class="target" id="structxnvme__cmd__ctx_1aa41a4f40fc5630fa7f18f842a3b1bc2d"></span>struct <a class="reference internal" href="xnvme_spec.html#c.xnvme_spec_cmd" title="xnvme_spec_cmd">xnvme_spec_cmd</a> <code class="sig-name descname">cmd</code><a class="headerlink" href="#c.xnvme_cmd_ctx::cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Command to be processed. </p>
</dd></dl>

<dl class="variable">
<dt id="c.xnvme_cmd_ctx::cpl">
<span class="target" id="structxnvme__cmd__ctx_1aebf2ad82a75556ae7e5ce5df22791c21"></span>struct <a class="reference internal" href="xnvme_spec.html#c.xnvme_spec_cpl" title="xnvme_spec_cpl">xnvme_spec_cpl</a> <code class="sig-name descname">cpl</code><a class="headerlink" href="#c.xnvme_cmd_ctx::cpl" title="Permalink to this definition">¶</a></dt>
<dd><p>Completion result from processing. </p>
</dd></dl>

<dl class="variable">
<dt id="c.xnvme_cmd_ctx::dev">
<span class="target" id="structxnvme__cmd__ctx_1a0e4289504093bf9d6c4f6f8d659d2587"></span>struct xnvme_dev* <code class="sig-name descname">dev</code><a class="headerlink" href="#c.xnvme_cmd_ctx::dev" title="Permalink to this definition">¶</a></dt>
<dd><p>Device associated with the command. </p>
<p>Fields for command option: XNVME_CMD_ASYNC </p>
</dd></dl>

<dl class="variable">
<dt id="c.xnvme_cmd_ctx::async">
<span class="target" id="structxnvme__cmd__ctx_1a10c6cb86bbb6f1f55b1cd93c7e2aed2a"></span>struct <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a>::&#64;0  <code class="sig-name descname">async</code><a class="headerlink" href="#c.xnvme_cmd_ctx::async" title="Permalink to this definition">¶</a></dt>
<dd><p>Field containing command-options, the field is initialized by helper-functions. </p>
</dd></dl>

<dl class="variable">
<dt id="c.xnvme_cmd_ctx::opts">
<span class="target" id="structxnvme__cmd__ctx_1af941b88c933a679f72bb575537e2399e"></span>uint32_t <code class="sig-name descname">opts</code><a class="headerlink" href="#c.xnvme_cmd_ctx::opts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="variable">
<dt>
<span class="target" id="structxnvme__cmd__ctx_1a86166e8eb06cc746b1a90d94a66ba429"></span><code class="sig-name descname">uint8_t xnvme_cmd_ctx::be_rsvd[4]</code></dt>
<dd><p>Fields reserved for use by library internals. </p>
<p>Field for including the command-context in BSD-style singly-linked-lists (SLIST) </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="xnvme-enumeration">
<span id="sec-c-api-xnvme-struct-xnvme-enumeration"></span><h3>xnvme_enumeration<a class="headerlink" href="#xnvme-enumeration" title="Permalink to this headline">¶</a></h3>
<dl class="struct">
<dt id="c.xnvme_enumeration">
<span class="target" id="structxnvme__enumeration"></span><em class="property">struct </em><code class="sig-name descname">xnvme_enumeration</code><a class="headerlink" href="#c.xnvme_enumeration" title="Permalink to this definition">¶</a></dt>
<dd><p>List of devices found on the system usable with xNVMe. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="variable">
<dt id="c.xnvme_enumeration::capacity">
<span class="target" id="structxnvme__enumeration_1a1f2d62f26019c77ee40d353444b35ec8"></span>uint32_t <code class="sig-name descname">capacity</code><a class="headerlink" href="#c.xnvme_enumeration::capacity" title="Permalink to this definition">¶</a></dt>
<dd><p>Remaining unused entries. </p>
</dd></dl>

<dl class="variable">
<dt id="c.xnvme_enumeration::nentries">
<span class="target" id="structxnvme__enumeration_1a6c354a5ae952d6444c8b4c79530a6e33"></span>uint32_t <code class="sig-name descname">nentries</code><a class="headerlink" href="#c.xnvme_enumeration::nentries" title="Permalink to this definition">¶</a></dt>
<dd><p>Used entries. </p>
</dd></dl>

<dl class="variable">
<dt>
<span class="target" id="structxnvme__enumeration_1a5add9efec8801a9fee381219970e92ab"></span><code class="sig-name descname">struct xnvme_ident xnvme_enumeration::entries[]</code></dt>
<dd><p>Device entries. </p>
</dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="xnvme-ident">
<span id="sec-c-api-xnvme-struct-xnvme-ident"></span><h3>xnvme_ident<a class="headerlink" href="#xnvme-ident" title="Permalink to this headline">¶</a></h3>
<dl class="struct">
<dt id="c.xnvme_ident">
<span class="target" id="structxnvme__ident"></span><em class="property">struct </em><code class="sig-name descname">xnvme_ident</code><a class="headerlink" href="#c.xnvme_ident" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of device identifiers once decoded from text-representation. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="variable">
<dt>
<span class="target" id="structxnvme__ident_1a075460e0d01c56391748affb14afaca2"></span><code class="sig-name descname">char xnvme_ident::uri[XNVME_IDENT_URI_LEN]</code></dt>
<dd></dd></dl>

<dl class="variable">
<dt>
<span class="target" id="structxnvme__ident_1aac7f75b163376e64a73afe948c4f2890"></span><code class="sig-name descname">char xnvme_ident::schm[XNVME_IDENT_SCHM_LEN]</code></dt>
<dd></dd></dl>

<dl class="variable">
<dt>
<span class="target" id="structxnvme__ident_1a183b9c8d97df32809206e1052444eeb2"></span><code class="sig-name descname">char xnvme_ident::trgt[XNVME_IDENT_TRGT_LEN]</code></dt>
<dd></dd></dl>

<dl class="variable">
<dt>
<span class="target" id="structxnvme__ident_1ab91da5921238b14429cd5d1d32dbf681"></span><code class="sig-name descname">char xnvme_ident::opts[XNVME_IDENT_OPTS_LEN]</code></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-range">
<span id="sec-c-api-xnvme-struct-xnvme-lba-range"></span><h3>xnvme_lba_range<a class="headerlink" href="#xnvme-lba-range" title="Permalink to this headline">¶</a></h3>
<dl class="struct">
<dt id="c.xnvme_lba_range">
<span class="target" id="structxnvme__lba__range"></span><em class="property">struct </em><code class="sig-name descname">xnvme_lba_range</code><a class="headerlink" href="#c.xnvme_lba_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a range of logical-block-addresses aka LBAs. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="variable">
<dt id="c.xnvme_lba_range::slba">
<span class="target" id="structxnvme__lba__range_1a9d390c5afcd64f09290b7c5f750a2bbe"></span>uint64_t <code class="sig-name descname">slba</code><a class="headerlink" href="#c.xnvme_lba_range::slba" title="Permalink to this definition">¶</a></dt>
<dd><p>Range start-LBA; begins at and includes this address. </p>
</dd></dl>

<dl class="variable">
<dt id="c.xnvme_lba_range::elba">
<span class="target" id="structxnvme__lba__range_1a84f2cd51e27ea1f24f0306c70782ded6"></span>uint64_t <code class="sig-name descname">elba</code><a class="headerlink" href="#c.xnvme_lba_range::elba" title="Permalink to this definition">¶</a></dt>
<dd><p>Range end-LBA; ends at and includes this address. </p>
</dd></dl>

<dl class="variable">
<dt id="c.xnvme_lba_range::naddrs">
<span class="target" id="structxnvme__lba__range_1a89c45e97463c22c57769865c5445e722"></span>uint32_t <code class="sig-name descname">naddrs</code><a class="headerlink" href="#c.xnvme_lba_range::naddrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of addresses in range [slba, elba]. </p>
</dd></dl>

<dl class="variable">
<dt id="c.xnvme_lba_range::nbytes">
<span class="target" id="structxnvme__lba__range_1adffbe51c8c2ed72971e598dbfd23f207"></span>uint64_t <code class="sig-name descname">nbytes</code><a class="headerlink" href="#c.xnvme_lba_range::nbytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of bytes covered by [slba, elba]. </p>
</dd></dl>

<dl class="variable">
<dt id="c.xnvme_lba_range::attr">
<span class="target" id="structxnvme__lba__range_1a812c551200bb6b6da49ce65634ac5135"></span>struct <a class="reference internal" href="#c.xnvme_lba_range" title="xnvme_lba_range">xnvme_lba_range</a>::&#64;120  <code class="sig-name descname">attr</code><a class="headerlink" href="#c.xnvme_lba_range::attr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
<div class="section" id="xnvme-timer">
<span id="sec-c-api-xnvme-struct-xnvme-timer"></span><h3>xnvme_timer<a class="headerlink" href="#xnvme-timer" title="Permalink to this headline">¶</a></h3>
<dl class="struct">
<dt id="c.xnvme_timer">
<span class="target" id="structxnvme__timer"></span><em class="property">struct </em><code class="sig-name descname">xnvme_timer</code><a class="headerlink" href="#c.xnvme_timer" title="Permalink to this definition">¶</a></dt>
<dd><p>Encapsulation of a basic wall-clock timer, start/stop clock. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="variable">
<dt id="c.xnvme_timer::start">
<span class="target" id="structxnvme__timer_1a7b4d220f6f37dc396d3294c9dd188859"></span>uint64_t <code class="sig-name descname">start</code><a class="headerlink" href="#c.xnvme_timer::start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="variable">
<dt id="c.xnvme_timer::stop">
<span class="target" id="structxnvme__timer_1ae3ad1641d866cb93f9aac37cce24c3cd"></span>uint64_t <code class="sig-name descname">stop</code><a class="headerlink" href="#c.xnvme_timer::stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</dd></dl>

</div>
</div>
<div class="section" id="functions">
<span id="sec-c-api-xnvme-func"></span><h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="xnvme-ilog2">
<span id="sec-c-api-xnvme-func-xnvme-ilog2"></span><h3>XNVME_ILOG2<a class="headerlink" href="#xnvme-ilog2" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.XNVME_ILOG2">
<span class="target" id="libxnvme__util_8h_1a0e8fe449449355015e623f70fcb7938e"></span>static uint64_t <code class="sig-name descname">XNVME_ILOG2</code><span class="sig-paren">(</span>uint64_t<em> x</em><span class="sig-paren">)</span><a class="headerlink" href="#c.XNVME_ILOG2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="xnvme-max">
<span id="sec-c-api-xnvme-func-xnvme-max"></span><h3>XNVME_MAX<a class="headerlink" href="#xnvme-max" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.XNVME_MAX">
<span class="target" id="libxnvme__util_8h_1a509ff212411643e35929d953d79f47bd"></span>static int <code class="sig-name descname">XNVME_MAX</code><span class="sig-paren">(</span>int<em> x</em>, int<em> y</em><span class="sig-paren">)</span><a class="headerlink" href="#c.XNVME_MAX" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the maximum of the given <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>The maximum of <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-min">
<span id="sec-c-api-xnvme-func-xnvme-min"></span><h3>XNVME_MIN<a class="headerlink" href="#xnvme-min" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.XNVME_MIN">
<span class="target" id="libxnvme__util_8h_1a97d715bfd4dc271f71d42882f1ca6dbd"></span>static int <code class="sig-name descname">XNVME_MIN</code><span class="sig-paren">(</span>int<em> x</em>, int<em> y</em><span class="sig-paren">)</span><a class="headerlink" href="#c.XNVME_MIN" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the minimum of the given <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>The maximum of <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-min-s64">
<span id="sec-c-api-xnvme-func-xnvme-min-s64"></span><h3>XNVME_MIN_S64<a class="headerlink" href="#xnvme-min-s64" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.XNVME_MIN_S64">
<span class="target" id="libxnvme__util_8h_1af59f427ec39c34b73fb0b6971a6cf42e"></span>static int64_t <code class="sig-name descname">XNVME_MIN_S64</code><span class="sig-paren">(</span>int64_t<em> x</em>, int64_t<em> y</em><span class="sig-paren">)</span><a class="headerlink" href="#c.XNVME_MIN_S64" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the minimum of the given <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>The maximum of <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-min-u64">
<span id="sec-c-api-xnvme-func-xnvme-min-u64"></span><h3>XNVME_MIN_U64<a class="headerlink" href="#xnvme-min-u64" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.XNVME_MIN_U64">
<span class="target" id="libxnvme__util_8h_1a07b2cf2d4b8b4f576b7a01a78995dfa6"></span>static uint64_t <code class="sig-name descname">XNVME_MIN_U64</code><span class="sig-paren">(</span>uint64_t<em> x</em>, uint64_t<em> y</em><span class="sig-paren">)</span><a class="headerlink" href="#c.XNVME_MIN_U64" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the minimum of the given <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>The maximum of <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-be-attr-fpr">
<span id="sec-c-api-xnvme-func-xnvme-be-attr-fpr"></span><h3>xnvme_be_attr_fpr<a class="headerlink" href="#xnvme-be-attr-fpr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_be_attr_fpr">
<span class="target" id="libxnvme__pp_8h_1a07599407ee9a93bd10c26b6210b0f3d7"></span>int <code class="sig-name descname">xnvme_be_attr_fpr</code><span class="sig-paren">(</span>FILE *<em> stream</em>, const struct  <a class="reference internal" href="#c.xnvme_be_attr" title="xnvme_be_attr">xnvme_be_attr</a>  *<em> attr</em>, int<em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_be_attr_fpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the given backend attribute to the given output stream. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code>: output stream used for printing </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">attr</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__be__attr"><span class="std std-ref">xnvme_be_attr</span></a> to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-be-attr-list-bundled">
<span id="sec-c-api-xnvme-func-xnvme-be-attr-list-bundled"></span><h3>xnvme_be_attr_list_bundled<a class="headerlink" href="#xnvme-be-attr-list-bundled" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_be_attr_list_bundled">
<span class="target" id="libxnvme__be_8h_1a09ce7aec6148fd2eab72ce8352d81033"></span>int <code class="sig-name descname">xnvme_be_attr_list_bundled</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_be_attr_list" title="xnvme_be_attr_list">xnvme_be_attr_list</a>  **<em> list</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_be_attr_list_bundled" title="Permalink to this definition">¶</a></dt>
<dd><p>List backends bundled with the library. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-be-attr-list-fpr">
<span id="sec-c-api-xnvme-func-xnvme-be-attr-list-fpr"></span><h3>xnvme_be_attr_list_fpr<a class="headerlink" href="#xnvme-be-attr-list-fpr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_be_attr_list_fpr">
<span class="target" id="libxnvme__pp_8h_1a9aa294975292cc09c85b5c29b38cf712"></span>int <code class="sig-name descname">xnvme_be_attr_list_fpr</code><span class="sig-paren">(</span>FILE *<em> stream</em>, const struct  <a class="reference internal" href="#c.xnvme_be_attr_list" title="xnvme_be_attr_list">xnvme_be_attr_list</a>  *<em> list</em>, int<em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_be_attr_list_fpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the given backend attribute list to the given output stream. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code>: output stream used for printing </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list</span></code>: Pointer to the backend attribute list to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-be-attr-list-pr">
<span id="sec-c-api-xnvme-func-xnvme-be-attr-list-pr"></span><h3>xnvme_be_attr_list_pr<a class="headerlink" href="#xnvme-be-attr-list-pr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_be_attr_list_pr">
<span class="target" id="libxnvme__pp_8h_1ac1cad992f04cf42ee8cd17280a55e6e1"></span>int <code class="sig-name descname">xnvme_be_attr_list_pr</code><span class="sig-paren">(</span>const struct  <a class="reference internal" href="#c.xnvme_be_attr_list" title="xnvme_be_attr_list">xnvme_be_attr_list</a>  *<em> list</em>, int<em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_be_attr_list_pr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the given backend attribute list to standard out. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list</span></code>: Pointer to the backend attribute list to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-be-attr-pr">
<span id="sec-c-api-xnvme-func-xnvme-be-attr-pr"></span><h3>xnvme_be_attr_pr<a class="headerlink" href="#xnvme-be-attr-pr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_be_attr_pr">
<span class="target" id="libxnvme__pp_8h_1a142bda440c21dbadad84e6be06e46a33"></span>int <code class="sig-name descname">xnvme_be_attr_pr</code><span class="sig-paren">(</span>const struct  <a class="reference internal" href="#c.xnvme_be_attr" title="xnvme_be_attr">xnvme_be_attr</a>  *<em> attr</em>, int<em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_be_attr_pr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the given backend attribute to stdout. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">attr</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__be__attr"><span class="std std-ref">xnvme_be_attr</span></a> to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-buf-alloc">
<span id="sec-c-api-xnvme-func-xnvme-buf-alloc"></span><h3>xnvme_buf_alloc<a class="headerlink" href="#xnvme-buf-alloc" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_buf_alloc">
<span class="target" id="libxnvme_8h_1aa61c331982922d038a6af22fbe4e1a1a"></span>void* <code class="sig-name descname">xnvme_buf_alloc</code><span class="sig-paren">(</span>const struct  xnvme_dev  *<em> dev</em>, size_t<em> nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_buf_alloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate a buffer for IO with the given device. </p>
<p>The buffer will be aligned to device geometry and DMA allocated if required by the backend for command payloads</p>
<p><dl class="simple">
<dt><strong>Note</strong></dt><dd><p>nbytes must be greater than zero and a multiple of minimal granularity </p>
</dd>
<dt><strong>Note</strong></dt><dd><p>De-allocate the buffer using <a class="reference internal" href="#libxnvme_8h_1ab93616483922d16f4d21369c9f610d8c"><span class="std std-ref">xnvme_buf_free()</span></a></p>
</dd>
<dt><strong>Return</strong></dt><dd><p>On success, a pointer to the allocated memory is returned. On error, NULL is returned and <code class="docutils literal notranslate"><span class="pre">errno</span></code> set to indicate the error. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1a25bad861462fe56a17cfb20787a97723"><span class="std std-ref">xnvme_dev_open()</span></a> / <a class="reference internal" href="xnvme_dev.html#libxnvme__dev_8h_1a634658635877439481933c923915d7b0"><span class="std std-ref">xnvme_dev_openf()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbytes</span></code>: The size of the allocated buffer in bytes</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-buf-free">
<span id="sec-c-api-xnvme-func-xnvme-buf-free"></span><h3>xnvme_buf_free<a class="headerlink" href="#xnvme-buf-free" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_buf_free">
<span class="target" id="libxnvme_8h_1ab93616483922d16f4d21369c9f610d8c"></span>void <code class="sig-name descname">xnvme_buf_free</code><span class="sig-paren">(</span>const struct  xnvme_dev  *<em> dev</em>, void *<em> buf</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_buf_free" title="Permalink to this definition">¶</a></dt>
<dd><p>Free the given IO buffer allocated with <a class="reference internal" href="#libxnvme_8h_1aa61c331982922d038a6af22fbe4e1a1a"><span class="std std-ref">xnvme_buf_alloc()</span></a> </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1a25bad861462fe56a17cfb20787a97723"><span class="std std-ref">xnvme_dev_open()</span></a> / <a class="reference internal" href="xnvme_dev.html#libxnvme__dev_8h_1a634658635877439481933c923915d7b0"><span class="std std-ref">xnvme_dev_openf()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">buf</span></code>: Pointer to a buffer allocated with <a class="reference internal" href="#libxnvme_8h_1aa61c331982922d038a6af22fbe4e1a1a"><span class="std std-ref">xnvme_buf_alloc()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-buf-phys-alloc">
<span id="sec-c-api-xnvme-func-xnvme-buf-phys-alloc"></span><h3>xnvme_buf_phys_alloc<a class="headerlink" href="#xnvme-buf-phys-alloc" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “xnvme_buf_phys_alloc” in doxygen xml output for project “xNVMe” from directory: /home/safl/git/xnvme/docs/autogen/build/doxy/xml</p>
</div>
</div>
<div class="section" id="xnvme-buf-phys-free">
<span id="sec-c-api-xnvme-func-xnvme-buf-phys-free"></span><h3>xnvme_buf_phys_free<a class="headerlink" href="#xnvme-buf-phys-free" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “xnvme_buf_phys_free” in doxygen xml output for project “xNVMe” from directory: /home/safl/git/xnvme/docs/autogen/build/doxy/xml</p>
</div>
</div>
<div class="section" id="xnvme-buf-phys-realloc">
<span id="sec-c-api-xnvme-func-xnvme-buf-phys-realloc"></span><h3>xnvme_buf_phys_realloc<a class="headerlink" href="#xnvme-buf-phys-realloc" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “xnvme_buf_phys_realloc” in doxygen xml output for project “xNVMe” from directory: /home/safl/git/xnvme/docs/autogen/build/doxy/xml</p>
</div>
</div>
<div class="section" id="xnvme-buf-realloc">
<span id="sec-c-api-xnvme-func-xnvme-buf-realloc"></span><h3>xnvme_buf_realloc<a class="headerlink" href="#xnvme-buf-realloc" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_buf_realloc">
<span class="target" id="libxnvme_8h_1a293130c0335f28d3c2d3ebedde981594"></span>void* <code class="sig-name descname">xnvme_buf_realloc</code><span class="sig-paren">(</span>const struct  xnvme_dev  *<em> dev</em>, void *<em> buf</em>, size_t<em> nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_buf_realloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Reallocate a buffer for IO with the given device. </p>
<p>The buffer will be aligned to device geometry and DMA allocated if required by the backend for IO</p>
<p><dl class="simple">
<dt><strong>Note</strong></dt><dd><p>nbytes must be greater than zero and a multiple of minimal granularity </p>
</dd>
<dt><strong>Note</strong></dt><dd><p>De-allocate the buffer using <a class="reference internal" href="#libxnvme_8h_1ab93616483922d16f4d21369c9f610d8c"><span class="std std-ref">xnvme_buf_free()</span></a></p>
</dd>
<dt><strong>Return</strong></dt><dd><p>On success, a pointer to the allocated memory is returned. On error, NULL is returned and <code class="docutils literal notranslate"><span class="pre">errno</span></code> set to indicate the error. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1a25bad861462fe56a17cfb20787a97723"><span class="std std-ref">xnvme_dev_open()</span></a> / <a class="reference internal" href="xnvme_dev.html#libxnvme__dev_8h_1a634658635877439481933c923915d7b0"><span class="std std-ref">xnvme_dev_openf()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">buf</span></code>: The buffer to reallocate </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbytes</span></code>: The size of the allocated buffer in bytes</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-buf-virt-alloc">
<span id="sec-c-api-xnvme-func-xnvme-buf-virt-alloc"></span><h3>xnvme_buf_virt_alloc<a class="headerlink" href="#xnvme-buf-virt-alloc" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “xnvme_buf_virt_alloc” in doxygen xml output for project “xNVMe” from directory: /home/safl/git/xnvme/docs/autogen/build/doxy/xml</p>
</div>
</div>
<div class="section" id="xnvme-buf-virt-free">
<span id="sec-c-api-xnvme-func-xnvme-buf-virt-free"></span><h3>xnvme_buf_virt_free<a class="headerlink" href="#xnvme-buf-virt-free" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “xnvme_buf_virt_free” in doxygen xml output for project “xNVMe” from directory: /home/safl/git/xnvme/docs/autogen/build/doxy/xml</p>
</div>
</div>
<div class="section" id="xnvme-buf-vtophys">
<span id="sec-c-api-xnvme-func-xnvme-buf-vtophys"></span><h3>xnvme_buf_vtophys<a class="headerlink" href="#xnvme-buf-vtophys" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “xnvme_buf_vtophys” in doxygen xml output for project “xNVMe” from directory: /home/safl/git/xnvme/docs/autogen/build/doxy/xml</p>
</div>
</div>
<div class="section" id="xnvme-cmd-ctx-clear">
<span id="sec-c-api-xnvme-func-xnvme-cmd-ctx-clear"></span><h3>xnvme_cmd_ctx_clear<a class="headerlink" href="#xnvme-cmd-ctx-clear" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_cmd_ctx_clear">
<span class="target" id="libxnvme_8h_1aad9ccd2a8eb80f845453ce7684862f42"></span>void <code class="sig-name descname">xnvme_cmd_ctx_clear</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a>  *<em> ctx</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_ctx_clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears/resets the given <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a>. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a> to clear </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-ctx-cpl-status">
<span id="sec-c-api-xnvme-func-xnvme-cmd-ctx-cpl-status"></span><h3>xnvme_cmd_ctx_cpl_status<a class="headerlink" href="#xnvme-cmd-ctx-cpl-status" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_cmd_ctx_cpl_status">
<span class="target" id="libxnvme_8h_1ae635ec8845082dec05d8cde6c32a83e5"></span>static int <code class="sig-name descname">xnvme_cmd_ctx_cpl_status</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a>  *<em> ctx</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_ctx_cpl_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Encapsulate completion-error checking here for now. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is return. On error, a non-zero value is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a> to check status on</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-ctx-from-dev">
<span id="sec-c-api-xnvme-func-xnvme-cmd-ctx-from-dev"></span><h3>xnvme_cmd_ctx_from_dev<a class="headerlink" href="#xnvme-cmd-ctx-from-dev" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_cmd_ctx_from_dev">
<span class="target" id="libxnvme_8h_1a1ec4b3a340abed82f1f9c837890c54f8"></span>struct <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a> <code class="sig-name descname">xnvme_cmd_ctx_from_dev</code><span class="sig-paren">(</span>struct  xnvme_dev  *<em> dev</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_ctx_from_dev" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a command-context for issuing commands to the given device. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>A <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a> initialized synchronous command on the given device </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle (xnvme_dev) obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1a25bad861462fe56a17cfb20787a97723"><span class="std std-ref">xnvme_dev_open()</span></a> / <a class="reference internal" href="xnvme_dev.html#libxnvme__dev_8h_1a634658635877439481933c923915d7b0"><span class="std std-ref">xnvme_dev_openf()</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-ctx-from-queue">
<span id="sec-c-api-xnvme-func-xnvme-cmd-ctx-from-queue"></span><h3>xnvme_cmd_ctx_from_queue<a class="headerlink" href="#xnvme-cmd-ctx-from-queue" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_cmd_ctx_from_queue">
<span class="target" id="libxnvme_8h_1a7bc367223347286051c81a4e4ae5a93f"></span>struct <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a>* <code class="sig-name descname">xnvme_cmd_ctx_from_queue</code><span class="sig-paren">(</span>struct  xnvme_queue  *<em> queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_ctx_from_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a command-text for issuing commands via the given queue. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, a pointer to a <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a> is returned. On error, NULL is returned and <code class="docutils literal notranslate"><span class="pre">errno</span></code> set to indicate the error. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to retrieve a command-context for</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-ctx-pr">
<span id="sec-c-api-xnvme-func-xnvme-cmd-ctx-pr"></span><h3>xnvme_cmd_ctx_pr<a class="headerlink" href="#xnvme-cmd-ctx-pr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_cmd_ctx_pr">
<span class="target" id="libxnvme__pp_8h_1a76400ae8c389ae64da29c82ec0a7bece"></span>void <code class="sig-name descname">xnvme_cmd_ctx_pr</code><span class="sig-paren">(</span>const struct  <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a>  *<em> ctx</em>, int<em> UNUSED_opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_ctx_pr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a humanly readable representation the given <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a>. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a> to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UNUSED_opts</span></code>: Printer options </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-ctx-set-cb">
<span id="sec-c-api-xnvme-func-xnvme-cmd-ctx-set-cb"></span><h3>xnvme_cmd_ctx_set_cb<a class="headerlink" href="#xnvme-cmd-ctx-set-cb" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_cmd_ctx_set_cb">
<span class="target" id="libxnvme_8h_1afcb44b4b22d8e47dcbe283f256f63093"></span>static void <code class="sig-name descname">xnvme_cmd_ctx_set_cb</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a>  *<em> ctx</em>, xnvme_queue_cb<em> cb</em>, void *<em> cb_arg</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_ctx_set_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a callback-function and argument to be used with the given command-context. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a> to setup callback for </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb</span></code>: The callback function to use </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb_arg</span></code>: The callback argument to use</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-pass">
<span id="sec-c-api-xnvme-func-xnvme-cmd-pass"></span><h3>xnvme_cmd_pass<a class="headerlink" href="#xnvme-cmd-pass" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_cmd_pass">
<span class="target" id="libxnvme_8h_1a42f1493ca3bce4159d34330e49e234a2"></span>int <code class="sig-name descname">xnvme_cmd_pass</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a>  *<em> ctx</em>, void *<em> dbuf</em>, size_t<em> dbuf_nbytes</em>, void *<em> mbuf</em>, size_t<em> mbuf_nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_pass" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass a NVMe IO Command through to the device via the given <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a>. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to command context (<a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a>) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbuf</span></code>: pointer to data-payload </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbuf_nbytes</span></code>: size of data-payload in bytes </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mbuf</span></code>: pointer to meta-payload </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mbuf_nbytes</span></code>: size of the meta-payload in bytes</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-cmd-pass-admin">
<span id="sec-c-api-xnvme-func-xnvme-cmd-pass-admin"></span><h3>xnvme_cmd_pass_admin<a class="headerlink" href="#xnvme-cmd-pass-admin" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_cmd_pass_admin">
<span class="target" id="libxnvme_8h_1af1a420c81c2a5940576f36f4c355d0f3"></span>int <code class="sig-name descname">xnvme_cmd_pass_admin</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a>  *<em> ctx</em>, void *<em> dbuf</em>, size_t<em> dbuf_nbytes</em>, void *<em> mbuf</em>, size_t<em> mbuf_nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_cmd_pass_admin" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass a NVMe Admin Command through to the device with minimal intervention. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to command context (<a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a>) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbuf</span></code>: pointer to data-payload </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbuf_nbytes</span></code>: size of data-payload in bytes </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mbuf</span></code>: pointer to meta-payload </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mbuf_nbytes</span></code>: size of the meta-payload in bytes</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-enumerate">
<span id="sec-c-api-xnvme-func-xnvme-enumerate"></span><h3>xnvme_enumerate<a class="headerlink" href="#xnvme-enumerate" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_enumerate">
<span class="target" id="libxnvme_8h_1acc931e09e16a84bc260d8dee64ac0246"></span>int <code class="sig-name descname">xnvme_enumerate</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_enumeration" title="xnvme_enumeration">xnvme_enumeration</a>  **<em> list</em>, const char *<em> sys_uri</em>, int<em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_enumerate" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumerate devices on the given system. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list</span></code>: Pointer to pointer of the list of device enumerated </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sys_uri</span></code>: URI of the system to enumerate on, when NULL, localhost/PCIe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: System enumeration options</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-enumeration-fpp">
<span id="sec-c-api-xnvme-func-xnvme-enumeration-fpp"></span><h3>xnvme_enumeration_fpp<a class="headerlink" href="#xnvme-enumeration-fpp" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_enumeration_fpp">
<span class="target" id="libxnvme__pp_8h_1a51a288be09c8c972d15d73bcec7b6714"></span>int <code class="sig-name descname">xnvme_enumeration_fpp</code><span class="sig-paren">(</span>FILE *<em> stream</em>, struct  <a class="reference internal" href="#c.xnvme_enumeration" title="xnvme_enumeration">xnvme_enumeration</a>  *<em> list</em>, int<em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_enumeration_fpp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="xnvme-enumeration-fpr">
<span id="sec-c-api-xnvme-func-xnvme-enumeration-fpr"></span><h3>xnvme_enumeration_fpr<a class="headerlink" href="#xnvme-enumeration-fpr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_enumeration_fpr">
<span class="target" id="libxnvme__pp_8h_1a837836561df5910633bf99675aef7787"></span>int <code class="sig-name descname">xnvme_enumeration_fpr</code><span class="sig-paren">(</span>FILE *<em> stream</em>, struct  <a class="reference internal" href="#c.xnvme_enumeration" title="xnvme_enumeration">xnvme_enumeration</a>  *<em> list</em>, int<em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_enumeration_fpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the given <a class="reference internal" href="#structxnvme__enumeration"><span class="std std-ref">xnvme_enumeration</span></a> to the given output stream. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code>: output stream used for printing </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list</span></code>: pointer to structure to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-enumeration-pp">
<span id="sec-c-api-xnvme-func-xnvme-enumeration-pp"></span><h3>xnvme_enumeration_pp<a class="headerlink" href="#xnvme-enumeration-pp" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_enumeration_pp">
<span class="target" id="libxnvme__pp_8h_1aff988833db0ab153869fb8e43a017f90"></span>int <code class="sig-name descname">xnvme_enumeration_pp</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_enumeration" title="xnvme_enumeration">xnvme_enumeration</a>  *<em> list</em>, int<em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_enumeration_pp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="xnvme-enumeration-pr">
<span id="sec-c-api-xnvme-func-xnvme-enumeration-pr"></span><h3>xnvme_enumeration_pr<a class="headerlink" href="#xnvme-enumeration-pr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_enumeration_pr">
<span class="target" id="libxnvme__pp_8h_1a0c2a5ec771b134930985156baa582a21"></span>int <code class="sig-name descname">xnvme_enumeration_pr</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_enumeration" title="xnvme_enumeration">xnvme_enumeration</a>  *<em> list</em>, int<em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_enumeration_pr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the given <a class="reference internal" href="#structxnvme__enumeration"><span class="std std-ref">xnvme_enumeration</span></a> to stdout. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list</span></code>: pointer to structure to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-ident-fpr">
<span id="sec-c-api-xnvme-func-xnvme-ident-fpr"></span><h3>xnvme_ident_fpr<a class="headerlink" href="#xnvme-ident-fpr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_ident_fpr">
<span class="target" id="libxnvme__pp_8h_1a9437972f1025b5b66130c9c80b512308"></span>int <code class="sig-name descname">xnvme_ident_fpr</code><span class="sig-paren">(</span>FILE *<em> stream</em>, const struct  <a class="reference internal" href="#c.xnvme_ident" title="xnvme_ident">xnvme_ident</a>  *<em> ident</em>, int<em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_ident_fpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the given <a class="reference internal" href="#structxnvme__ident"><span class="std std-ref">xnvme_ident</span></a> to the given output stream. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code>: output stream used for printing </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ident</span></code>: pointer to structure to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-ident-from-uri">
<span id="sec-c-api-xnvme-func-xnvme-ident-from-uri"></span><h3>xnvme_ident_from_uri<a class="headerlink" href="#xnvme-ident-from-uri" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_ident_from_uri">
<span class="target" id="libxnvme__ident_8h_1ab2c5248e6d63a391b3094505c1416399"></span>int <code class="sig-name descname">xnvme_ident_from_uri</code><span class="sig-paren">(</span>const char *<em> uri</em>, struct  <a class="reference internal" href="#c.xnvme_ident" title="xnvme_ident">xnvme_ident</a>  *<em> ident</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_ident_from_uri" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the given ‘uri’ into <a class="reference internal" href="#structxnvme__ident"><span class="std std-ref">xnvme_ident</span></a>. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">uri</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ident</span></code>: Pointer to ident to fill with values parsed from ‘uri’</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-ident-pr">
<span id="sec-c-api-xnvme-func-xnvme-ident-pr"></span><h3>xnvme_ident_pr<a class="headerlink" href="#xnvme-ident-pr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_ident_pr">
<span class="target" id="libxnvme__pp_8h_1a967d337786528e351c13d4b2c4081794"></span>int <code class="sig-name descname">xnvme_ident_pr</code><span class="sig-paren">(</span>const struct  <a class="reference internal" href="#c.xnvme_ident" title="xnvme_ident">xnvme_ident</a>  *<em> ident</em>, int<em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_ident_pr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the given <a class="reference internal" href="#structxnvme__ident"><span class="std std-ref">xnvme_ident</span></a> to stdout. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ident</span></code>: pointer to structure to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-is-pow2">
<span id="sec-c-api-xnvme-func-xnvme-is-pow2"></span><h3>xnvme_is_pow2<a class="headerlink" href="#xnvme-is-pow2" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_is_pow2">
<span class="target" id="libxnvme__util_8h_1a7f7ebfcb040358da9ad03a012ab212c9"></span>static int <code class="sig-name descname">xnvme_is_pow2</code><span class="sig-paren">(</span>uint32_t<em> val</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_is_pow2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="xnvme-lba-fpr">
<span id="sec-c-api-xnvme-func-xnvme-lba-fpr"></span><h3>xnvme_lba_fpr<a class="headerlink" href="#xnvme-lba-fpr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_lba_fpr">
<span class="target" id="libxnvme__pp_8h_1a4efba73464d5b20cf8512bec1209b8a8"></span>int <code class="sig-name descname">xnvme_lba_fpr</code><span class="sig-paren">(</span>FILE *<em> stream</em>, uint64_t<em> lba</em>, enum  <a class="reference internal" href="#c.xnvme_pr" title="xnvme_pr">xnvme_pr</a><em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_fpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the given LBA to the given output stream. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code>: output stream used for printing </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lba</span></code>: the LBA to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-fprn">
<span id="sec-c-api-xnvme-func-xnvme-lba-fprn"></span><h3>xnvme_lba_fprn<a class="headerlink" href="#xnvme-lba-fprn" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_lba_fprn">
<span class="target" id="libxnvme__pp_8h_1a0248760fdc81a1c81919e4dfa2e2df2c"></span>int <code class="sig-name descname">xnvme_lba_fprn</code><span class="sig-paren">(</span>FILE *<em> stream</em>, const uint64_t *<em> lba</em>, uint16_t<em> nlb</em>, enum  <a class="reference internal" href="#c.xnvme_pr" title="xnvme_pr">xnvme_pr</a><em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_fprn" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the given list of Logical Block Addresses (LBAs)to the given output stream. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code>: output stream used for printing </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lba</span></code>: Pointer to an array of LBAs to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nlb</span></code>: Number of LBAs to print from the given list </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-pr">
<span id="sec-c-api-xnvme-func-xnvme-lba-pr"></span><h3>xnvme_lba_pr<a class="headerlink" href="#xnvme-lba-pr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_lba_pr">
<span class="target" id="libxnvme__pp_8h_1a84b4b42c945df3709b50404f3ed273e1"></span>int <code class="sig-name descname">xnvme_lba_pr</code><span class="sig-paren">(</span>uint64_t<em> lba</em>, enum  <a class="reference internal" href="#c.xnvme_pr" title="xnvme_pr">xnvme_pr</a><em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_pr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the given Logical Block Addresses (LBA) to stdout. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lba</span></code>: the LBA to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-prn">
<span id="sec-c-api-xnvme-func-xnvme-lba-prn"></span><h3>xnvme_lba_prn<a class="headerlink" href="#xnvme-lba-prn" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_lba_prn">
<span class="target" id="libxnvme__pp_8h_1a413b2f1412221c5573eb7ae49d950df9"></span>int <code class="sig-name descname">xnvme_lba_prn</code><span class="sig-paren">(</span>const uint64_t *<em> lba</em>, uint16_t<em> nlb</em>, enum  <a class="reference internal" href="#c.xnvme_pr" title="xnvme_pr">xnvme_pr</a><em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_prn" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a list of Logical Block Addresses (LBAs) </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lba</span></code>: Pointer to an array of LBAs to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nlb</span></code>: Length of the array in items </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: Printer options</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-range-fpr">
<span id="sec-c-api-xnvme-func-xnvme-lba-range-fpr"></span><h3>xnvme_lba_range_fpr<a class="headerlink" href="#xnvme-lba-range-fpr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_lba_range_fpr">
<span class="target" id="libxnvme__lba_8h_1ae2c4e78e695dd71606c9c7c194ef42a0"></span>int <code class="sig-name descname">xnvme_lba_range_fpr</code><span class="sig-paren">(</span>FILE *<em> stream</em>, struct  <a class="reference internal" href="#c.xnvme_lba_range" title="xnvme_lba_range">xnvme_lba_range</a>  *<em> range</em>, int<em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_range_fpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the given backend attribute to the given output stream. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code>: output stream used for printing </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">range</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__lba__range"><span class="std std-ref">xnvme_lba_range</span></a> to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-range-from-offset-nbytes">
<span id="sec-c-api-xnvme-func-xnvme-lba-range-from-offset-nbytes"></span><h3>xnvme_lba_range_from_offset_nbytes<a class="headerlink" href="#xnvme-lba-range-from-offset-nbytes" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_lba_range_from_offset_nbytes">
<span class="target" id="libxnvme__lba_8h_1a3eceda0f330124a328bb606a0396e163"></span>struct <a class="reference internal" href="#c.xnvme_lba_range" title="xnvme_lba_range">xnvme_lba_range</a> <code class="sig-name descname">xnvme_lba_range_from_offset_nbytes</code><span class="sig-paren">(</span>struct  xnvme_dev  *<em> dev</em>, uint64_t<em> offset</em>, uint64_t<em> nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_range_from_offset_nbytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes a range starting at the given byte-offset and spanning nbytes. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, an initialized range is returned by value with attr.is_valid = 1. On error, a potential non, or partially, initialized struct is returned by value with attr.is_valid = 0. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1a25bad861462fe56a17cfb20787a97723"><span class="std std-ref">xnvme_dev_open()</span></a> / <a class="reference internal" href="xnvme_dev.html#libxnvme__dev_8h_1a634658635877439481933c923915d7b0"><span class="std std-ref">xnvme_dev_openf()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">offset</span></code>: Offset in bytes satisfying offset &lt; capacity </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbytes</span></code>: Number of bytes, satisfying offset + nbytes &lt; capacity</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-range-from-slba-elba">
<span id="sec-c-api-xnvme-func-xnvme-lba-range-from-slba-elba"></span><h3>xnvme_lba_range_from_slba_elba<a class="headerlink" href="#xnvme-lba-range-from-slba-elba" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_lba_range_from_slba_elba">
<span class="target" id="libxnvme__lba_8h_1a6085f6555bdd9c068d3f46a28516fbab"></span>struct <a class="reference internal" href="#c.xnvme_lba_range" title="xnvme_lba_range">xnvme_lba_range</a> <code class="sig-name descname">xnvme_lba_range_from_slba_elba</code><span class="sig-paren">(</span>struct  xnvme_dev  *<em> dev</em>, uint64_t<em> slba</em>, uint64_t<em> elba</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_range_from_slba_elba" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes a range starting at the given start-lba (slba) and spanning naddrs. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, an initialized range is returned by value with attr.is_valid = 1. On error, a potential non, or partially, initialized struct is returned by value with attr.is_valid = 0. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1a25bad861462fe56a17cfb20787a97723"><span class="std std-ref">xnvme_dev_open()</span></a> / <a class="reference internal" href="xnvme_dev.html#libxnvme__dev_8h_1a634658635877439481933c923915d7b0"><span class="std std-ref">xnvme_dev_openf()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">slba</span></code>: A valid lba on the given dev </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">elba</span></code>: A valid lba on the given dev</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-range-from-slba-naddrs">
<span id="sec-c-api-xnvme-func-xnvme-lba-range-from-slba-naddrs"></span><h3>xnvme_lba_range_from_slba_naddrs<a class="headerlink" href="#xnvme-lba-range-from-slba-naddrs" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_lba_range_from_slba_naddrs">
<span class="target" id="libxnvme__lba_8h_1ade9982b041683555133b64cd70aa1cbc"></span>struct <a class="reference internal" href="#c.xnvme_lba_range" title="xnvme_lba_range">xnvme_lba_range</a> <code class="sig-name descname">xnvme_lba_range_from_slba_naddrs</code><span class="sig-paren">(</span>struct  xnvme_dev  *<em> dev</em>, uint64_t<em> slba</em>, uint64_t<em> naddrs</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_range_from_slba_naddrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes a range starting at the given start-lba (slba) and spanning naddrs. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, an initialized range is returned by value with attr.is_valid = 1. On error, a potential non, or partially, initialized struct is returned by value with attr.is_valid = 0. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1a25bad861462fe56a17cfb20787a97723"><span class="std std-ref">xnvme_dev_open()</span></a> / <a class="reference internal" href="xnvme_dev.html#libxnvme__dev_8h_1a634658635877439481933c923915d7b0"><span class="std std-ref">xnvme_dev_openf()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">slba</span></code>: A valid lba on the given dev </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">naddrs</span></code>: A non-zero number of addresses, satisfying slba + naddrs &lt; device capacity</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-range-from-zdescr">
<span id="sec-c-api-xnvme-func-xnvme-lba-range-from-zdescr"></span><h3>xnvme_lba_range_from_zdescr<a class="headerlink" href="#xnvme-lba-range-from-zdescr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_lba_range_from_zdescr">
<span class="target" id="libxnvme__lba_8h_1ac5c6b3f92c00c35dee69f3d056671357"></span>struct <a class="reference internal" href="#c.xnvme_lba_range" title="xnvme_lba_range">xnvme_lba_range</a> <code class="sig-name descname">xnvme_lba_range_from_zdescr</code><span class="sig-paren">(</span>struct  xnvme_dev  *<em> dev</em>, struct  <a class="reference internal" href="xnvme_spec.html#c.xnvme_spec_znd_descr" title="xnvme_spec_znd_descr">xnvme_spec_znd_descr</a>  *<em> zdescr</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_range_from_zdescr" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes a range starting at the given zone-start-LBA and spanning zone-capacity. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, an initialized range is returned by value with attr.is_valid = 1. On error, a potential non, or partially, initialized struct is returned by value with attr.is_valid = 0. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1a25bad861462fe56a17cfb20787a97723"><span class="std std-ref">xnvme_dev_open()</span></a> / <a class="reference internal" href="xnvme_dev.html#libxnvme__dev_8h_1a634658635877439481933c923915d7b0"><span class="std std-ref">xnvme_dev_openf()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdescr</span></code>: Pointer to a zone-descriptor valid on the given dev</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-lba-range-pr">
<span id="sec-c-api-xnvme-func-xnvme-lba-range-pr"></span><h3>xnvme_lba_range_pr<a class="headerlink" href="#xnvme-lba-range-pr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_lba_range_pr">
<span class="target" id="libxnvme__lba_8h_1aacab3f1baf6ca02e950ea7eaa9184562"></span>int <code class="sig-name descname">xnvme_lba_range_pr</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_lba_range" title="xnvme_lba_range">xnvme_lba_range</a>  *<em> range</em>, int<em> opts</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_lba_range_pr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the given backend attribute to stdout. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, the number of characters printed is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">range</span></code>: Pointer to the <a class="reference internal" href="#structxnvme__lba__range"><span class="std std-ref">xnvme_lba_range</span></a> to print </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: printer options, see <a class="reference internal" href="#libxnvme__pp_8h_1ad7d65365274d83d044921f00a0e54a21"><span class="std std-ref">xnvme_pr</span></a></p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-get-capacity">
<span id="sec-c-api-xnvme-func-xnvme-queue-get-capacity"></span><h3>xnvme_queue_get_capacity<a class="headerlink" href="#xnvme-queue-get-capacity" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_queue_get_capacity">
<span class="target" id="libxnvme_8h_1affe0dc6308216ef4c193a5911b7e1d22"></span>uint32_t <code class="sig-name descname">xnvme_queue_get_capacity</code><span class="sig-paren">(</span>struct  xnvme_queue  *<em> queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_get_capacity" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the capacity of the given xnvme_queue. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, capacity of given xnvme_queue text is returned. On error, 0 is returned e.g. errors are silent </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to query for capacity</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-get-cmd-ctx">
<span id="sec-c-api-xnvme-func-xnvme-queue-get-cmd-ctx"></span><h3>xnvme_queue_get_cmd_ctx<a class="headerlink" href="#xnvme-queue-get-cmd-ctx" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_queue_get_cmd_ctx">
<span class="target" id="libxnvme_8h_1ab97b95111f96550bb72f93d32a7a9448"></span>struct <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a>* <code class="sig-name descname">xnvme_queue_get_cmd_ctx</code><span class="sig-paren">(</span>struct  xnvme_queue  *<em> queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_get_cmd_ctx" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a command-context from the given queue for async. </p>
<p>command execution with the queue</p>
<p><dl class="simple">
<dt><strong>Note</strong></dt><dd><p>The command-context is managed by the queue, thus, return it to the queue via <a class="reference internal" href="#libxnvme_8h_1ade86028b3e7be7f5dd935f50f6a36121"><span class="std std-ref">xnvme_queue_put_cmd_ctx</span></a></p>
</dd>
<dt><strong>Note</strong></dt><dd><p>This is not thread-safe</p>
</dd>
<dt><strong>Return</strong></dt><dd><p>On success, a command-context is returned. On error, NULL is returned and <code class="docutils literal notranslate"><span class="pre">errno</span></code> is set to indicate the error. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to retrieve a command-context for</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-get-outstanding">
<span id="sec-c-api-xnvme-func-xnvme-queue-get-outstanding"></span><h3>xnvme_queue_get_outstanding<a class="headerlink" href="#xnvme-queue-get-outstanding" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_queue_get_outstanding">
<span class="target" id="libxnvme_8h_1ad2cfe6191abdf8ab276c94b4eabf5547"></span>uint32_t <code class="sig-name descname">xnvme_queue_get_outstanding</code><span class="sig-paren">(</span>struct  xnvme_queue  *<em> queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_get_outstanding" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of outstanding commands on the given xnvme_queue. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, number of outstanding commands are returned. On error, 0 is returned e.g. errors are silent </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to query for outstanding commands</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-init">
<span id="sec-c-api-xnvme-func-xnvme-queue-init"></span><h3>xnvme_queue_init<a class="headerlink" href="#xnvme-queue-init" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_queue_init">
<span class="target" id="libxnvme_8h_1a7dbb9f0cc2f52394b97af2f043758cb0"></span>int <code class="sig-name descname">xnvme_queue_init</code><span class="sig-paren">(</span>struct  xnvme_dev  *<em> dev</em>, uint16_t<em> capacity</em>, int<em> opts</em>, struct  xnvme_queue  **<em> queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate a Command Queue for asynchronous command submission and completion. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: Device handle (xnvme_dev) obtained with <a class="reference internal" href="xnvme_dev.html#libxnvme_8h_1a25bad861462fe56a17cfb20787a97723"><span class="std std-ref">xnvme_dev_open()</span></a> / <a class="reference internal" href="xnvme_dev.html#libxnvme__dev_8h_1a634658635877439481933c923915d7b0"><span class="std std-ref">xnvme_dev_openf()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">capacity</span></code>: Maximum number of outstanding commands on the initialized queue, note that it must be a power of 2 within the range [1,4096] </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opts</span></code>: Queue options </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer-pointer to the xnvme_queue to initialize</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-poke">
<span id="sec-c-api-xnvme-func-xnvme-queue-poke"></span><h3>xnvme_queue_poke<a class="headerlink" href="#xnvme-queue-poke" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_queue_poke">
<span class="target" id="libxnvme_8h_1ab354b24711b8c6038152a3c33764989d"></span>int <code class="sig-name descname">xnvme_queue_poke</code><span class="sig-paren">(</span>struct  xnvme_queue  *<em> queue</em>, uint32_t<em> max</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_poke" title="Permalink to this definition">¶</a></dt>
<dd><p>Process completions of commands on the given xnvme_queue. </p>
<p>Set process ‘max’ to limit number of completions, 0 means no max.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, number of completions processed, may be 0. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to poke for completions </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max</span></code>: The max number of completions to complete</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-put-cmd-ctx">
<span id="sec-c-api-xnvme-func-xnvme-queue-put-cmd-ctx"></span><h3>xnvme_queue_put_cmd_ctx<a class="headerlink" href="#xnvme-queue-put-cmd-ctx" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_queue_put_cmd_ctx">
<span class="target" id="libxnvme_8h_1ade86028b3e7be7f5dd935f50f6a36121"></span>int <code class="sig-name descname">xnvme_queue_put_cmd_ctx</code><span class="sig-paren">(</span>struct  xnvme_queue  *<em> queue</em>, struct  <a class="reference internal" href="#c.xnvme_cmd_ctx" title="xnvme_cmd_ctx">xnvme_cmd_ctx</a>  *<em> ctx</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_put_cmd_ctx" title="Permalink to this definition">¶</a></dt>
<dd><p>Hand back a command-context previously retrieve using <a class="reference internal" href="#libxnvme_8h_1ab97b95111f96550bb72f93d32a7a9448"><span class="std std-ref">xnvme_queue_get_cmd_ctx</span></a>. </p>
<p><dl class="simple">
<dt><strong>Note</strong></dt><dd><p>This function is not thread-safe</p>
</dd>
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to hand back the command-context to </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ctx</span></code>: Pointer to command context (<a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a>)</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-set-cb">
<span id="sec-c-api-xnvme-func-xnvme-queue-set-cb"></span><h3>xnvme_queue_set_cb<a class="headerlink" href="#xnvme-queue-set-cb" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_queue_set_cb">
<span class="target" id="libxnvme_8h_1a7b16efbcc5f83d914d93b9da9425b8e5"></span>int <code class="sig-name descname">xnvme_queue_set_cb</code><span class="sig-paren">(</span>struct  xnvme_queue  *<em> queue</em>, xnvme_queue_cb<em> cb</em>, void *<em> cb_arg</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_set_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a callback-function and argument to be used with the <a class="reference internal" href="#structxnvme__cmd__ctx"><span class="std std-ref">xnvme_cmd_ctx</span></a> of the queue. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: The xnvme_queue to assign default callback function for </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb</span></code>: The callback function to use </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb_arg</span></code>: The callback argument to use</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-term">
<span id="sec-c-api-xnvme-func-xnvme-queue-term"></span><h3>xnvme_queue_term<a class="headerlink" href="#xnvme-queue-term" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_queue_term">
<span class="target" id="libxnvme_8h_1aaadd62c08f500eb40e872373e0579bbf"></span>int <code class="sig-name descname">xnvme_queue_term</code><span class="sig-paren">(</span>struct  xnvme_queue  *<em> queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_term" title="Permalink to this definition">¶</a></dt>
<dd><p>Tear down the given xnvme_queue. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, 0 is returned. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to tear down</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-queue-wait">
<span id="sec-c-api-xnvme-func-xnvme-queue-wait"></span><h3>xnvme_queue_wait<a class="headerlink" href="#xnvme-queue-wait" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_queue_wait">
<span class="target" id="libxnvme_8h_1afc7e44345e6cd351f93f1758123eca90"></span>int <code class="sig-name descname">xnvme_queue_wait</code><span class="sig-paren">(</span>struct  xnvme_queue  *<em> queue</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_queue_wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for completion of all outstanding commands in the given xnvme_queue. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>On success, number of completions processed, may be 0. On error, negative <code class="docutils literal notranslate"><span class="pre">errno</span></code> is returned. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue</span></code>: Pointer to the xnvme_queue to wait for completions on</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-bw-pr">
<span id="sec-c-api-xnvme-func-xnvme-timer-bw-pr"></span><h3>xnvme_timer_bw_pr<a class="headerlink" href="#xnvme-timer-bw-pr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_timer_bw_pr">
<span class="target" id="libxnvme__util_8h_1aa6e8d645793f68f9844c1d8f1aad3138"></span>static void <code class="sig-name descname">xnvme_timer_bw_pr</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a>  *<em> t</em>, const char *<em> prefix</em>, size_t<em> nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_bw_pr" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the elapsed time in seconds and the associated data rate in MB/s. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prefix</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbytes</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-elapsed">
<span id="sec-c-api-xnvme-func-xnvme-timer-elapsed"></span><h3>xnvme_timer_elapsed<a class="headerlink" href="#xnvme-timer-elapsed" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_timer_elapsed">
<span class="target" id="libxnvme__util_8h_1aadbb66d3a98d4aaf1d01579c762961b9"></span>static double <code class="sig-name descname">xnvme_timer_elapsed</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a>  *<em> t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_elapsed" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the elapsed time in seconds. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>elapsed time in seconds as a floating point number </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-elapsed-msecs">
<span id="sec-c-api-xnvme-func-xnvme-timer-elapsed-msecs"></span><h3>xnvme_timer_elapsed_msecs<a class="headerlink" href="#xnvme-timer-elapsed-msecs" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_timer_elapsed_msecs">
<span class="target" id="libxnvme__util_8h_1a22dbf6c25056dedc31c5184c8c030115"></span>static double <code class="sig-name descname">xnvme_timer_elapsed_msecs</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a>  *<em> t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_elapsed_msecs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the elapsed time in milliseconds. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>elapsed time in milliseconds as a floating point number </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-elapsed-nsecs">
<span id="sec-c-api-xnvme-func-xnvme-timer-elapsed-nsecs"></span><h3>xnvme_timer_elapsed_nsecs<a class="headerlink" href="#xnvme-timer-elapsed-nsecs" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_timer_elapsed_nsecs">
<span class="target" id="libxnvme__util_8h_1a2313c263fb0fe7fad565e841a1c889e5"></span>static uint64_t <code class="sig-name descname">xnvme_timer_elapsed_nsecs</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a>  *<em> t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_elapsed_nsecs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the elapsed time in nanoseconds. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>elapsed time in nanoseconds </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-elapsed-secs">
<span id="sec-c-api-xnvme-func-xnvme-timer-elapsed-secs"></span><h3>xnvme_timer_elapsed_secs<a class="headerlink" href="#xnvme-timer-elapsed-secs" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_timer_elapsed_secs">
<span class="target" id="libxnvme__util_8h_1ab6fb4a91dde1e29f859004766f6f13f6"></span>static double <code class="sig-name descname">xnvme_timer_elapsed_secs</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a>  *<em> t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_elapsed_secs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the elapsed time in seconds. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>elapsed time in seconds as a floating point number </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-elapsed-usecs">
<span id="sec-c-api-xnvme-func-xnvme-timer-elapsed-usecs"></span><h3>xnvme_timer_elapsed_usecs<a class="headerlink" href="#xnvme-timer-elapsed-usecs" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_timer_elapsed_usecs">
<span class="target" id="libxnvme__util_8h_1aa0ad75e6f5a3927d6813fd75230841f2"></span>static double <code class="sig-name descname">xnvme_timer_elapsed_usecs</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a>  *<em> t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_elapsed_usecs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the elapsed time in microseconds. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>elapsed time in microseconds as a floating point number </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-pr">
<span id="sec-c-api-xnvme-func-xnvme-timer-pr"></span><h3>xnvme_timer_pr<a class="headerlink" href="#xnvme-timer-pr" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_timer_pr">
<span class="target" id="libxnvme__util_8h_1a3941a1de06e8f337d8c57dbebd01b00e"></span>static void <code class="sig-name descname">xnvme_timer_pr</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a>  *<em> t</em>, const char *<em> prefix</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_pr" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the elapsed time in seconds as a floating point number. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prefix</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-start">
<span id="sec-c-api-xnvme-func-xnvme-timer-start"></span><h3>xnvme_timer_start<a class="headerlink" href="#xnvme-timer-start" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_timer_start">
<span class="target" id="libxnvme__util_8h_1ae8d91d84a8746585009d9782d9b4442f"></span>static uint64_t <code class="sig-name descname">xnvme_timer_start</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a>  *<em> t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the given timer. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>clock sample in nano seconds </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="xnvme-timer-stop">
<span id="sec-c-api-xnvme-func-xnvme-timer-stop"></span><h3>xnvme_timer_stop<a class="headerlink" href="#xnvme-timer-stop" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.xnvme_timer_stop">
<span class="target" id="libxnvme__util_8h_1a51f49d6e70c591975062398bbd568774"></span>static uint64_t <code class="sig-name descname">xnvme_timer_stop</code><span class="sig-paren">(</span>struct  <a class="reference internal" href="#c.xnvme_timer" title="xnvme_timer">xnvme_timer</a>  *<em> t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.xnvme_timer_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the given timer. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>clock sample in nano seconds </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="xnvme_file.html" class="btn btn-neutral float-right" title="xnvme_file" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="C API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, xNVMe

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-159785887-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>